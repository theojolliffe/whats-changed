var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function r(e){e.forEach(t)}function o(e){return"function"==typeof e}function a(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let i,l;function s(e,t){return i||(i=document.createElement("a")),i.href=t,e===i.href}function c(e,t){e.appendChild(t)}function u(e,t,n){e.insertBefore(t,n||null)}function d(e){e.parentNode.removeChild(e)}function f(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function h(e){return document.createElement(e)}function p(e){return document.createTextNode(e)}function g(){return p(" ")}function m(){return p("")}function y(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function v(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function x(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function w(e,t){e.value=null==t?"":t}function b(e,t,n,r){e.style.setProperty(t,n,r?"important":"")}function $(e,t,n){e.classList[n?"add":"remove"](t)}class k{constructor(){this.e=this.n=null}c(e){this.h(e)}m(e,t,n=null){this.e||(this.e=h(t.nodeName),this.t=t,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)u(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(d)}}function _(e){l=e}function C(){if(!l)throw new Error("Function called outside component initialization");return l}function N(){const e=C();return(t,n)=>{const r=e.$$.callbacks[t];if(r){const o=function(e,t,n=!1){const r=document.createEvent("CustomEvent");return r.initCustomEvent(e,n,!1,t),r}(t,n);r.slice().forEach((t=>{t.call(e,o)}))}}}const j=[],E=[],T=[],M=[],S=Promise.resolve();let O=!1;function R(e){T.push(e)}let A=!1;const q=new Set;function F(){if(!A){A=!0;do{for(let e=0;e<j.length;e+=1){const t=j[e];_(t),z(t.$$)}for(_(null),j.length=0;E.length;)E.pop()();for(let e=0;e<T.length;e+=1){const t=T[e];q.has(t)||(q.add(t),t())}T.length=0}while(j.length);for(;M.length;)M.pop()();O=!1,A=!1,q.clear()}}function z(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(R)}}const K=new Set;let D;function P(){D={r:0,c:[],p:D}}function W(){D.r||r(D.c),D=D.p}function U(e,t){e&&e.i&&(K.delete(e),e.i(t))}function I(e,t,n,r){if(e&&e.o){if(K.has(e))return;K.add(e),D.c.push((()=>{K.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}}const B="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function L(e){e&&e.c()}function H(e,n,a,i){const{fragment:l,on_mount:s,on_destroy:c,after_update:u}=e.$$;l&&l.m(n,a),i||R((()=>{const n=s.map(t).filter(o);c?c.push(...n):r(n),e.$$.on_mount=[]})),u.forEach(R)}function J(e,t){const n=e.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function V(e,t){-1===e.$$.dirty[0]&&(j.push(e),O||(O=!0,S.then(F)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Z(t,o,a,i,s,c,u,f=[-1]){const h=l;_(t);const p=t.$$={fragment:null,ctx:null,props:c,update:e,not_equal:s,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o.context||(h?h.$$.context:[])),callbacks:n(),dirty:f,skip_bound:!1,root:o.target||h.$$.root};u&&u(p.root);let g=!1;if(p.ctx=a?a(t,o.props||{},((e,n,...r)=>{const o=r.length?r[0]:n;return p.ctx&&s(p.ctx[e],p.ctx[e]=o)&&(!p.skip_bound&&p.bound[e]&&p.bound[e](o),g&&V(t,e)),n})):[],p.update(),g=!0,r(p.before_update),p.fragment=!!i&&i(p.ctx),o.target){if(o.hydrate){const e=function(e){return Array.from(e.childNodes)}(o.target);p.fragment&&p.fragment.l(e),e.forEach(d)}else p.fragment&&p.fragment.c();o.intro&&U(t.$$.fragment),H(t,o.target,o.anchor,o.customElement),F()}_(h)}class Y{$destroy(){J(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}var G={},Q={};function X(e){return new Function("d","return {"+e.map((function(e,t){return JSON.stringify(e)+": d["+t+'] || ""'})).join(",")+"}")}function ee(e){var t=Object.create(null),n=[];return e.forEach((function(e){for(var r in e)r in t||n.push(t[r]=r)})),n}function te(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function ne(e){var t,n=e.getUTCHours(),r=e.getUTCMinutes(),o=e.getUTCSeconds(),a=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":((t=e.getUTCFullYear())<0?"-"+te(-t,6):t>9999?"+"+te(t,6):te(t,4))+"-"+te(e.getUTCMonth()+1,2)+"-"+te(e.getUTCDate(),2)+(a?"T"+te(n,2)+":"+te(r,2)+":"+te(o,2)+"."+te(a,3)+"Z":o?"T"+te(n,2)+":"+te(r,2)+":"+te(o,2)+"Z":r||n?"T"+te(n,2)+":"+te(r,2)+"Z":"")}var re=function(e){var t=new RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function r(e,t){var r,o=[],a=e.length,i=0,l=0,s=a<=0,c=!1;function u(){if(s)return Q;if(c)return c=!1,G;var t,r,o=i;if(34===e.charCodeAt(o)){for(;i++<a&&34!==e.charCodeAt(i)||34===e.charCodeAt(++i););return(t=i)>=a?s=!0:10===(r=e.charCodeAt(i++))?c=!0:13===r&&(c=!0,10===e.charCodeAt(i)&&++i),e.slice(o+1,t-1).replace(/""/g,'"')}for(;i<a;){if(10===(r=e.charCodeAt(t=i++)))c=!0;else if(13===r)c=!0,10===e.charCodeAt(i)&&++i;else if(r!==n)continue;return e.slice(o,t)}return s=!0,e.slice(o,a)}for(10===e.charCodeAt(a-1)&&--a,13===e.charCodeAt(a-1)&&--a;(r=u())!==Q;){for(var d=[];r!==G&&r!==Q;)d.push(r),r=u();t&&null==(d=t(d,l++))||o.push(d)}return o}function o(t,n){return t.map((function(t){return n.map((function(e){return i(t[e])})).join(e)}))}function a(t){return t.map(i).join(e)}function i(e){return null==e?"":e instanceof Date?ne(e):t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}return{parse:function(e,t){var n,o,a=r(e,(function(e,r){if(n)return n(e,r-1);o=e,n=t?function(e,t){var n=X(e);return function(r,o){return t(n(r),o,e)}}(e,t):X(e)}));return a.columns=o||[],a},parseRows:r,format:function(t,n){return null==n&&(n=ee(t)),[n.map(i).join(e)].concat(o(t,n)).join("\n")},formatBody:function(e,t){return null==t&&(t=ee(e)),o(e,t).join("\n")},formatRows:function(e){return e.map(a).join("\n")},formatRow:a,formatValue:i}}(","),oe=re.parse;function ae(e){for(var t in e){var n,r,o=e[t].trim();if(o)if("true"===o)o=!0;else if("false"===o)o=!1;else if("NaN"===o)o=NaN;else if(isNaN(n=+o)){if(!(r=o.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;ie&&r[4]&&!r[7]&&(o=o.replace(/-/g,"/").replace(/T/," ")),o=new Date(o)}else o=n;else o=null;e[t]=o}return e}const ie=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();let le=["South East","South West","East","West Midlands","East Midlands","North East","North West"];function se(e,t){return"East"==e&&(e+=" England"),!le.includes(e)|"NT"==t?e:"The "+e}function ce(e){return"The"==e.slice(0,3)?e.charAt(0).toLowerCase()+e.slice(1):e}function ue(e,t,n){const r=e.slice();return r[32]=t[n],r[35]=t,r[34]=n,r}function de(e,t,n){const r=e.slice();return r[32]=t[n],r[33]=t,r[34]=n,r}function fe(e){let t,n,r,o,a,i,l,s=(e[0]?e[0]:"Select one")+"";return{c(){t=h("a"),n=h("span"),r=p(s),o=g(),a=h("span"),a.textContent=" ",v(n,"class","svelte-qdzmwx"),v(a,"class","button svelte-qdzmwx"),$(a,"search",e[3]),$(a,"down",!e[3]),v(t,"id","toggle"),v(t,"class","svelte-qdzmwx")},m(s,d){u(s,t,d),c(t,n),c(n,r),c(t,o),c(t,a),i||(l=y(t,"click",e[12]),i=!0)},p(e,t){1&t[0]&&s!==(s=(e[0]?e[0]:"Select one")+"")&&x(r,s),8&t[0]&&$(a,"search",e[3]),8&t[0]&&$(a,"down",!e[3])},d(e){e&&d(t),i=!1,l()}}}function he(e){let t,n,o,a,i,l,s,f,m=e[6][e[1]]+"",w=e[2]&&pe(e);return{c(){t=h("a"),n=h("span"),o=p(m),a=g(),w&&w.c(),i=g(),l=h("span"),l.textContent=" ",v(n,"class","selection svelte-qdzmwx"),v(l,"class","button close svelte-qdzmwx"),v(t,"id","toggle"),v(t,"class","selected svelte-qdzmwx")},m(r,d){u(r,t,d),c(t,n),c(n,o),c(n,a),w&&w.m(n,null),c(t,i),c(t,l),s||(f=[y(l,"click",e[14]),y(t,"click",e[12])],s=!0)},p(e,t){66&t[0]&&m!==(m=e[6][e[1]]+"")&&x(o,m),e[2]?w?w.p(e,t):(w=pe(e),w.c(),w.m(n,null)):w&&(w.d(1),w=null)},d(e){e&&d(t),w&&w.d(),s=!1,r(f)}}}function pe(e){let t,n,r=e[6][e[2]]+"";return{c(){t=h("small"),n=p(r),v(t,"class","svelte-qdzmwx")},m(e,r){u(e,t,r),c(t,n)},p(e,t){68&t[0]&&r!==(r=e[6][e[2]]+"")&&x(n,r)},d(e){e&&d(t)}}}function ge(e){let t,n,o,a,i,l;function s(e,t){return e[4].length<3?xe:e[9][0]&&e[2]?ve:e[9][0]?ye:me}let f=s(e),p=f(e);return{c(){t=h("div"),n=h("input"),o=g(),a=h("ul"),p.c(),v(n,"type","text"),v(n,"placeholder",""),v(n,"autocomplete","false"),v(n,"class","svelte-qdzmwx"),v(a,"class","svelte-qdzmwx"),v(t,"id","dropdown"),b(t,"top","0"),v(t,"class","svelte-qdzmwx")},m(r,s){u(r,t,s),c(t,n),w(n,e[4]),e[23](n),c(t,o),c(t,a),p.m(a,null),e[30](t),i||(l=[y(n,"input",e[22]),y(n,"keyup",e[16])],i=!0)},p(e,t){16&t[0]&&n.value!==e[4]&&w(n,e[4]),f===(f=s(e))&&p?p.p(e,t):(p.d(1),p=f(e),p&&(p.c(),p.m(a,null)))},d(n){n&&d(t),e[23](null),p.d(),e[30](null),i=!1,r(l)}}}function me(t){let n;return{c(){n=h("li"),n.textContent="No results",v(n,"class","svelte-qdzmwx")},m(e,t){u(e,n,t)},p:e,d(e){e&&d(n)}}}function ye(e){let t,n=e[9],r=[];for(let t=0;t<n.length;t+=1)r[t]=we(ue(e,n,t));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=m()},m(e,n){for(let t=0;t<r.length;t+=1)r[t].m(e,n);u(e,t,n)},p(e,o){if(11010&o[0]){let a;for(n=e[9],a=0;a<n.length;a+=1){const i=ue(e,n,a);r[a]?r[a].p(i,o):(r[a]=we(i),r[a].c(),r[a].m(t.parentNode,t))}for(;a<r.length;a+=1)r[a].d(1);r.length=n.length}},d(e){f(r,e),e&&d(t)}}}function ve(e){let t,n=e[9],r=[];for(let t=0;t<n.length;t+=1)r[t]=be(de(e,n,t));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=m()},m(e,n){for(let t=0;t<r.length;t+=1)r[t].m(e,n);u(e,t,n)},p(e,o){if(11014&o[0]){let a;for(n=e[9],a=0;a<n.length;a+=1){const i=de(e,n,a);r[a]?r[a].p(i,o):(r[a]=be(i),r[a].c(),r[a].m(t.parentNode,t))}for(;a<r.length;a+=1)r[a].d(1);r.length=n.length}},d(e){f(r,e),e&&d(t)}}}function xe(t){let n;return{c(){n=h("li"),n.textContent="Type a name...",v(n,"class","svelte-qdzmwx")},m(e,t){u(e,n,t)},p:e,d(e){e&&d(n)}}}function we(e){let t,n,o,a,i,l=e[32][e[1]]+"",s=e[34];function f(){return e[27](e[32])}function m(){return e[28](e[34])}const w=()=>e[29](t,s),b=()=>e[29](null,s);return{c(){t=h("li"),n=p(l),o=g(),v(t,"class","svelte-qdzmwx"),$(t,"highlight",e[8]==e[34])},m(e,r){u(e,t,r),c(t,n),c(t,o),w(),a||(i=[y(t,"click",f),y(t,"mouseover",m)],a=!0)},p(r,o){e=r,514&o[0]&&l!==(l=e[32][e[1]]+"")&&x(n,l),s!==e[34]&&(b(),s=e[34],w()),256&o[0]&&$(t,"highlight",e[8]==e[34])},d(e){e&&d(t),b(),a=!1,r(i)}}}function be(e){let t,n,o,a,i,l,s,f,m=e[32][e[1]]+"",w=e[32][e[2]]+"",b=e[34];function k(){return e[24](e[32])}function _(){return e[25](e[34])}const C=()=>e[26](t,b),N=()=>e[26](null,b);return{c(){t=h("li"),n=p(m),o=g(),a=h("small"),i=p(w),l=g(),v(a,"class","svelte-qdzmwx"),v(t,"class","svelte-qdzmwx"),$(t,"highlight",e[8]==e[34])},m(e,r){u(e,t,r),c(t,n),c(t,o),c(t,a),c(a,i),c(t,l),C(),s||(f=[y(t,"click",k),y(t,"mouseover",_)],s=!0)},p(r,o){e=r,514&o[0]&&m!==(m=e[32][e[1]]+"")&&x(n,m),516&o[0]&&w!==(w=e[32][e[2]]+"")&&x(i,w),b!==e[34]&&(N(),b=e[34],C()),256&o[0]&&$(t,"highlight",e[8]==e[34])},d(e){e&&d(t),N(),s=!1,r(f)}}}function $e(t){let n,r,o,a;function i(e,t){return e[6]&&!e[3]?he:fe}let l=i(t),s=l(t),f=t[7]&&ge(t);return{c(){n=h("div"),s.c(),r=g(),f&&f.c(),v(n,"id","select"),v(n,"class","svelte-qdzmwx"),$(n,"active",t[7])},m(e,i){u(e,n,i),s.m(n,null),c(n,r),f&&f.m(n,null),o||(a=y(n,"keydown",t[15]),o=!0)},p(e,t){l===(l=i(e))&&s?s.p(e,t):(s.d(1),s=l(e),s&&(s.c(),s.m(n,r))),e[7]?f?f.p(e,t):(f=ge(e),f.c(),f.m(n,null)):f&&(f.d(1),f=null),128&t[0]&&$(n,"active",e[7])},i:e,o:e,d(e){e&&d(n),s.d(),f&&f.d(),o=!1,a()}}}function ke(e,t,n){let r;const o=N();let a,i,l,{options:s}=t,{selected:c=null}=t,{placeholder:u="Find an area..."}=t,{value:d="code"}=t,{label:f="name"}=t,{group:h=null}=t,{search:p=!1}=t,g=c,m=c?s.find((e=>{e[d],c[d]})):null,y=!1,v="",x=null,w=[];function b(e){n(17,c=e),n(7,y=!1),o("select",{selected:e,value:e[d]})}return e.$$set=e=>{"options"in e&&n(18,s=e.options),"selected"in e&&n(17,c=e.selected),"placeholder"in e&&n(0,u=e.placeholder),"value"in e&&n(19,d=e.value),"label"in e&&n(1,f=e.label),"group"in e&&n(2,h=e.group),"search"in e&&n(3,p=e.search)},e.$$.update=()=>{16&e.$$.dirty[0]&&n(21,r=v?new RegExp(v,"i"):null),2359298&e.$$.dirty[0]&&(n(9,a=r?s.filter((e=>r.test(e[f]))):s),n(8,x=0)),32&e.$$.dirty[0]&&(document.onclick=function(e){e.target!==i&&(n(7,y=!1),n(8,x=0))}),1966080&e.$$.dirty[0]&&g!=c&&(n(6,m=s.find((e=>e[d]==c[d]))),n(20,g=c))},[u,f,h,p,v,i,m,y,x,a,l,w,function(e){var t;e.stopPropagation(),n(4,v=""),n(7,y=!y),(t=10,new Promise((e=>setTimeout(e,t)))).then((()=>{l&&y&&l.focus()}))},b,function(e){e.stopPropagation(),n(17,c=null),n(20,g=null),n(6,m=null),o("select",{selected:null,value:null})},function(e){y&&a[0]&&Number.isInteger(x)&&(38===e.keyCode?(n(8,x-=x>0?1:0),w[x].scrollIntoView({block:"nearest",inline:"start"})):40===e.keyCode&&(n(8,x+=x<a.length-1?1:0),w[x].scrollIntoView({block:"nearest",inline:"end"})))},function(e){a[0]&&Number.isInteger(x)&&13===e.keyCode&&b(a[x])},c,s,d,g,r,function(){v=this.value,n(4,v)},function(e){E[e?"unshift":"push"]((()=>{l=e,n(10,l)}))},e=>b(e),e=>n(8,x=e),function(e,t){E[e?"unshift":"push"]((()=>{w[t]=e,n(11,w)}))},e=>b(e),e=>n(8,x=e),function(e,t){E[e?"unshift":"push"]((()=>{w[t]=e,n(11,w)}))},function(e){E[e?"unshift":"push"]((()=>{i=e,n(5,i)}))}]}class _e extends Y{constructor(e){super(),Z(this,e,ke,$e,a,{options:18,selected:17,placeholder:0,value:19,label:1,group:2,search:3},null,[-1,-1])}}function Ce(t){let n;return{c(){n=h("div"),n.innerHTML="<strong>Warning!</strong> This is a prototype. Data likely to contain inaccuracies.",v(n,"class","warning svelte-srzfvi")},m(e,t){u(e,n,t)},p:e,i:e,o:e,d(e){e&&d(n)}}}class Ne extends Y{constructor(e){super(),Z(this,e,null,Ce,a,{})}}var je="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var Ee,Te,Me=(Ee=function(e,t){(function(){var n={load:function(e,t){var n,r,o,a="\\u0000\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u200B\\u2028\\u2029\\u202F\\u205F\\u3000\\uFEFF\\u005B\\u005C\\u005D\\u007B\\u007D\\u003A",i=new RegExp(".*((\r|\n)+)"),l=new RegExp("^\\s*([^"+a+"]+)[ \t\r]*:[ \t\r]*(.*(?:\n|\r|$))"),s=new RegExp("^\\s*:[ \t\r]*(endskip|ignore|skip|end).*?(\n|\r|$)","i"),c=new RegExp("^\\s*\\*[ \t\r]*(.*(?:\n|\r|$))"),u=new RegExp("^\\s*(\\[|\\{)[ \t\r]*([+.]*)[ \t\r]*([^"+a+"]*)[ \t\r]*(?:\\]|\\}).*?(\n|\r|$)"),d={},f=d,h=[],p=void 0,g=null,m=null,y="",v=!1;for(!0!==(t=t||{}).comments&&(t.comments=!1);e;){var x;s.exec(e)?w((x=s.exec(e))[1].toLowerCase()):v||!l.exec(e)||p&&"simple"===p.arrayType?!v&&c.exec(e)&&p&&p.array&&"complex"!==p.arrayType&&"freeform"!==p.arrayType&&p.flags.indexOf("+")<0?(o=(x=c.exec(e))[1],C(),p.arrayType=p.arrayType||"simple",p.array.push(""),m=p.array,y=o,N(p.array,{replace:!0})):!v&&u.exec(e)?b((x=u.exec(e))[1],x[2],x[3]):i.exec(e)?$((x=i.exec(e))[0]):($(e),e=""):(n=(x=l.exec(e))[1],r=x[2]||"",C(),k(n),p&&p.flags.indexOf("+")>-1&&(n="value"),m=n,y=r,N(n,{replace:!0})),x&&(e=e.substring(x[0].length))}function w(t){if(v&&"endskip"!==t&&"ignore"!==t)return C();switch(t){case"end":return void(m&&N(m,{replace:!1}));case"ignore":e="";break;case"skip":v=!0;break;case"endskip":v=!1}C()}function b(e,t,n){if(C(),""==n){var r=h.pop();f=(r?r.scope:d)||d,p=h[h.length-1]}else if("["===e||"{"===e){var o=!1,a=d;if(t.indexOf(".")>-1?(k(n),o=!0,p&&(a=f)):(f=d,h=[]),p&&p.flags.indexOf("+")>-1)var i=n;else{for(var l=n.split("."),s=0;s<l.length-1;s++)a=a[l[s]]=a[l[s]]||{};i=l[l.length-1]}var c={array:null,arrayType:null,arrayFirstKey:null,flags:t,scope:f},u=p&&p.flags.indexOf("+")>-1&&t.indexOf(".")>-1;"["==e?(u&&(i="value"),c.array=a[i]=[],t.indexOf("+")>-1&&(c.arrayType="freeform"),o?h.push(c):h=[c],p=h[h.length-1]):"{"==e&&(o?(f=u?f.value={}:a[i]=a={},h.push(c)):(f=a[i]="object"==typeof a[i]?a[i]:{},h=[c]),p=h[h.length-1])}}function $(t){p&&p.flags.indexOf("+")>-1&&t.match(/[^\n\r\s]/)?p.array.push({type:"text",value:t.replace(/(^\s*)|(\s*$)/g,"")}):y+=e.substring(0,t.length)}function k(e){if(p&&p.array){if(p.arrayType=p.arrayType||"complex","simple"===p.arrayType)return;null!==p.arrayFirstKey&&p.arrayFirstKey!==e||p.array.push(f={}),p.flags.indexOf("+")>-1?f.type=e:p.arrayFirstKey=p.arrayFirstKey||e}}function _(e,n){return t.comments&&(e=(e=e.replace(/(?:^\\)?\[[^\[\]\n\r]*\](?!\])/gm,"")).replace(/\[\[([^\[\]\n\r]*)\]\]/g,"[$1]")),"append"==n&&(e=e.replace(new RegExp("^(\\s*)\\\\","gm"),"$1")),e}function C(){var e=y+"";return y="",m=null,e}function N(e,t){t=t||{};var n=m,r=C();if(t.replace?(r=_(r,"replace").replace(new RegExp("^\\s*"),""),y=new RegExp("\\s*$").exec(r)[0],m=n):r=_(r,"append"),"object"==typeof e)t.replace&&(e[e.length-1]=""),e[e.length-1]+=r.replace(new RegExp("\\s*$"),"");else{var o=e.split(".");g=f;for(var a=0;a<o.length-1;a++)"string"==typeof g[o[a]]&&(g[o[a]]={}),g=g[o[a]]=g[o[a]]||{};t.replace&&(g[o[o.length-1]]=""),g[o[o.length-1]]+=r.replace(new RegExp("\\s*$"),"")}}return C(),d}};e.exports&&(t=e.exports=n),t.archieml=n}).call(je)},Ee(Te={exports:{}},Te.exports),Te.exports);const Se=e=>{if(e<10)return["","first","second","third","fourth","fifth","sixth","seventh","eighth","ninth"][e];const t=e%10,n=e%100;return 1===t&&11!==n?e+"st":2===t&&12!==n?e+"nd":3===t&&13!==n?e+"rd":e+"th"},{document:Oe}=B;function Re(e){let t,n,r=e[6]&&Ae(e);return{c(){r&&r.c(),t=m()},m(e,o){r&&r.m(e,o),u(e,t,o),n=!0},p(e,n){e[6]?r?(r.p(e,n),64&n[0]&&U(r,1)):(r=Ae(e),r.c(),U(r,1),r.m(t.parentNode,t)):r&&(P(),I(r,1,1,(()=>{r=null})),W())},i(e){n||(U(r),n=!0)},o(e){I(r),n=!1},d(e){r&&r.d(e),e&&d(t)}}}function Ae(e){let t,n,r=e[3]&&qe(e);return{c(){r&&r.c(),t=m()},m(e,o){r&&r.m(e,o),u(e,t,o),n=!0},p(e,n){e[3]?r?(r.p(e,n),8&n[0]&&U(r,1)):(r=qe(e),r.c(),U(r,1),r.m(t.parentNode,t)):r&&(P(),I(r,1,1,(()=>{r=null})),W())},i(e){n||(U(r),n=!0)},o(e){I(r),n=!1},d(e){r&&r.d(e),e&&d(t)}}}function qe(e){let t,n,r=e[4]&&Fe(e);return{c(){r&&r.c(),t=m()},m(e,o){r&&r.m(e,o),u(e,t,o),n=!0},p(e,n){e[4]?r?(r.p(e,n),16&n[0]&&U(r,1)):(r=Fe(e),r.c(),U(r,1),r.m(t.parentNode,t)):r&&(P(),I(r,1,1,(()=>{r=null})),W())},i(e){n||(U(r),n=!0)},o(e){I(r),n=!1},d(e){r&&r.d(e),e&&d(t)}}}function Fe(e){let t,n,r,o,a,i,l,s,f,m,w,$,_,C,N,j,T,S,O,R,A,q,F,z,K,D,P,W,B,V,Z,Y,G,Q,X,ee,te,ne,re,oe,ae=e[2].name+"",ie=e[9](e[2],e[5])+"",le=(e[2].gss?e[2].gss.long:"local authority district")+"",se=e[10](e[2],e[5])+"";function ce(t){e[11](t)}let ue={options:e[0],group:"typenm",search:!0};return void 0!==e[1]&&(ue.selected=e[1]),m=new _e({props:ue}),E.push((()=>function(e,t,n){const r=e.$$.props[t];void 0!==r&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}(m,"selected",ce))),m.$on("select",e[12]),{c(){t=h("div"),n=h("div"),r=h("h1"),o=p(ae),a=p(": "),i=h("span"),i.textContent="What's changed",l=g(),s=h("div"),f=h("div"),L(m.$$.fragment),$=g(),_=new k,C=g(),N=h("p"),j=p("Here are some of the "),T=h("span"),T.textContent="most notable changes",S=p(" from across the "),O=p(le),R=p("."),A=g(),q=h("main"),F=new k,z=g(),K=h("hr"),D=g(),P=h("h2"),P.textContent="Creating this article",W=g(),B=h("p"),B.textContent="This article has been generated using a semi-automated system for story selection and data-to-text templating.",V=g(),Z=h("p"),Z.textContent="The system relies upon a computer programme to decide which topics are relevant to specific areas and describe the data in words.",Y=g(),G=h("p"),G.textContent="For each local authority district, the variables that have changed the most since 2011 are selected automatically. Variables that have experienced a considerably larger or smaller change than the regional or national averages are also selected.",Q=g(),X=h("p"),X.textContent="The decisions made by the computer programme were coded by staff in the ONS Digital Publishing team in advance of the release of Census 2021 data.",ee=g(),te=h("div"),b(i,"font-weight","400"),v(r,"class","svelte-15qyx5z"),b(f,"width","640px"),b(f,"margin","50px auto"),_.a=C,v(T,"class","back-to-top svelte-15qyx5z"),b(n,"width","640px"),b(n,"margin","0 auto"),v(t,"id","sf"),v(t,"class","svelte-15qyx5z"),F.a=z,b(K,"width","40%"),b(K,"margin","60px auto 30px auto"),v(P,"id","create"),b(te,"height","200px"),v(q,"class","svelte-15qyx5z")},m(e,d){u(e,t,d),c(t,n),c(n,r),c(r,o),c(r,a),c(r,i),c(n,l),c(n,s),c(s,f),H(m,f,null),c(n,$),_.m(ie,n),c(n,C),c(n,N),c(N,j),c(N,T),c(N,S),c(N,O),c(N,R),u(e,A,d),u(e,q,d),F.m(se,q),c(q,z),c(q,K),c(q,D),c(q,P),c(q,W),c(q,B),c(q,V),c(q,Z),c(q,Y),c(q,G),c(q,Q),c(q,X),c(q,ee),c(q,te),ne=!0,re||(oe=y(T,"click",We),re=!0)},p(e,t){(!ne||4&t[0])&&ae!==(ae=e[2].name+"")&&x(o,ae);const n={};1&t[0]&&(n.options=e[0]),!w&&2&t[0]&&(w=!0,n.selected=e[1],function(e){M.push(e)}((()=>w=!1))),m.$set(n),(!ne||36&t[0])&&ie!==(ie=e[9](e[2],e[5])+"")&&_.p(ie),(!ne||4&t[0])&&le!==(le=(e[2].gss?e[2].gss.long:"local authority district")+"")&&x(O,le),(!ne||36&t[0])&&se!==(se=e[10](e[2],e[5])+"")&&F.p(se)},i(e){ne||(U(m.$$.fragment,e),ne=!0)},o(e){I(m.$$.fragment,e),ne=!1},d(e){e&&d(t),J(m),e&&d(A),e&&d(q),re=!1,oe()}}}function ze(e){let t,n,r,o,a,i,l,f,p,m,x;i=new Ne({});let w=e[2]&&Re(e);return{c(){t=h("script"),r=h("script"),a=g(),L(i.$$.fragment),l=g(),f=h("div"),w&&w.c(),s(t.src,n="https://d3js.org/d3.v3.min.js")||v(t,"src","https://d3js.org/d3.v3.min.js"),v(t,"charset","utf-8"),s(r.src,o="https://unpkg.com/rosaenlg@3.0.1/dist/rollup/rosaenlg_tiny_en_US_3.0.1_comp.js")||v(r,"src","https://unpkg.com/rosaenlg@3.0.1/dist/rollup/rosaenlg_tiny_en_US_3.0.1_comp.js")},m(n,o){c(Oe.head,t),c(Oe.head,r),u(n,a,o),H(i,n,o),u(n,l,o),u(n,f,o),w&&w.m(f,null),p=!0,m||(x=y(r,"load",e[7]),m=!0)},p(e,t){e[2]?w?(w.p(e,t),4&t[0]&&U(w,1)):(w=Re(e),w.c(),U(w,1),w.m(f,null)):w&&(P(),I(w,1,1,(()=>{w=null})),W())},i(e){p||(U(i.$$.fragment,e),U(w),p=!0)},o(e){I(i.$$.fragment,e),I(w),p=!1},d(e){d(t),d(r),e&&d(a),J(i,e),e&&d(l),e&&d(f),w&&w.d(),m=!1,x()}}}function Ke(e){let t,n=Number.parseFloat(Number.parseFloat(e).toPrecision(3));return e-n<-e/100&&(t="under "),t=e-n<-e/800?1==Math.round(Math.random())?"almost ":"just under ":e-n>e/100?" just over ":e-n>e/800?"just over ":"",[t,n]}function De(e){return Math.ceil(5*e/331)}function Pe(e,t,n){return e<0?n:t}function We(){document.getElementById("create").scrollIntoView()}function Ue(e,t,n){let r="Camden";var o,a,i,l,s,c,u,d,f,h,p,g,m,y;fetch("./archie.aml").then((e=>e.text())).then((e=>n(5,g=Me.load(e)))),fetch("./puggy.pug").then((e=>e.text())).then((e=>m=e)),fetch("./standf.pug").then((e=>e.text())).then((e=>y=e));const v={ew:{name:"",pl:""},wd:{name:"Ward",pl:"Wards"},lad:{name:"District",pl:"Districts"},rgn:{name:"Region",pl:"Regions"},ctry:{name:"Country",pl:"Countries"}};let x=!1;var w,b,$,k,_,N,j;function E(e){fetch("https://raw.githubusercontent.com/theojolliffe/census-data/main/json/place/"+e+".json").then((e=>e.json())).then((t=>{t.children=o.filter((t=>t.parent==e)),t.siblings=o.filter((e=>e.parent==t.parents[0].code)),n(2,i=t),N=i.data.marital.perc.change.Single<0?"decline":"rise",N=i.data.marital.perc.change.Single<0?"decline":"rise",j=i.data.marital.perc.change.Married<0?"decline":"rise",_=i.data.children.perc.change.NonDepKids<0?"fewer":"more",$=i.data.children.perc.change.Kids<0?"fewer":"more",k=i.data.children.perc.change.NoKids>0?"fewer":"more",w=i.data.population.value.change.all>8?"expanded":i.data.population.value.change.all>3?"grew":i.data.population.value.change.all>0?"did not change much":"shrunk",i.data.health.perc.change.good>0?b="improved":i.data.health.perc.change.good<0&&(b="deteriorated"),(f=i.stories.map((e=>e.label.split("_")))).forEach((e=>{e.length>4&&(e[3]=e[3]+"_"+e[4],e.pop())})),u=i.parents[0].code,console.log("Place",i),console.log("s",f),l=f.map((e=>parseInt(i.data[e[0]][e[1]+"_rank_local"][e[2]][e[3]]))),h=f.map((e=>parseInt(i.data[e[0]][e[1]+"_rank"][e[2]][e[3]]))),s=f.map((e=>parseInt(i.data[e[0]][e[1]+"_rank_local"][2011][e[3]]))),p=f.map((e=>parseInt(i.data[e[0]][e[1]+"_rank"][2011][e[3]]))),fetch("https://raw.githubusercontent.com/theojolliffe/census-data/main/json/place/"+u+".json").then((e=>e.json())).then((t=>{t.children=o.filter((t=>t.parent==e)),t.siblings=o.filter((e=>e.parent==t.parents[0].code)),n(4,d=t)}))})),fetch("https://raw.githubusercontent.com/theojolliffe/census-data/main/json/place/E92000001.json").then((e=>e.json())).then((t=>{t.children=o.filter((t=>t.parent==e)),t.siblings=o.filter((e=>e.parent==t.parents[0].code)),n(3,c=t)}))}(async function(e){let t=await fetch(e),n=await t.text();return await oe(n,ae)})("https://raw.githubusercontent.com/theojolliffe/census-data/main/csv/lists/places_2020.csv").then((e=>{e.forEach((e=>{e.typepl=v[e.type].pl,e.typenm=v[e.type].name})),e=e.filter((e=>"lad"==e.type)),n(0,o=e.sort(((e,t)=>e.name.localeCompare(t.name)))),r=o[Math.round(336*Math.random())].name,console.log("defaultLoc",r),n(1,a=o.find((e=>e.name==r))),console.log("selected.code",a.code),E(a.code)}));let T={1:"expanded",2:"grew",3:"grew",4:"remained relatively stable",5:"fell"},M={"quarter of a million":25e4,"half a million":5e5,"three quarters of a million":75e4,"one million":1e6},S={"one in two":.5,"one in three":.333,"one in four":.25,"one in five":.2,"one in six":.167,"one in seven":.143,"one in eight":.125,"one in nine":.111,"1 in 10":.1,"1 in 11":.09,"1 in 12":.083,"1 in 13":.077,"1 in 14":.071,"1 in 15":.067,"1 in 16":.063,"1 in 17":.059,"1 in 18":.056,"1 in 19":.053,"1 in 20":.05,"2 in 10":.2,"3 in 10":.3,"4 in 10":.4,"6 in 10":.6,"7 in 10":.7,"8 in 10":.8,"9 in 10":.9,all:1};function O(e,t){let n;"frac"==t?t=S:"num"==t&&(t=M);let r,o=2e6;for(const a in t)Math.abs(e-t[a])<o&&(o=Math.abs(e-t[a]),r=a,e-t[a]==0?n="about":e-t[a]>0?n="just over":e-t[a]<0&&(n="just under"));return[n,r]}let R={good:["bad","fair"],bad:["good","fair"],white:["black","asian"],black:["white","asian"],asian:["white","black"],rented_private:["rented_social","owned"],rented_social:["rented_private","owned"],owned:["rented_private","rented_social"],student:["employee","unemployed","self-employed"],"self-employed":["employee","unemployed","student"],employee:["unemployed","self-employed","student"],unemployed:["employee","self-employed","student"],car_van:["bus","train_metro","foot","home"],bus:["car_van","train_metro","foot","home"],train_metro:["bus","car_van","foot","home"],foot:["bus","train_metro","car_van","home"],home:["bus","train_metro","foot","car_van"],OnePerson:["Cohabiting","Married"],Cohabiting:["OnePerson","Married"],LoneParent:["Married","Cohabiting"],Christian:["Muslim","Noreligion"],Muslim:["Christian","Noreligion"],Noreligion:["Christian","Muslim"],Buddhist:["Hindu","Sikh"],Hindu:["Sikh","Buddhist"],Jewish:["Christian","Muslim"],Sikh:["Hindu","Buddhist"],Single:["Married","Seperated"],Married:["Single","Seperated"],Seperated:["Married","Single"],"40PlushoursWeek":["20to49hoursWeek","1to19hoursWeek"],"20to49hoursWeek":["40PlushoursWeek","1to19hoursWeek"],"1to19hoursWeek":["40PlushoursWeek","20to49hoursWeek"],Kids:["NoKids","NonDepKids"],NoKids:["Kids","NonDepKids"],NonDepKids:["Kids","NoKids"],"Male1-15":["Male49plus"],Male49plus:["Male1-15"],"Female1-15":["Female49plus"],Female49plus:["Female1-15"]};function A(e,t){return t="rl"==t?"_rank_local":"r"==t?"_rank":"",i.data[f[e][0]][f[e][1]+t][2011][f[e][3]]}function q(e,t){return t="rl"==t?"_rank_local":"r"==t?"_rank":"",i.data[f[e][0]][f[e][1]+t].change[f[e][3]]}function F(e,t,n){"number"==typeof t&t<0?t="highest":"number"==typeof t&&(t="lowest");let r,o=Object.assign({},i.data[f[e][0]][f[e][1]+"_rank_local"][n]),a=new Set(R[f[e][3]]);for(let e of Object.keys(o))a.has(e)||delete o[e];if(Object.keys(o).length>1){if("lowest"==t){for(let[e,t]of Object.entries(o))t>0&&delete o[e];r=o.length>0?Object.keys(o).reduce(((e,t)=>o[e]>o[t]?e:t)):void 0}if("highest"==t){for(let[e,t]of Object.entries(o))t<0&&delete o[e];r=o.length>0?Object.keys(o).reduce(((e,t)=>o[e]<o[t]?e:t)):void 0}}else r=Object.keys(o);return r}function z(e,t="r"){let n="";return"rl"==t&&(n="_local"),i.data[f[e][0]][f[e][1]+"_rank"+n].change[F(e,q(e,t),"change")]}var K;function D(e,t){Object.keys(e).forEach((n=>{"object"==typeof e[n]?D(e[n],t):e[n]=((e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a string, got "+typeof e);let n=1,r=e.charAt(0);const o=function(){return r},a=function(t){throw JSON.stringify({name:"Robo-journalist error",message:t,at:n,text:e})},i=function(t){return t&&t!==r&&a("Expected '"+t+"' instead of '"+r+"'"),r=e.charAt(n),n+=1,r},l=function(e){const n=e.split(".");let r=t;for(const t of n)try{r=r[t]}catch{a(`${e} is not in the data dictionary.`)}return r},s=function(e){const t=e.split(" "),n={"+":(e,t)=>e+t,"-":(e,t)=>e-t,"*":(e,t)=>e*t,"/":(e,t)=>e/t,"<":(e,t)=>e<t,">":(e,t)=>e>t,"<=":(e,t)=>e<=t,">=":(e,t)=>e>=t},r=[];for(const e of t)if(/^-?\d+$/.test(e))r.push(Number(e));else if(e in n){const t=Number(r.pop()),o=Number(r.pop());r.push(n[e](o,t))}else if("'"===e)r[r.length-1]="s"===(o=r[r.length-1])[o.length-1]?o+"'":o+"'s";else if(","===e)r[r.length-1]=r[r.length-1].toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");else if(".0"===e)r[r.length-1]=r[r.length-1].toFixed(0);else if(".1"===e)r[r.length-1]=r[r.length-1].toFixed(1);else if(".2"===e)r[r.length-1]=r[r.length-1].toFixed(2);else if("~abs"===e)r[r.length-1]=Math.abs(r[r.length-1]);else if("~ord"===e)r[r.length-1]=Se(Number(r[r.length-1]));else if("~ord'"===e){let e=Se(Number(r.pop()));"first"===e?e="":e+=" ",r.push(e)}else"^"===e.charAt(0)?r[r.length-1]=l(e.slice(1))(r[r.length-1]):r.push(l(e));var o;return 1!==r.length&&a("Invalid RPN"),r[0]},c=function(e){i("?");const t=d();i(":");const n=d();return i("}"),e?t:n},u=function(){if(i("{"),":"===r)return i(":"),i("}"),":";let e="";for(;o();){if("}"===r)return i("}"),s(e);if("?"===r)return c(s(e));e+=r,i()}a("Braces not closed")},d=function(){let e="";for(;o();){if(":"===r||"}"===r)return e;"{"!==r?(e+=r,i()):e+=u()}return e},f=d();return""!==r&&a(`Didn't expect '${r}'`),f})(e[n],{plcname:t,expanded:w,health:b,child:$,wochild:k,ndchild:_,single:N,married:j})}))}K="London"==parent?"city":"region",function(e){C().$$.on_mount.push(e)}((()=>{setInterval((function(){d3.selectAll("div#visph").attr("style","\n\t\t\tbackground-color: #f6f6f6; \n\t\t\tcolor: #e1e7ea; \n\t\t\theight: 240px;\n\t\t\tpadding: 80px;\n\t\t\tfont-size: 2.8rem;\n\t\t\tfont-weight: 600;\n\t\t\tmargin-bottom: 80px;")}),1e3)}));return[o,a,i,c,d,g,x,()=>{n(6,x=!0)},E,function(e,t){var n=JSON.parse(JSON.stringify(t));D(n,e.name);let r=[],o=0;return e.stories.forEach((e=>{r.length<4&Math.abs(e.value)>3&&(r.push(e.label.split("_")),o+=Math.abs(e.value))})),rosaenlg_en_US.render(y,{language:"en_UK",place:e,topics:n,s:f,sf:r,changeMag:o,grewSyn:T,qui:De,natRankCha:h})},function(e,t){var n=JSON.parse(JSON.stringify(t));function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}return console.log("topics",n),console.log("et ",e.name),D(n,e.name),rosaenlg_en_US.render(m,{language:"en_UK",place:e,data:e.data,eng:c,rgn:d,parent:ce(se(e.parents[0].name)),parentNT:ce(se(e.parents[0].name,"NT")),s:f,priorities:e.Priorities,grewSyn:T,locRankCha:l,natRankCha:h,locRankCur:s,natRankCur:p,hiRank:e.hiRank,topic:function(e,t){let r;return r=t||f[e][3],n[f[e][0]][r]},topics:n,chains:R,country:"England",get_word:O,figs:Ke,otherEst:F,cur:A,cha:q,qui:De,cap:r,cap:r,otherRank:z,ud:Pe,city:K})},function(e){n(1,a=e)},()=>{a&&E(a.code)}]}return new class extends Y{constructor(e){super(),Z(this,e,Ue,ze,a,{},null,[-1,-1])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
