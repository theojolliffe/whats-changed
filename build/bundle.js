var app=function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function r(t){return t()}function i(){return Object.create(null)}function o(t){t.forEach(r)}function a(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let l;function c(t,e){return l||(l=document.createElement("a")),l.href=e,t===l.href}function u(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function h(t,e,n){t.$$.on_destroy.push(u(e,n))}function d(t,e,n,r){if(t){const i=f(t,e,n,r);return t[0](i)}}function f(t,e,r,i){return t[1]&&i?n(r.ctx.slice(),t[1](i(e))):r.ctx}function g(t,e,n,r){if(t[2]&&r){const i=t[2](r(n));if(void 0===e.dirty)return i;if("object"==typeof i){const t=[],n=Math.max(e.dirty.length,i.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|i[r];return t}return e.dirty|i}return e.dirty}function p(t,e,n,r,i,o){if(i){const a=f(e,n,r,o);t.p(a,i)}}function m(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}const y="undefined"!=typeof window;let x=y?()=>window.performance.now():()=>Date.now(),$=y?t=>requestAnimationFrame(t):t;const v=new Set;function b(t){v.forEach((e=>{e.c(t)||(v.delete(e),e.f())})),0!==v.size&&$(b)}function k(t,e){t.appendChild(e)}function w(t,e,n){t.insertBefore(e,n||null)}function M(t){t.parentNode.removeChild(t)}function _(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function T(t){return document.createElement(t)}function N(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function A(t){return document.createTextNode(t)}function C(){return A(" ")}function S(){return A("")}function E(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function L(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function z(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function R(t,e){t.value=null==e?"":e}function j(t,e,n,r){t.style.setProperty(e,n,r?"important":"")}let D,F;function P(){if(void 0===D){D=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(t){D=!0}}return D}function I(t,e,n){t.classList[n?"add":"remove"](e)}class K{constructor(){this.e=this.n=null}c(t){this.h(t)}m(t,e,n=null){this.e||(this.e=T(e.nodeName),this.t=e,this.c(t)),this.i(n)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}i(t){for(let e=0;e<this.n.length;e+=1)w(this.t,this.n[e],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(M)}}function O(t){F=t}function q(){if(!F)throw new Error("Function called outside component initialization");return F}function W(t){q().$$.on_mount.push(t)}function H(t){q().$$.on_destroy.push(t)}function U(){const t=q();return(e,n)=>{const r=t.$$.callbacks[e];if(r){const i=function(t,e,n=!1){const r=document.createEvent("CustomEvent");return r.initCustomEvent(t,n,!1,e),r}(e,n);r.slice().forEach((e=>{e.call(t,i)}))}}}function B(t,e){q().$$.context.set(t,e)}function G(t){return q().$$.context.get(t)}function J(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t.call(this,e)))}const V=[],Y=[],Z=[],X=[],Q=Promise.resolve();let tt=!1;function et(t){Z.push(t)}function nt(t){X.push(t)}let rt=!1;const it=new Set;function ot(){if(!rt){rt=!0;do{for(let t=0;t<V.length;t+=1){const e=V[t];O(e),at(e.$$)}for(O(null),V.length=0;Y.length;)Y.pop()();for(let t=0;t<Z.length;t+=1){const e=Z[t];it.has(e)||(it.add(e),e())}Z.length=0}while(V.length);for(;X.length;)X.pop()();tt=!1,rt=!1,it.clear()}}function at(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(et)}}const st=new Set;let lt;function ct(){lt={r:0,c:[],p:lt}}function ut(){lt.r||o(lt.c),lt=lt.p}function ht(t,e){t&&t.i&&(st.delete(t),t.i(e))}function dt(t,e,n,r){if(t&&t.o){if(st.has(t))return;st.add(t),lt.c.push((()=>{st.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}const ft="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function gt(t,e){dt(t,1,1,(()=>{e.delete(t.key)}))}function pt(t,e,n,r,i,o,a,s,l,c,u,h){let d=t.length,f=o.length,g=d;const p={};for(;g--;)p[t[g].key]=g;const m=[],y=new Map,x=new Map;for(g=f;g--;){const t=h(i,o,g),s=n(t);let l=a.get(s);l?r&&l.p(t,e):(l=c(s,t),l.c()),y.set(s,m[g]=l),s in p&&x.set(s,Math.abs(g-p[s]))}const $=new Set,v=new Set;function b(t){ht(t,1),t.m(s,u),a.set(t.key,t),u=t.first,f--}for(;d&&f;){const e=m[f-1],n=t[d-1],r=e.key,i=n.key;e===n?(u=e.first,d--,f--):y.has(i)?!a.has(r)||$.has(r)?b(e):v.has(i)?d--:x.get(r)>x.get(i)?(v.add(r),b(e)):($.add(i),d--):(l(n,a),d--)}for(;d--;){const e=t[d];y.has(e.key)||l(e,a)}for(;f;)b(m[f-1]);return m}function mt(t,e){const n={},r={},i={$$scope:1};let o=t.length;for(;o--;){const a=t[o],s=e[o];if(s){for(const t in a)t in s||(r[t]=1);for(const t in s)i[t]||(n[t]=s[t],i[t]=1);t[o]=s}else for(const t in a)i[t]=1}for(const t in r)t in n||(n[t]=void 0);return n}function yt(t){return"object"==typeof t&&null!==t?t:{}}function xt(t,e,n){const r=t.$$.props[e];void 0!==r&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function $t(t){t&&t.c()}function vt(t,e,n,i){const{fragment:s,on_mount:l,on_destroy:c,after_update:u}=t.$$;s&&s.m(e,n),i||et((()=>{const e=l.map(r).filter(a);c?c.push(...e):o(e),t.$$.on_mount=[]})),u.forEach(et)}function bt(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function kt(t,e){-1===t.$$.dirty[0]&&(V.push(t),tt||(tt=!0,Q.then(ot)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function wt(e,n,r,a,s,l,c,u=[-1]){const h=F;O(e);const d=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:s,bound:i(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(h?h.$$.context:[])),callbacks:i(),dirty:u,skip_bound:!1,root:n.target||h.$$.root};c&&c(d.root);let f=!1;if(d.ctx=r?r(e,n.props||{},((t,n,...r)=>{const i=r.length?r[0]:n;return d.ctx&&s(d.ctx[t],d.ctx[t]=i)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](i),f&&kt(e,t)),n})):[],d.update(),f=!0,o(d.before_update),d.fragment=!!a&&a(d.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);d.fragment&&d.fragment.l(t),t.forEach(M)}else d.fragment&&d.fragment.c();n.intro&&ht(e.$$.fragment),vt(e,n.target,n.anchor,n.customElement),ot()}O(h)}class Mt{$destroy(){bt(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function _t(e){let n;return{c(){n=T("div"),n.innerHTML="<strong>Warning!</strong> This prototype uses 2011 data in lieu of the latest Census 2021 data. Data are likely to contain inaccuracies.",L(n,"class","warning svelte-srzfvi")},m(t,e){w(t,n,e)},p:t,i:t,o:t,d(t){t&&M(n)}}}class Tt extends Mt{constructor(t){super(),wt(this,t,null,_t,s,{})}}var Nt={},At={};function Ct(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'})).join(",")+"}")}function St(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var r in t)r in e||n.push(e[r]=r)})),n}function Et(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function Lt(t){var e,n=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),o=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((e=t.getUTCFullYear())<0?"-"+Et(-e,6):e>9999?"+"+Et(e,6):Et(e,4))+"-"+Et(t.getUTCMonth()+1,2)+"-"+Et(t.getUTCDate(),2)+(o?"T"+Et(n,2)+":"+Et(r,2)+":"+Et(i,2)+"."+Et(o,3)+"Z":i?"T"+Et(n,2)+":"+Et(r,2)+":"+Et(i,2)+"Z":r||n?"T"+Et(n,2)+":"+Et(r,2)+"Z":"")}var zt=function(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var r,i=[],o=t.length,a=0,s=0,l=o<=0,c=!1;function u(){if(l)return At;if(c)return c=!1,Nt;var e,r,i=a;if(34===t.charCodeAt(i)){for(;a++<o&&34!==t.charCodeAt(a)||34===t.charCodeAt(++a););return(e=a)>=o?l=!0:10===(r=t.charCodeAt(a++))?c=!0:13===r&&(c=!0,10===t.charCodeAt(a)&&++a),t.slice(i+1,e-1).replace(/""/g,'"')}for(;a<o;){if(10===(r=t.charCodeAt(e=a++)))c=!0;else if(13===r)c=!0,10===t.charCodeAt(a)&&++a;else if(r!==n)continue;return t.slice(i,e)}return l=!0,t.slice(i,o)}for(10===t.charCodeAt(o-1)&&--o,13===t.charCodeAt(o-1)&&--o;(r=u())!==At;){for(var h=[];r!==Nt&&r!==At;)h.push(r),r=u();e&&null==(h=e(h,s++))||i.push(h)}return i}function i(e,n){return e.map((function(e){return n.map((function(t){return a(e[t])})).join(t)}))}function o(e){return e.map(a).join(t)}function a(t){return null==t?"":t instanceof Date?Lt(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,i,o=r(t,(function(t,r){if(n)return n(t,r-1);i=t,n=e?function(t,e){var n=Ct(t);return function(r,i){return e(n(r),i,t)}}(t,e):Ct(t)}));return o.columns=i||[],o},parseRows:r,format:function(e,n){return null==n&&(n=St(e)),[n.map(a).join(t)].concat(i(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=St(t)),i(t,e).join("\n")},formatRows:function(t){return t.map(o).join("\n")},formatRow:o,formatValue:a}}(","),Rt=zt.parse;function jt(t){for(var e in t){var n,r,i=t[e].trim();if(i)if("true"===i)i=!0;else if("false"===i)i=!1;else if("NaN"===i)i=NaN;else if(isNaN(n=+i)){if(!(r=i.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;Dt&&r[4]&&!r[7]&&(i=i.replace(/-/g,"/").replace(/T/," ")),i=new Date(i)}else i=n;else i=null;t[e]=i}return t}const Dt=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours(),Ft=t=>{if(t<10)return["","first","second","third","fourth","fifth","sixth","seventh","eighth","ninth"][t];const e=t%10,n=t%100;return 1===e&&11!==n?t+"st":2===e&&12!==n?t+"nd":3===e&&13!==n?t+"rd":t+"th"},Pt=(t,e)=>{if("string"!=typeof t)throw new TypeError("Expected a string, got "+typeof t);let n=1,r=t.charAt(0);const i=function(){return r},o=function(e){throw JSON.stringify({name:"Robo-journalist error",message:e,at:n,text:t})},a=function(e){return e&&e!==r&&o("Expected '"+e+"' instead of '"+r+"'"),r=t.charAt(n),n+=1,r},s=function(t){const n=t.split(".");let r=e;for(const e of n)try{r=r[e]}catch{o(`${t} is not in the data dictionary.`)}return r},l=function(t){const e=t.split(" "),n={"+":(t,e)=>t+e,"-":(t,e)=>t-e,"*":(t,e)=>t*e,"/":(t,e)=>t/e,"<":(t,e)=>t<e,">":(t,e)=>t>e,"<=":(t,e)=>t<=e,">=":(t,e)=>t>=e},r=[];for(const t of e)if(/^-?\d+$/.test(t))r.push(Number(t));else if(t in n){const e=Number(r.pop()),i=Number(r.pop());r.push(n[t](i,e))}else if("'"===t)r[r.length-1]="s"===(i=r[r.length-1])[i.length-1]?i+"'":i+"'s";else if(","===t)r[r.length-1]=r[r.length-1].toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");else if(".0"===t)r[r.length-1]=r[r.length-1].toFixed(0);else if(".1"===t)r[r.length-1]=r[r.length-1].toFixed(1);else if(".2"===t)r[r.length-1]=r[r.length-1].toFixed(2);else if("~abs"===t)r[r.length-1]=Math.abs(r[r.length-1]);else if("~ord"===t)r[r.length-1]=Ft(Number(r[r.length-1]));else if("~ord'"===t){let t=Ft(Number(r.pop()));"first"===t?t="":t+=" ",r.push(t)}else"^"===t.charAt(0)?r[r.length-1]=s(t.slice(1))(r[r.length-1]):r.push(s(t));var i;return 1!==r.length&&o("Invalid RPN"),r[0]},c=function(t){a("?");const e=h();a(":");const n=h();return a("}"),t?e:n},u=function(){if(a("{"),":"===r)return a(":"),a("}"),":";let t="";for(;i();){if("}"===r)return a("}"),l(t);if("?"===r)return c(l(t));t+=r,a()}o("Braces not closed")},h=function(){let t="";for(;i();){if(":"===r||"}"===r)return t;"{"!==r?(t+=r,a()):t+=u()}return t},d=h();return""!==r&&o(`Didn't expect '${r}'`),d};async function It(t){let e=await fetch(t),n=await e.text();return await Rt(n,jt)}let Kt={good:["bad","fair"],bad:["good","fair"],white:["black","asian"],black:["white","asian"],asian:["white","black"],rented_private:["rented_social","owned"],rented_social:["rented_private","owned"],owned:["rented_private","rented_social"],student:["employee","unemployed","self-employed"],"self-employed":["employee","unemployed","student"],employee:["unemployed","self-employed","student"],unemployed:["employee","self-employed","student"],car_van:["bus","train_metro","foot","home"],bus:["car_van","train_metro","foot","home"],train_metro:["bus","car_van","foot","home"],foot:["bus","train_metro","car_van","home"],home:["bus","train_metro","foot","car_van"],OnePerson:["Cohabiting","Married"],Cohabiting:["OnePerson","Married"],LoneParent:["Married","Cohabiting"],Christian:["Muslim","Noreligion"],Muslim:["Christian","Noreligion"],Noreligion:["Christian","Muslim"],Buddhist:["Hindu","Sikh"],Hindu:["Sikh","Buddhist"],Jewish:["Christian","Muslim"],Sikh:["Hindu","Buddhist"],Single:["Married","Seperated"],Married:["Single","Seperated"],Seperated:["Married","Single"],"40PlushoursWeek":["20to49hoursWeek","1to19hoursWeek"],"20to49hoursWeek":["40PlushoursWeek","1to19hoursWeek"],"1to19hoursWeek":["40PlushoursWeek","20to49hoursWeek"],Kids:["NoKids","NonDepKids"],NoKids:["Kids","NonDepKids"],NonDepKids:["Kids","NoKids"],"Male1-15":["Male49plus"],Male49plus:["Male1-15"],"Female1-15":["Female49plus"],Female49plus:["Female1-15"]},Ot=["South East","South West","East","West Midlands","East Midlands","North East","North West"];function qt(t,e){return"East"==t&&(t+=" England"),!Ot.includes(t)|"NT"==e?t:"The "+t}function Wt(t){return"The"==t.slice(0,3)?t.charAt(0).toLowerCase()+t.slice(1):t}function Ht(t,e,n){return{1:"",2:"second-",3:"third-",4:"fourth-",5:"fifth-"}[Math.abs(t)]+(t<0?e:n)}let Ut={"quarter of a million":25e4,"half a million":5e5,"three quarters of a million":75e4,"one million":1e6},Bt={"one in two":.5,"one in three":.333,"one in four":.25,"one in five":.2,"one in six":.167,"one in seven":.143,"one in eight":.125,"one in nine":.111,"1 in 10":.1,"1 in 11":.09,"1 in 12":.083,"1 in 13":.077,"1 in 14":.071,"1 in 15":.067,"1 in 16":.063,"1 in 17":.059,"1 in 18":.056,"1 in 19":.053,"1 in 20":.05,"1 in 25":.04,"1 in 30":.033,"1 in 40":.025,"1 in 50":.02,"2 in 10":.2,"3 in 10":.3,"4 in 10":.4,"6 in 10":.6,"7 in 10":.7,"8 in 10":.8,"9 in 10":.9,all:1};function Gt(t,e){let n;"frac"==e?e=Bt:"num"==e&&(e=Ut);let r,i=2e6;for(const o in e)Math.abs(t-e[o])<i&&(i=Math.abs(t-e[o]),r=o,t-e[o]==0?n="about":t-e[o]>0?n="just over":t-e[o]<0&&(n="just under"));return[n,r]}function Jt(t,e){3!=e&&(e=2);let n,r=Number.parseFloat(Number.parseFloat(t).toPrecision(e));return t-r<-t/100&&(n="under "),n=t-r<-t/800?1==Math.round(Math.random())?"almost ":"just under ":t-r>t/100?" just over ":t-r>t/800?"just over ":"about",[n,r]}function Vt(t,e,n,r){return r="rl"==r?"_rank_local":"r"==r?"_rank":"",e.data[t[n][0]][t[n][1]+r][2001][t[n][3]]}function Yt(t,e,n,r){return r="rl"==r?"_rank_local":"r"==r?"_rank":"",e.data[t[n][0]][t[n][1]+r][2011][t[n][3]]}function Zt(t,e,n,r){let i;r="rl"==r?"_rank_local":"r"==r?"_rank":"";try{i=Math.round(10*e.data[t[n][0]][t[n][1]+r].change[t[n][3]])/10}catch(t){console.log(t.message)}return i}function Xt(t){return Math.ceil(5*t/331)}function Qt(t,e,n,r,i){"number"==typeof r&r<0?r="highest":"number"==typeof r&&(r="lowest");let o,a=Object.assign({},e.data[t[n][0]][t[n][1]+"_rank_local"][i]),s=new Set(Kt[t[n][3]]);for(let t of Object.keys(a))s.has(t)||delete a[t];if(Object.keys(a).length>1){if("lowest"==r){for(let[t,e]of Object.entries(a))e>0&&delete a[t];o=a.length>0?Object.keys(a).reduce(((t,e)=>a[t]>a[e]?t:e)):void 0}if("highest"==r){for(let[t,e]of Object.entries(a))e<0&&delete a[t];o=a.length>0?Object.keys(a).reduce(((t,e)=>a[t]<a[e]?t:e)):void 0}}else o=Object.keys(a);return o}function te(t,e,n,r="r"){let i="";return"rl"==r&&(i="_local"),e.data[t[n][0]][t[n][1]+"_rank"+i].change[Qt(t,e,n,Zt(t,e,n,r),"change")]}function ee(t,e,n){return t<0?n:e}var ne;function re(t,e){return Math.sign(t)==Math.sign(e)}ne="London"==parent?"city":"region";var ie=["","","second-","third-","fourth-","fifth-","sixth-","seventh-","eighth-","ninth-"],oe=["no","one","two","three","four","five","six","seven","eight","nine"];function ae(t){return t<10?oe[t]:t}function se(t){let e;return e=Math.abs(t)<10?ie[Math.abs(t)]:function(t){let e;if(12==t)e="twelfth";else if(t>10&t<20)e=t+"th";else{let n=Math.round(t)%10;e=1==n?t+"st":2==n?t+"nd":3==n?t+"rd":t+"th"}return e}(Math.abs(t))+"-",e}var le={"0-9":["children under the age of nine years","under nine years"],"10-19":["people between the ages of 10 and 19 years","between 10 and 19 years"],"20-29":["people between the ages of 20 and 29 years","between 20 and 29 years"],"30-39":["people between the ages of 30 and 39 years","between 30 and 39 years"],"40-49":["people between the ages of 40 and 49 years","between 40 and 49 years"],"50-59":["people between the ages of 50 and 59 years","between 50 and 59 years"],"60-69":["people between the ages of 60 and 69 years","between 60 and 69 years"],"70-79":["people between the ages of 70 and 79 years","between 70 and 79 years"],"80plus":["people aged 80 years or over","over the age of 80 years"]};function ce(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===e.length&&t.every(((t,n)=>t===e[n]))}function ue(t,e,n){let r=ee(t,e,n);return se(t)+r}function he(t,e){let n,r=(t-e)/e*100;return n=Math.abs(r)>7||Math.abs(r)>3?"":"slightly",n}function de(t,e,n,r){return t<-1?n:t>1?e:r}function fe(t,e,n){const r=t.slice();return r[37]=e[n],r[40]=e,r[39]=n,r}function ge(t,e,n){const r=t.slice();return r[37]=e[n],r[38]=e,r[39]=n,r}function pe(t){let e,n,r,i,o,a,s,l=(t[0]?t[0]:"Select one")+"";return{c(){e=T("a"),n=T("span"),r=A(l),i=C(),o=T("span"),o.textContent=" ",L(n,"class","svelte-qdzmwx"),L(o,"class","button svelte-qdzmwx"),I(o,"search",t[3]),I(o,"down",!t[3]),L(e,"id","toggle"),L(e,"class","svelte-qdzmwx")},m(l,c){w(l,e,c),k(e,n),k(n,r),k(e,i),k(e,o),a||(s=E(e,"click",t[13]),a=!0)},p(t,e){1&e[0]&&l!==(l=(t[0]?t[0]:"Select one")+"")&&z(r,l),8&e[0]&&I(o,"search",t[3]),8&e[0]&&I(o,"down",!t[3])},d(t){t&&M(e),a=!1,s()}}}function me(t){let e,n,r,i,a,s,l,c,u=t[6][t[1]]+"",h=t[2]&&ye(t);return{c(){e=T("a"),n=T("span"),r=A(u),i=C(),h&&h.c(),a=C(),s=T("span"),s.textContent=" ",L(n,"class","selection svelte-qdzmwx"),L(s,"class","button close svelte-qdzmwx"),L(e,"id","toggle"),L(e,"class","selected svelte-qdzmwx")},m(o,u){w(o,e,u),k(e,n),k(n,r),k(n,i),h&&h.m(n,null),k(e,a),k(e,s),l||(c=[E(s,"click",t[15]),E(e,"click",t[13])],l=!0)},p(t,e){66&e[0]&&u!==(u=t[6][t[1]]+"")&&z(r,u),t[2]?h?h.p(t,e):(h=ye(t),h.c(),h.m(n,null)):h&&(h.d(1),h=null)},d(t){t&&M(e),h&&h.d(),l=!1,o(c)}}}function ye(t){let e,n,r=t[6][t[2]]+"";return{c(){e=T("small"),n=A(r),L(e,"class","svelte-qdzmwx")},m(t,r){w(t,e,r),k(e,n)},p(t,e){68&e[0]&&r!==(r=t[6][t[2]]+"")&&z(n,r)},d(t){t&&M(e)}}}function xe(t){let e,n,r,i,a,s;function l(t,e){return t[4].length<0?ke:t[9][0]&&t[2]?be:t[9][0]?ve:$e}let c=l(t),u=c(t);return{c(){e=T("div"),n=T("input"),r=C(),i=T("ul"),u.c(),L(n,"type","text"),L(n,"placeholder",""),L(n,"autocomplete","false"),L(n,"class","svelte-qdzmwx"),L(i,"class","svelte-qdzmwx"),L(e,"id","dropdown"),j(e,"top","0"),L(e,"class","svelte-qdzmwx")},m(o,l){w(o,e,l),k(e,n),R(n,t[4]),t[25](n),k(e,r),k(e,i),u.m(i,null),t[35](e),a||(s=[E(n,"input",t[24]),E(n,"keyup",t[17])],a=!0)},p(t,e){16&e[0]&&n.value!==t[4]&&R(n,t[4]),c===(c=l(t))&&u?u.p(t,e):(u.d(1),u=c(t),u&&(u.c(),u.m(i,null)))},d(n){n&&M(e),t[25](null),u.d(),t[35](null),a=!1,o(s)}}}function $e(e){let n;return{c(){n=T("li"),n.textContent="No results",L(n,"class","svelte-qdzmwx")},m(t,e){w(t,n,e)},p:t,d(t){t&&M(n)}}}function ve(t){let e,n=t[9],r=[];for(let e=0;e<n.length;e+=1)r[e]=we(fe(t,n,e));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=S()},m(t,n){for(let e=0;e<r.length;e+=1)r[e].m(t,n);w(t,e,n)},p(t,i){if(19202&i[0]){let o;for(n=t[9],o=0;o<n.length;o+=1){const a=fe(t,n,o);r[o]?r[o].p(a,i):(r[o]=we(a),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(t){_(r,t),t&&M(e)}}}function be(t){let e,n=t[9],r=[];for(let e=0;e<n.length;e+=1)r[e]=_e(ge(t,n,e));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=S()},m(t,n){for(let e=0;e<r.length;e+=1)r[e].m(t,n);w(t,e,n)},p(t,i){if(23298&i[0]){let o;for(n=t[9],o=0;o<n.length;o+=1){const a=ge(t,n,o);r[o]?r[o].p(a,i):(r[o]=_e(a),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(t){_(r,t),t&&M(e)}}}function ke(e){let n;return{c(){n=T("li"),n.textContent="Type a name...",L(n,"class","svelte-qdzmwx")},m(t,e){w(t,n,e)},p:t,d(t){t&&M(n)}}}function we(t){let e,n,r,i,a,s=t[37][t[1]]+"",l=t[39];function c(){return t[32](t[37])}function u(){return t[33](t[39])}const h=()=>t[34](e,l),d=()=>t[34](null,l);return{c(){e=T("li"),n=A(s),r=C(),L(e,"class","svelte-qdzmwx"),I(e,"highlight",t[8]==t[39])},m(t,o){w(t,e,o),k(e,n),k(e,r),h(),i||(a=[E(e,"click",c),E(e,"mouseover",u)],i=!0)},p(r,i){t=r,514&i[0]&&s!==(s=t[37][t[1]]+"")&&z(n,s),l!==t[39]&&(d(),l=t[39],h()),256&i[0]&&I(e,"highlight",t[8]==t[39])},d(t){t&&M(e),d(),i=!1,o(a)}}}function Me(t){let e,n=console.log("--666-----option",t[37][t[1]],t[12].find(r))+"";function r(...e){return t[26](t[37],...e)}return{c(){e=A(n)},m(t,n){w(t,e,n)},p(i,o){t=i,4610&o[0]&&n!==(n=console.log("--666-----option",t[37][t[1]],t[12].find(r))+"")&&z(e,n)},d(t){t&&M(e)}}}function _e(t){let e,n,r,i,a,s,l,c,u,h=!t[12].find(p),d=t[37][t[1]]+"",f=t[12].find(y)["Supergroup name"]+", "+t[12].find(x)["Region/Country"],g=t[39];function p(...e){return t[23](t[37],...e)}let m=h&&Me(t);function y(...e){return t[27](t[37],...e)}function x(...e){return t[28](t[37],...e)}function $(){return t[29](t[37])}function v(){return t[30](t[39])}const b=()=>t[31](n,g),_=()=>t[31](null,g);return{c(){m&&m.c(),e=C(),n=T("li"),r=A(d),i=C(),a=T("small"),s=A(f),l=C(),L(a,"class","svelte-qdzmwx"),L(n,"class","svelte-qdzmwx"),I(n,"highlight",t[8]==t[39])},m(t,o){m&&m.m(t,o),w(t,e,o),w(t,n,o),k(n,r),k(n,i),k(n,a),k(a,s),k(n,l),b(),c||(u=[E(n,"click",$),E(n,"mouseover",v)],c=!0)},p(i,o){t=i,4610&o[0]&&(h=!t[12].find(p)),h?m?m.p(t,o):(m=Me(t),m.c(),m.m(e.parentNode,e)):m&&(m.d(1),m=null),514&o[0]&&d!==(d=t[37][t[1]]+"")&&z(r,d),4610&o[0]&&f!==(f=t[12].find(y)["Supergroup name"]+", "+t[12].find(x)["Region/Country"])&&z(s,f),g!==t[39]&&(_(),g=t[39],b()),256&o[0]&&I(n,"highlight",t[8]==t[39])},d(t){m&&m.d(t),t&&M(e),t&&M(n),_(),c=!1,o(u)}}}function Te(e){let n,r,i,o;function a(t,e){return t[6]&&!t[3]?me:pe}let s=a(e),l=s(e),c=e[7]&&xe(e);return{c(){n=T("div"),l.c(),r=C(),c&&c.c(),L(n,"id","select"),L(n,"class","svelte-qdzmwx"),I(n,"active",e[7])},m(t,a){w(t,n,a),l.m(n,null),k(n,r),c&&c.m(n,null),i||(o=E(n,"keydown",e[16]),i=!0)},p(t,e){s===(s=a(t))&&l?l.p(t,e):(l.d(1),l=s(t),l&&(l.c(),l.m(n,r))),t[7]?c?c.p(t,e):(c=xe(t),c.c(),c.m(n,null)):c&&(c.d(1),c=null),128&e[0]&&I(n,"active",t[7])},i:t,o:t,d(t){t&&M(n),l.d(),c&&c.d(),i=!1,o()}}}function Ne(t,e,n){let r;const i=U();let o,a,s,l,{options:c}=e,{selected:u=null}=e,{placeholder:h="Find an area..."}=e,{value:d="code"}=e,{label:f="name"}=e,{group:g=null}=e,{search:p=!1}=e,m=u,y=u?c.find((t=>{t[d],u[d]})):null,x=!1,$="",v=null,b=[];function k(t){n(18,u=t),n(7,x=!1),i("select",{selected:t,value:t[d]})}It("https://raw.githubusercontent.com/theojolliffe/census-data/main/csv/lists/Corresponding%20Local%20Authorities-Table%201.csv").then((t=>{t.forEach((t=>{})),n(12,l=t)}));return t.$$set=t=>{"options"in t&&n(19,c=t.options),"selected"in t&&n(18,u=t.selected),"placeholder"in t&&n(0,h=t.placeholder),"value"in t&&n(20,d=t.value),"label"in t&&n(1,f=t.label),"group"in t&&n(2,g=t.group),"search"in t&&n(3,p=t.search)},t.$$.update=()=>{16&t.$$.dirty[0]&&n(22,r=$?new RegExp($,"i"):null),4718594&t.$$.dirty[0]&&(n(9,o=r?c.filter((t=>r.test(t[f]))):c),n(8,v=0)),32&t.$$.dirty[0]&&(document.onclick=function(t){t.target!==a&&(n(7,x=!1),n(8,v=0))}),3932160&t.$$.dirty[0]&&m!=u&&(n(6,y=c.find((t=>t[d]==u[d]))),n(21,m=u))},[h,f,g,p,$,a,y,x,v,o,s,b,l,function(t){var e;t.stopPropagation(),n(4,$=""),n(7,x=!x),(e=10,new Promise((t=>setTimeout(t,e)))).then((()=>{s&&x&&s.focus()}))},k,function(t){t.stopPropagation(),n(18,u=null),n(21,m=null),n(6,y=null),i("select",{selected:null,value:null})},function(t){x&&o[0]&&Number.isInteger(v)&&(38===t.keyCode?(n(8,v-=v>0?1:0),b[v].scrollIntoView({block:"nearest",inline:"start"})):40===t.keyCode&&(n(8,v+=v<o.length-1?1:0),b[v].scrollIntoView({block:"nearest",inline:"end"})))},function(t){o[0]&&Number.isInteger(v)&&13===t.keyCode&&k(o[v])},u,c,d,m,r,(t,e)=>e.Name==t[f],function(){$=this.value,n(4,$)},function(t){Y[t?"unshift":"push"]((()=>{s=t,n(10,s)}))},(t,e)=>e.Name==t[f],(t,e)=>e.Name==t[f],(t,e)=>e.Name==t[f],t=>k(t),t=>n(8,v=t),function(t,e){Y[t?"unshift":"push"]((()=>{b[e]=t,n(11,b)}))},t=>k(t),t=>n(8,v=t),function(t,e){Y[t?"unshift":"push"]((()=>{b[e]=t,n(11,b)}))},function(t){Y[t?"unshift":"push"]((()=>{a=t,n(5,a)}))}]}class Ae extends Mt{constructor(t){super(),wt(this,t,Ne,Te,s,{options:19,selected:18,placeholder:0,value:20,label:1,group:2,search:3},null,[-1,-1])}}var Ce="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Se(t){var e={exports:{}};return t(e,e.exports),e.exports}var Ee=Se((function(t,e){(function(){var n={load:function(t,e){var n="\\u0000\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u200B\\u2028\\u2029\\u202F\\u205F\\u3000\\uFEFF\\u005B\\u005C\\u005D\\u007B\\u007D\\u003A",r=new RegExp(".*((\r|\n)+)"),i=new RegExp("^\\s*([^"+n+"]+)[ \t\r]*:[ \t\r]*(.*(?:\n|\r|$))"),o=new RegExp("^\\s*:[ \t\r]*(endskip|ignore|skip|end).*?(\n|\r|$)","i"),a=new RegExp("^\\s*\\*[ \t\r]*(.*(?:\n|\r|$))"),s=new RegExp("^\\s*(\\[|\\{)[ \t\r]*([+.]*)[ \t\r]*([^"+n+"]*)[ \t\r]*(?:\\]|\\}).*?(\n|\r|$)"),l={},c=l,u=[],h=void 0,d=null,f=null,g="",p=!1;for(!0!==(e=e||{}).comments&&(e.comments=!1);t;){var m;o.exec(t)?$((m=o.exec(t))[1].toLowerCase()):p||!i.exec(t)||h&&"simple"===h.arrayType?!p&&a.exec(t)&&h&&h.array&&"complex"!==h.arrayType&&"freeform"!==h.arrayType&&h.flags.indexOf("+")<0?x((m=a.exec(t))[1]):!p&&s.exec(t)?v((m=s.exec(t))[1],m[2],m[3]):r.exec(t)?b((m=r.exec(t))[0]):(b(t),t=""):y((m=i.exec(t))[1],m[2]||""),m&&(t=t.substring(m[0].length))}function y(t,e){M(),k(t),h&&h.flags.indexOf("+")>-1&&(t="value"),f=t,g=e,_(t,{replace:!0})}function x(t){M(),h.arrayType=h.arrayType||"simple",h.array.push(""),f=h.array,g=t,_(h.array,{replace:!0})}function $(e){if(p&&"endskip"!==e&&"ignore"!==e)return M();switch(e){case"end":return void(f&&_(f,{replace:!1}));case"ignore":t="";break;case"skip":p=!0;break;case"endskip":p=!1}M()}function v(t,e,n){if(M(),""==n){var r=u.pop();c=(r?r.scope:l)||l,h=u[u.length-1]}else if("["===t||"{"===t){var i=!1,o=l;if(e.indexOf(".")>-1?(k(n),i=!0,h&&(o=c)):(c=l,u=[]),h&&h.flags.indexOf("+")>-1)var a=n;else{for(var s=n.split("."),d=0;d<s.length-1;d++)o=o[s[d]]=o[s[d]]||{};a=s[s.length-1]}var f={array:null,arrayType:null,arrayFirstKey:null,flags:e,scope:c},g=h&&h.flags.indexOf("+")>-1&&e.indexOf(".")>-1;"["==t?(g&&(a="value"),f.array=o[a]=[],e.indexOf("+")>-1&&(f.arrayType="freeform"),i?u.push(f):u=[f],h=u[u.length-1]):"{"==t&&(i?(c=g?c.value={}:o[a]=o={},u.push(f)):(c=o[a]="object"==typeof o[a]?o[a]:{},u=[f]),h=u[u.length-1])}}function b(e){h&&h.flags.indexOf("+")>-1&&e.match(/[^\n\r\s]/)?h.array.push({type:"text",value:e.replace(/(^\s*)|(\s*$)/g,"")}):g+=t.substring(0,e.length)}function k(t){if(h&&h.array){if(h.arrayType=h.arrayType||"complex","simple"===h.arrayType)return;null!==h.arrayFirstKey&&h.arrayFirstKey!==t||h.array.push(c={}),h.flags.indexOf("+")>-1?c.type=t:h.arrayFirstKey=h.arrayFirstKey||t}}function w(t,n){return e.comments&&(t=(t=t.replace(/(?:^\\)?\[[^\[\]\n\r]*\](?!\])/gm,"")).replace(/\[\[([^\[\]\n\r]*)\]\]/g,"[$1]")),"append"==n&&(t=t.replace(new RegExp("^(\\s*)\\\\","gm"),"$1")),t}function M(){var t=g+"";return g="",f=null,t}function _(t,e){e=e||{};var n=f,r=M();if(e.replace?(r=w(r,"replace").replace(new RegExp("^\\s*"),""),g=new RegExp("\\s*$").exec(r)[0],f=n):r=w(r,"append"),"object"==typeof t)e.replace&&(t[t.length-1]=""),t[t.length-1]+=r.replace(new RegExp("\\s*$"),"");else{var i=t.split(".");d=c;for(var o=0;o<i.length-1;o++)"string"==typeof d[i[o]]&&(d[i[o]]={}),d=d[i[o]]=d[i[o]]||{};e.replace&&(d[i[i.length-1]]=""),d[i[i.length-1]]+=r.replace(new RegExp("\\s*$"),"")}}return M(),l}};t.exports&&(e=t.exports=n),e.archieml=n}).call(Ce)})),Le=Se((function(t,e){!function(e,n){t.exports=n()}(0,(function(){var t=[],e=[],n={},r={},i={};function o(t){return"string"==typeof t?new RegExp("^"+t+"$","i"):t}function a(t,e){return t===e?e:t===t.toLowerCase()?e.toLowerCase():t===t.toUpperCase()?e.toUpperCase():t[0]===t[0].toUpperCase()?e.charAt(0).toUpperCase()+e.substr(1).toLowerCase():e.toLowerCase()}function s(t,e){return t.replace(/\$(\d{1,2})/g,(function(t,n){return e[n]||""}))}function l(t,e){return t.replace(e[0],(function(n,r){var i=s(e[1],arguments);return a(""===n?t[r-1]:n,i)}))}function c(t,e,r){if(!t.length||n.hasOwnProperty(t))return e;for(var i=r.length;i--;){var o=r[i];if(o[0].test(e))return l(e,o)}return e}function u(t,e,n){return function(r){var i=r.toLowerCase();return e.hasOwnProperty(i)?a(r,i):t.hasOwnProperty(i)?a(r,t[i]):c(i,r,n)}}function h(t,e,n,r){return function(r){var i=r.toLowerCase();return!!e.hasOwnProperty(i)||!t.hasOwnProperty(i)&&c(i,i,n)===i}}function d(t,e,n){return(n?e+" ":"")+(1===e?d.singular(t):d.plural(t))}return d.plural=u(i,r,t),d.isPlural=h(i,r,t),d.singular=u(r,i,e),d.isSingular=h(r,i,e),d.addPluralRule=function(e,n){t.push([o(e),n])},d.addSingularRule=function(t,n){e.push([o(t),n])},d.addUncountableRule=function(t){"string"!=typeof t?(d.addPluralRule(t,"$0"),d.addSingularRule(t,"$0")):n[t.toLowerCase()]=!0},d.addIrregularRule=function(t,e){e=e.toLowerCase(),t=t.toLowerCase(),i[t]=e,r[e]=t},[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["passerby","passersby"]].forEach((function(t){return d.addIrregularRule(t[0],t[1])})),[[/s?$/i,"s"],[/[^\u0000-\u007F]$/i,"$0"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|t[lm]as|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[ejzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/\b((?:tit)?m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]].forEach((function(t){return d.addPluralRule(t[0],t[1])})),[[/s$/i,""],[/(ss)$/i,"$1"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/\b([pl]|zomb|(?:neck|cross)?t|coll|faer|food|gen|goon|group|lass|talk|goal|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/\b((?:tit)?m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|t[lm]as|gas|(?:her|at|gr)o|[aeiou]ris)(?:es)?$/i,"$1"],[/(analy|diagno|parenthe|progno|synop|the|empha|cri|ne)(?:sis|ses)$/i,"$1sis"],[/(movie|twelve|abuse|e[mn]u)s$/i,"$1"],[/(test)(?:is|es)$/i,"$1is"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]].forEach((function(t){return d.addSingularRule(t[0],t[1])})),["adulthood","advice","agenda","aid","aircraft","alcohol","ammo","analytics","anime","athletics","audio","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","cod","commerce","cooperation","corps","debris","diabetes","digestion","elk","energy","equipment","excretion","expertise","firmware","flounder","fun","gallows","garbage","graffiti","hardware","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","mud","manga","news","only","personnel","pike","plankton","pliers","police","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","software","species","staff","swine","tennis","traffic","transportation","trout","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/pok[eé]mon$/i,/[^aeiou]ese$/i,/deer$/i,/fish$/i,/measles$/i,/o[iu]s$/i,/pox$/i,/sheep$/i].forEach(d.addUncountableRule),d}))}));function ze(t){return Array.isArray?Array.isArray(t):"[object Array]"===Ke(t)}function Re(t){return"string"==typeof t}function je(t){return"number"==typeof t}function De(t){return!0===t||!1===t||function(t){return Fe(t)&&null!==t}(t)&&"[object Boolean]"==Ke(t)}function Fe(t){return"object"==typeof t}function Pe(t){return null!=t}function Ie(t){return!t.trim().length}function Ke(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const Oe=Object.prototype.hasOwnProperty;class qe{constructor(t){this._keys=[],this._keyMap={};let e=0;t.forEach((t=>{let n=We(t);e+=n.weight,this._keys.push(n),this._keyMap[n.id]=n,e+=n.weight})),this._keys.forEach((t=>{t.weight/=e}))}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function We(t){let e=null,n=null,r=null,i=1;if(Re(t)||ze(t))r=t,e=He(t),n=Ue(t);else{if(!Oe.call(t,"name"))throw new Error((t=>`Missing ${t} property in key`)("name"));const o=t.name;if(r=o,Oe.call(t,"weight")&&(i=t.weight,i<=0))throw new Error((t=>`Property 'weight' in key '${t}' must be a positive integer`)(o));e=He(o),n=Ue(o)}return{path:e,id:n,weight:i,src:r}}function He(t){return ze(t)?t:t.split(".")}function Ue(t){return ze(t)?t.join("."):t}var Be={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1,includeMatches:!1,findAllMatches:!1,minMatchCharLength:1,location:0,threshold:.6,distance:100,...{useExtendedSearch:!1,getFn:function(t,e){let n=[],r=!1;const i=(t,e,o)=>{if(Pe(t))if(e[o]){const a=t[e[o]];if(!Pe(a))return;if(o===e.length-1&&(Re(a)||je(a)||De(a)))n.push(function(t){return null==t?"":function(t){if("string"==typeof t)return t;let e=t+"";return"0"==e&&1/t==-1/0?"-0":e}(t)}(a));else if(ze(a)){r=!0;for(let t=0,n=a.length;t<n;t+=1)i(a[t],e,o+1)}else e.length&&i(a,e,o+1)}else n.push(t)};return i(t,Re(e)?e.split("."):e,0),r?n:n[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1}};const Ge=/[^ ]+/g;class Je{constructor({getFn:t=Be.getFn,fieldNormWeight:e=Be.fieldNormWeight}={}){this.norm=function(t=1,e=3){const n=new Map,r=Math.pow(10,e);return{get(e){const i=e.match(Ge).length;if(n.has(i))return n.get(i);const o=1/Math.pow(i,.5*t),a=parseFloat(Math.round(o*r)/r);return n.set(i,a),a},clear(){n.clear()}}}(e,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach(((t,e)=>{this._keysMap[t.id]=e}))}create(){!this.isCreated&&this.docs.length&&(this.isCreated=!0,Re(this.docs[0])?this.docs.forEach(((t,e)=>{this._addString(t,e)})):this.docs.forEach(((t,e)=>{this._addObject(t,e)})),this.norm.clear())}add(t){const e=this.size();Re(t)?this._addString(t,e):this._addObject(t,e)}removeAt(t){this.records.splice(t,1);for(let e=t,n=this.size();e<n;e+=1)this.records[e].i-=1}getValueForItemAtKeyId(t,e){return t[this._keysMap[e]]}size(){return this.records.length}_addString(t,e){if(!Pe(t)||Ie(t))return;let n={v:t,i:e,n:this.norm.get(t)};this.records.push(n)}_addObject(t,e){let n={i:e,$:{}};this.keys.forEach(((e,r)=>{let i=this.getFn(t,e.path);if(Pe(i))if(ze(i)){let t=[];const e=[{nestedArrIndex:-1,value:i}];for(;e.length;){const{nestedArrIndex:n,value:r}=e.pop();if(Pe(r))if(Re(r)&&!Ie(r)){let e={v:r,i:n,n:this.norm.get(r)};t.push(e)}else ze(r)&&r.forEach(((t,n)=>{e.push({nestedArrIndex:n,value:t})}))}n.$[r]=t}else if(!Ie(i)){let t={v:i,n:this.norm.get(i)};n.$[r]=t}})),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function Ve(t,e,{getFn:n=Be.getFn,fieldNormWeight:r=Be.fieldNormWeight}={}){const i=new Je({getFn:n,fieldNormWeight:r});return i.setKeys(t.map(We)),i.setSources(e),i.create(),i}function Ye(t,{errors:e=0,currentLocation:n=0,expectedLocation:r=0,distance:i=Be.distance,ignoreLocation:o=Be.ignoreLocation}={}){const a=e/t.length;if(o)return a;const s=Math.abs(r-n);return i?a+s/i:s?1:a}const Ze=32;function Xe(t,e,n,{location:r=Be.location,distance:i=Be.distance,threshold:o=Be.threshold,findAllMatches:a=Be.findAllMatches,minMatchCharLength:s=Be.minMatchCharLength,includeMatches:l=Be.includeMatches,ignoreLocation:c=Be.ignoreLocation}={}){if(e.length>Ze)throw new Error(`Pattern length exceeds max of ${Ze}.`);const u=e.length,h=t.length,d=Math.max(0,Math.min(r,h));let f=o,g=d;const p=s>1||l,m=p?Array(h):[];let y;for(;(y=t.indexOf(e,g))>-1;){let t=Ye(e,{currentLocation:y,expectedLocation:d,distance:i,ignoreLocation:c});if(f=Math.min(t,f),g=y+u,p){let t=0;for(;t<u;)m[y+t]=1,t+=1}}g=-1;let x=[],$=1,v=u+h;const b=1<<u-1;for(let r=0;r<u;r+=1){let o=0,s=v;for(;o<s;){Ye(e,{errors:r,currentLocation:d+s,expectedLocation:d,distance:i,ignoreLocation:c})<=f?o=s:v=s,s=Math.floor((v-o)/2+o)}v=s;let l=Math.max(1,d-s+1),y=a?h:Math.min(d+s,h)+u,k=Array(y+2);k[y+1]=(1<<r)-1;for(let o=y;o>=l;o-=1){let a=o-1,s=n[t.charAt(a)];if(p&&(m[a]=+!!s),k[o]=(k[o+1]<<1|1)&s,r&&(k[o]|=(x[o+1]|x[o])<<1|1|x[o+1]),k[o]&b&&($=Ye(e,{errors:r,currentLocation:a,expectedLocation:d,distance:i,ignoreLocation:c}),$<=f)){if(f=$,g=a,g<=d)break;l=Math.max(1,2*d-g)}}if(Ye(e,{errors:r+1,currentLocation:d,expectedLocation:d,distance:i,ignoreLocation:c})>f)break;x=k}const k={isMatch:g>=0,score:Math.max(.001,$)};if(p){const t=function(t=[],e=Be.minMatchCharLength){let n=[],r=-1,i=-1,o=0;for(let a=t.length;o<a;o+=1){let a=t[o];a&&-1===r?r=o:a||-1===r||(i=o-1,i-r+1>=e&&n.push([r,i]),r=-1)}return t[o-1]&&o-r>=e&&n.push([r,o-1]),n}(m,s);t.length?l&&(k.indices=t):k.isMatch=!1}return k}function Qe(t){let e={};for(let n=0,r=t.length;n<r;n+=1){const i=t.charAt(n);e[i]=(e[i]||0)|1<<r-n-1}return e}class tn{constructor(t,{location:e=Be.location,threshold:n=Be.threshold,distance:r=Be.distance,includeMatches:i=Be.includeMatches,findAllMatches:o=Be.findAllMatches,minMatchCharLength:a=Be.minMatchCharLength,isCaseSensitive:s=Be.isCaseSensitive,ignoreLocation:l=Be.ignoreLocation}={}){if(this.options={location:e,threshold:n,distance:r,includeMatches:i,findAllMatches:o,minMatchCharLength:a,isCaseSensitive:s,ignoreLocation:l},this.pattern=s?t:t.toLowerCase(),this.chunks=[],!this.pattern.length)return;const c=(t,e)=>{this.chunks.push({pattern:t,alphabet:Qe(t),startIndex:e})},u=this.pattern.length;if(u>Ze){let t=0;const e=u%Ze,n=u-e;for(;t<n;)c(this.pattern.substr(t,Ze),t),t+=Ze;if(e){const t=u-Ze;c(this.pattern.substr(t),t)}}else c(this.pattern,0)}searchIn(t){const{isCaseSensitive:e,includeMatches:n}=this.options;if(e||(t=t.toLowerCase()),this.pattern===t){let e={isMatch:!0,score:0};return n&&(e.indices=[[0,t.length-1]]),e}const{location:r,distance:i,threshold:o,findAllMatches:a,minMatchCharLength:s,ignoreLocation:l}=this.options;let c=[],u=0,h=!1;this.chunks.forEach((({pattern:e,alphabet:d,startIndex:f})=>{const{isMatch:g,score:p,indices:m}=Xe(t,e,d,{location:r+f,distance:i,threshold:o,findAllMatches:a,minMatchCharLength:s,includeMatches:n,ignoreLocation:l});g&&(h=!0),u+=p,g&&m&&(c=[...c,...m])}));let d={isMatch:h,score:h?u/this.chunks.length:1};return h&&n&&(d.indices=c),d}}class en{constructor(t){this.pattern=t}static isMultiMatch(t){return nn(t,this.multiRegex)}static isSingleMatch(t){return nn(t,this.singleRegex)}search(){}}function nn(t,e){const n=t.match(e);return n?n[1]:null}class rn extends en{constructor(t,{location:e=Be.location,threshold:n=Be.threshold,distance:r=Be.distance,includeMatches:i=Be.includeMatches,findAllMatches:o=Be.findAllMatches,minMatchCharLength:a=Be.minMatchCharLength,isCaseSensitive:s=Be.isCaseSensitive,ignoreLocation:l=Be.ignoreLocation}={}){super(t),this._bitapSearch=new tn(t,{location:e,threshold:n,distance:r,includeMatches:i,findAllMatches:o,minMatchCharLength:a,isCaseSensitive:s,ignoreLocation:l})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class on extends en{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let e,n=0;const r=[],i=this.pattern.length;for(;(e=t.indexOf(this.pattern,n))>-1;)n=e+i,r.push([e,n-1]);const o=!!r.length;return{isMatch:o,score:o?0:1,indices:r}}}const an=[class extends en{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const e=t===this.pattern;return{isMatch:e,score:e?0:1,indices:[0,this.pattern.length-1]}}},on,class extends en{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const e=t.startsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,this.pattern.length-1]}}},class extends en{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const e=!t.startsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}},class extends en{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const e=!t.endsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}},class extends en{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const e=t.endsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[t.length-this.pattern.length,t.length-1]}}},class extends en{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const e=-1===t.indexOf(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}},rn],sn=an.length,ln=/ +(?=([^\"]*\"[^\"]*\")*[^\"]*$)/;const cn=new Set([rn.type,on.type]);class un{constructor(t,{isCaseSensitive:e=Be.isCaseSensitive,includeMatches:n=Be.includeMatches,minMatchCharLength:r=Be.minMatchCharLength,ignoreLocation:i=Be.ignoreLocation,findAllMatches:o=Be.findAllMatches,location:a=Be.location,threshold:s=Be.threshold,distance:l=Be.distance}={}){this.query=null,this.options={isCaseSensitive:e,includeMatches:n,minMatchCharLength:r,findAllMatches:o,ignoreLocation:i,location:a,threshold:s,distance:l},this.pattern=e?t:t.toLowerCase(),this.query=function(t,e={}){return t.split("|").map((t=>{let n=t.trim().split(ln).filter((t=>t&&!!t.trim())),r=[];for(let t=0,i=n.length;t<i;t+=1){const i=n[t];let o=!1,a=-1;for(;!o&&++a<sn;){const t=an[a];let n=t.isMultiMatch(i);n&&(r.push(new t(n,e)),o=!0)}if(!o)for(a=-1;++a<sn;){const t=an[a];let n=t.isSingleMatch(i);if(n){r.push(new t(n,e));break}}}return r}))}(this.pattern,this.options)}static condition(t,e){return e.useExtendedSearch}searchIn(t){const e=this.query;if(!e)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:r}=this.options;t=r?t:t.toLowerCase();let i=0,o=[],a=0;for(let r=0,s=e.length;r<s;r+=1){const s=e[r];o.length=0,i=0;for(let e=0,r=s.length;e<r;e+=1){const r=s[e],{isMatch:l,indices:c,score:u}=r.search(t);if(!l){a=0,i=0,o.length=0;break}if(i+=1,a+=u,n){const t=r.constructor.type;cn.has(t)?o=[...o,...c]:o.push(c)}}if(i){let t={isMatch:!0,score:a/i};return n&&(t.indices=o),t}}return{isMatch:!1,score:1}}}const hn=[];function dn(t,e){for(let n=0,r=hn.length;n<r;n+=1){let r=hn[n];if(r.condition(t,e))return new r(t,e)}return new tn(t,e)}const fn="$and",gn="$or",pn="$path",mn="$val",yn=t=>!(!t[fn]&&!t[gn]),xn=t=>({[fn]:Object.keys(t).map((e=>({[e]:t[e]})))});function $n(t,e,{auto:n=!0}={}){const r=t=>{let i=Object.keys(t);const o=(t=>!!t[pn])(t);if(!o&&i.length>1&&!yn(t))return r(xn(t));if((t=>!ze(t)&&Fe(t)&&!yn(t))(t)){const r=o?t[pn]:i[0],a=o?t[mn]:t[r];if(!Re(a))throw new Error((t=>`Invalid value for key ${t}`)(r));const s={keyId:Ue(r),pattern:a};return n&&(s.searcher=dn(a,e)),s}let a={children:[],operator:i[0]};return i.forEach((e=>{const n=t[e];ze(n)&&n.forEach((t=>{a.children.push(r(t))}))})),a};return yn(t)||(t=xn(t)),r(t)}function vn(t,e){const n=t.matches;e.matches=[],Pe(n)&&n.forEach((t=>{if(!Pe(t.indices)||!t.indices.length)return;const{indices:n,value:r}=t;let i={indices:n,value:r};t.key&&(i.key=t.key.src),t.idx>-1&&(i.refIndex=t.idx),e.matches.push(i)}))}function bn(t,e){e.score=t.score}class kn{constructor(t,e={},n){this.options={...Be,...e},this.options.useExtendedSearch,this._keyStore=new qe(this.options.keys),this.setCollection(t,n)}setCollection(t,e){if(this._docs=t,e&&!(e instanceof Je))throw new Error("Incorrect 'index' type");this._myIndex=e||Ve(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){Pe(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=(()=>!1)){const e=[];for(let n=0,r=this._docs.length;n<r;n+=1){const i=this._docs[n];t(i,n)&&(this.removeAt(n),n-=1,r-=1,e.push(i))}return e}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:e=-1}={}){const{includeMatches:n,includeScore:r,shouldSort:i,sortFn:o,ignoreFieldNorm:a}=this.options;let s=Re(t)?Re(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return function(t,{ignoreFieldNorm:e=Be.ignoreFieldNorm}){t.forEach((t=>{let n=1;t.matches.forEach((({key:t,norm:r,score:i})=>{const o=t?t.weight:null;n*=Math.pow(0===i&&o?Number.EPSILON:i,(o||1)*(e?1:r))})),t.score=n}))}(s,{ignoreFieldNorm:a}),i&&s.sort(o),je(e)&&e>-1&&(s=s.slice(0,e)),function(t,e,{includeMatches:n=Be.includeMatches,includeScore:r=Be.includeScore}={}){const i=[];return n&&i.push(vn),r&&i.push(bn),t.map((t=>{const{idx:n}=t,r={item:e[n],refIndex:n};return i.length&&i.forEach((e=>{e(t,r)})),r}))}(s,this._docs,{includeMatches:n,includeScore:r})}_searchStringList(t){const e=dn(t,this.options),{records:n}=this._myIndex,r=[];return n.forEach((({v:t,i:n,n:i})=>{if(!Pe(t))return;const{isMatch:o,score:a,indices:s}=e.searchIn(t);o&&r.push({item:t,idx:n,matches:[{score:a,value:t,norm:i,indices:s}]})})),r}_searchLogical(t){const e=$n(t,this.options),n=(t,e,r)=>{if(!t.children){const{keyId:n,searcher:i}=t,o=this._findMatches({key:this._keyStore.get(n),value:this._myIndex.getValueForItemAtKeyId(e,n),searcher:i});return o&&o.length?[{idx:r,item:e,matches:o}]:[]}const i=[];for(let o=0,a=t.children.length;o<a;o+=1){const a=t.children[o],s=n(a,e,r);if(s.length)i.push(...s);else if(t.operator===fn)return[]}return i},r=this._myIndex.records,i={},o=[];return r.forEach((({$:t,i:r})=>{if(Pe(t)){let a=n(e,t,r);a.length&&(i[r]||(i[r]={idx:r,item:t,matches:[]},o.push(i[r])),a.forEach((({matches:t})=>{i[r].matches.push(...t)})))}})),o}_searchObjectList(t){const e=dn(t,this.options),{keys:n,records:r}=this._myIndex,i=[];return r.forEach((({$:t,i:r})=>{if(!Pe(t))return;let o=[];n.forEach(((n,r)=>{o.push(...this._findMatches({key:n,value:t[r],searcher:e}))})),o.length&&i.push({idx:r,item:t,matches:o})})),i}_findMatches({key:t,value:e,searcher:n}){if(!Pe(e))return[];let r=[];if(ze(e))e.forEach((({v:e,i:i,n:o})=>{if(!Pe(e))return;const{isMatch:a,score:s,indices:l}=n.searchIn(e);a&&r.push({score:s,key:t,value:e,idx:i,norm:o,indices:l})}));else{const{v:i,n:o}=e,{isMatch:a,score:s,indices:l}=n.searchIn(i);a&&r.push({score:s,key:t,value:i,norm:o,indices:l})}return r}}kn.version="6.5.3",kn.createIndex=Ve,kn.parseIndex=function(t,{getFn:e=Be.getFn,fieldNormWeight:n=Be.fieldNormWeight}={}){const{keys:r,records:i}=t,o=new Je({getFn:e,fieldNormWeight:n});return o.setKeys(r),o.setIndexRecords(i),o},kn.config=Be,kn.parseQuery=$n,function(...t){hn.push(...t)}(un);const wn=[];function Mn(e,n=t){let r;const i=new Set;function o(t){if(s(e,t)&&(e=t,r)){const t=!wn.length;for(const t of i)t[1](),wn.push(t,e);if(t){for(let t=0;t<wn.length;t+=2)wn[t][0](wn[t+1]);wn.length=0}}}return{set:o,update:function(t){o(t(e))},subscribe:function(a,s=t){const l=[a,s];return i.add(l),1===i.size&&(r=n(o)||t),a(e),()=>{i.delete(l),0===i.size&&(r(),r=null)}}}}function _n(e,n,r){const i=!Array.isArray(e),s=i?[e]:e,l=n.length<2;return c=e=>{let r=!1;const c=[];let h=0,d=t;const f=()=>{if(h)return;d();const r=n(i?c[0]:c,e);l?e(r):d=a(r)?r:t},g=s.map(((t,e)=>u(t,(t=>{c[e]=t,h&=~(1<<e),r&&f()}),(()=>{h|=1<<e}))));return r=!0,f(),function(){o(g),d()}},{subscribe:Mn(r,c).subscribe};var c}function Tn(t){return 0===(e=t)||e?Array.isArray(t)?e=>t.map((t=>"function"!=typeof t?e[t]:t(e))):"function"!=typeof t?e=>e[t]:t:null;var e}function Nn(t,e={}){return function(t){const e={};for(const n of t){if(Object(n)!==n)throw new TypeError("iterable for fromEntries should yield objects");const{0:t,1:r}=n;Object.defineProperty(e,t,{configurable:!0,enumerable:!0,writable:!0,value:r})}return e}(Object.entries(t).filter((([t,n])=>void 0!==n&&void 0===e[t])))}function An(t,e){if(!Array.isArray(t))throw new TypeError("The first argument of calcExtents() must be an array.");if(Array.isArray(e)||null==e)throw new TypeError("The second argument of calcExtents() must be an object with field names as keys as accessor functions as values.");const n={},r=Object.keys(e),i=r.length;let o,a,s,l,c,u,h,d;const f=t.length;for(o=0;o<i;o+=1){for(l=r[o],h=e[l],c=null,u=null,a=0;a<f;a+=1)if(d=h(t[a]),Array.isArray(d)){const t=d.length;for(s=0;s<t;s+=1)void 0!==d[s]&&null!==d[s]&&!1===Number.isNaN(d[s])&&((null===c||d[s]<c)&&(c=d[s]),(null===u||d[s]>u)&&(u=d[s]))}else null!=d&&!1===Number.isNaN(d)&&((null===c||d<c)&&(c=d),(null===u||d>u)&&(u=d));n[l]=[c,u]}return n}function Cn(t=[],e){return!0===Array.isArray(e)?e.map(((e,n)=>null===e?t[n]:e)):t}function Sn(t){return function([e,n]){return e?Cn(e[t],n):n}}function En(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Ln(t){let e=t,n=t;function r(t,e,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){const o=r+i>>>1;n(t[o],e)<0?r=o+1:i=o}return r}return 1===t.length&&(e=(e,n)=>t(e)-n,n=function(t){return(e,n)=>En(t(e),n)}(t)),{left:r,center:function(t,n,i,o){null==i&&(i=0),null==o&&(o=t.length);const a=r(t,n,i,o-1);return a>i&&e(t[a-1],n)>-e(t[a],n)?a-1:a},right:function(t,e,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){const o=r+i>>>1;n(t[o],e)>0?i=o:r=o+1}return r}}}const zn=Ln(En).right;Ln((function(t){return null===t?NaN:+t})).center;var Rn=zn,jn=Math.sqrt(50),Dn=Math.sqrt(10),Fn=Math.sqrt(2);function Pn(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=jn?10:o>=Dn?5:o>=Fn?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=jn?10:o>=Dn?5:o>=Fn?2:1)}function In(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function Kn(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function On(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function qn(){}var Wn=.7,Hn=1/Wn,Un="\\s*([+-]?\\d+)\\s*",Bn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Gn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Jn=/^#([0-9a-f]{3,8})$/,Vn=new RegExp("^rgb\\("+[Un,Un,Un]+"\\)$"),Yn=new RegExp("^rgb\\("+[Gn,Gn,Gn]+"\\)$"),Zn=new RegExp("^rgba\\("+[Un,Un,Un,Bn]+"\\)$"),Xn=new RegExp("^rgba\\("+[Gn,Gn,Gn,Bn]+"\\)$"),Qn=new RegExp("^hsl\\("+[Bn,Gn,Gn]+"\\)$"),tr=new RegExp("^hsla\\("+[Bn,Gn,Gn,Bn]+"\\)$"),er={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function nr(){return this.rgb().formatHex()}function rr(){return this.rgb().formatRgb()}function ir(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Jn.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?or(e):3===n?new cr(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?ar(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?ar(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Vn.exec(t))?new cr(e[1],e[2],e[3],1):(e=Yn.exec(t))?new cr(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Zn.exec(t))?ar(e[1],e[2],e[3],e[4]):(e=Xn.exec(t))?ar(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Qn.exec(t))?fr(e[1],e[2]/100,e[3]/100,1):(e=tr.exec(t))?fr(e[1],e[2]/100,e[3]/100,e[4]):er.hasOwnProperty(t)?or(er[t]):"transparent"===t?new cr(NaN,NaN,NaN,0):null}function or(t){return new cr(t>>16&255,t>>8&255,255&t,1)}function ar(t,e,n,r){return r<=0&&(t=e=n=NaN),new cr(t,e,n,r)}function sr(t){return t instanceof qn||(t=ir(t)),t?new cr((t=t.rgb()).r,t.g,t.b,t.opacity):new cr}function lr(t,e,n,r){return 1===arguments.length?sr(t):new cr(t,e,n,null==r?1:r)}function cr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function ur(){return"#"+dr(this.r)+dr(this.g)+dr(this.b)}function hr(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function dr(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function fr(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new pr(t,e,n,r)}function gr(t){if(t instanceof pr)return new pr(t.h,t.s,t.l,t.opacity);if(t instanceof qn||(t=ir(t)),!t)return new pr;if(t instanceof pr)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new pr(a,s,l,t.opacity)}function pr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function mr(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}Kn(qn,ir,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:nr,formatHex:nr,formatHsl:function(){return gr(this).formatHsl()},formatRgb:rr,toString:rr}),Kn(cr,lr,On(qn,{brighter:function(t){return t=null==t?Hn:Math.pow(Hn,t),new cr(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?Wn:Math.pow(Wn,t),new cr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ur,formatHex:ur,formatRgb:hr,toString:hr})),Kn(pr,(function(t,e,n,r){return 1===arguments.length?gr(t):new pr(t,e,n,null==r?1:r)}),On(qn,{brighter:function(t){return t=null==t?Hn:Math.pow(Hn,t),new pr(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Wn:Math.pow(Wn,t),new pr(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new cr(mr(t>=240?t-240:t+120,i,r),mr(t,i,r),mr(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var yr=t=>()=>t;function xr(t){return 1==(t=+t)?$r:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):yr(isNaN(e)?n:e)}}function $r(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):yr(isNaN(t)?e:t)}var vr=function t(e){var n=xr(e);function r(t,e){var r=n((t=lr(t)).r,(e=lr(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=$r(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function br(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}}function kr(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=Cr(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}function wr(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Mr(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function _r(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=Cr(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var Tr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Nr=new RegExp(Tr.source,"g");function Ar(t,e){var n,r,i,o=Tr.lastIndex=Nr.lastIndex=0,a=-1,s=[],l=[];for(t+="",e+="";(n=Tr.exec(t))&&(r=Nr.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:Mr(n,r)})),o=Nr.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,r=0;r<e;++r)s[(n=l[r]).i]=n.x(t);return s.join("")})}function Cr(t,e){var n,r,i=typeof e;return null==e||"boolean"===i?yr(e):("number"===i?Mr:"string"===i?(n=ir(e))?(e=n,vr):Ar:e instanceof ir?vr:e instanceof Date?wr:(r=e,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(e)?kr:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?_r:Mr:br))(t,e)}function Sr(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Er(t){return+t}var Lr=[0,1];function zr(t){return t}function Rr(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function jr(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=Rr(i,r),o=n(a,o)):(r=Rr(r,i),o=n(o,a)),function(t){return o(r(t))}}function Dr(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=Rr(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=Rn(t,e,1,r)-1;return o[n](i[n](e))}}function Fr(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Pr(){var t,e,n,r,i,o,a=Lr,s=Lr,l=Cr,c=zr;function u(){var t,e,n,l=Math.min(a.length,s.length);return c!==zr&&(t=a[0],e=a[l-1],t>e&&(n=t,t=e,e=n),c=function(n){return Math.max(t,Math.min(e,n))}),r=l>2?Dr:jr,i=o=null,h}function h(e){return null==e||isNaN(e=+e)?n:(i||(i=r(a.map(t),s,l)))(t(c(e)))}return h.invert=function(n){return c(e((o||(o=r(s,a.map(t),Mr)))(n)))},h.domain=function(t){return arguments.length?(a=Array.from(t,Er),u()):a.slice()},h.range=function(t){return arguments.length?(s=Array.from(t),u()):s.slice()},h.rangeRound=function(t){return s=Array.from(t),l=Sr,u()},h.clamp=function(t){return arguments.length?(c=!!t||zr,u()):c!==zr},h.interpolate=function(t){return arguments.length?(l=t,u()):l},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,r){return t=n,e=r,u()}}function Ir(){return Pr()(zr,zr)}function Kr(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Or(t){return(t=Kr(Math.abs(t)))?t[1]:NaN}var qr,Wr=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Hr(t){if(!(e=Wr.exec(t)))throw new Error("invalid format: "+t);var e;return new Ur({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Ur(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Br(t,e){var n=Kr(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Hr.prototype=Ur.prototype,Ur.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Gr={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Br(100*t,e),r:Br,s:function(t,e){var n=Kr(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(qr=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Kr(t,Math.max(0,e+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Jr(t){return t}var Vr,Yr,Zr,Xr=Array.prototype.map,Qr=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function ti(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?Jr:(e=Xr.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(t.substring(i-=s,i+s)),!((l+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?Jr:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(Xr.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"−":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function h(t){var e=(t=Hr(t)).fill,n=t.align,h=t.sign,d=t.symbol,f=t.zero,g=t.width,p=t.comma,m=t.precision,y=t.trim,x=t.type;"n"===x?(p=!0,x="g"):Gr[x]||(void 0===m&&(m=12),y=!0,x="g"),(f||"0"===e&&"="===n)&&(f=!0,e="0",n="=");var $="$"===d?i:"#"===d&&/[boxX]/.test(x)?"0"+x.toLowerCase():"",v="$"===d?o:/[%p]/.test(x)?l:"",b=Gr[x],k=/[defgprs%]/.test(x);function w(t){var i,o,l,d=$,w=v;if("c"===x)w=b(t)+w,t="";else{var M=(t=+t)<0||1/t<0;if(t=isNaN(t)?u:b(Math.abs(t),m),y&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),M&&0==+t&&"+"!==h&&(M=!1),d=(M?"("===h?h:c:"-"===h||"("===h?"":h)+d,w=("s"===x?Qr[8+qr/3]:"")+w+(M&&"("===h?")":""),k)for(i=-1,o=t.length;++i<o;)if(48>(l=t.charCodeAt(i))||l>57){w=(46===l?a+t.slice(i+1):t.slice(i))+w,t=t.slice(0,i);break}}p&&!f&&(t=r(t,1/0));var _=d.length+t.length+w.length,T=_<g?new Array(g-_+1).join(e):"";switch(p&&f&&(t=r(T+t,T.length?g-w.length:1/0),T=""),n){case"<":t=d+t+w+T;break;case"=":t=d+T+t+w;break;case"^":t=T.slice(0,_=T.length>>1)+d+t+w+T.slice(_);break;default:t=T+d+t+w}return s(t)}return m=void 0===m?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),w.toString=function(){return t+""},w}return{format:h,formatPrefix:function(t,e){var n=h(((t=Hr(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Or(e)/3))),i=Math.pow(10,-r),o=Qr[8+r/3];return function(t){return n(i*t)+o}}}}function ei(t,e,n,r){var i,o=function(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=jn?i*=10:o>=Dn?i*=5:o>=Fn&&(i*=2),e<t?-i:i}(t,e,n);switch((r=Hr(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Or(e)/3)))-Or(Math.abs(t)))}(o,a))||(r.precision=i),Zr(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Or(e)-Or(t))+1}(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-Or(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return Yr(r)}function ni(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){var r,i,o,a,s=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=Pn(t,e,n))||!isFinite(a))return[];if(a>0){let n=Math.round(t/a),r=Math.round(e/a);for(n*a<t&&++n,r*a>e&&--r,o=new Array(i=r-n+1);++s<i;)o[s]=(n+s)*a}else{a=-a;let n=Math.round(t*a),r=Math.round(e*a);for(n/a<t&&++n,r/a>e&&--r,o=new Array(i=r-n+1);++s<i;)o[s]=(n+s)/a}return r&&o.reverse(),o}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return ei(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i,o=e(),a=0,s=o.length-1,l=o[a],c=o[s],u=10;for(c<l&&(i=l,l=c,c=i,i=a,a=s,s=i);u-- >0;){if((i=Pn(l,c,n))===r)return o[a]=l,o[s]=c,e(o);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}r=i}return t},t}function ri(){var t=Ir();return t.copy=function(){return Fr(t,ri())},In.apply(t,arguments),ni(t)}function ii(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function oi(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function ai(t){return t<0?-t*t:t*t}function si(t){var e=t(zr,zr),n=1;function r(){return 1===n?t(zr,zr):.5===n?t(oi,ai):t(ii(n),ii(1/n))}return e.exponent=function(t){return arguments.length?(n=+t,r()):n},ni(e)}function li(){var t=si(Pr());return t.copy=function(){return Fr(t,li()).exponent(t.exponent())},In.apply(t,arguments),t}Vr=ti({thousands:",",grouping:[3],currency:["$",""]}),Yr=Vr.format,Zr=Vr.formatPrefix;var ci={x:ri,y:ri,z:ri,r:function(){return li.apply(null,arguments).exponent(.5)}};function ui(t){return t}function hi(t){return e=>Math.log(t*e)}function di(t){return e=>t*Math.exp(e)}function fi(t){return e=>Math.sign(e)*Math.expm1(Math.abs(e))*t}function gi(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function pi(t,e){if("function"!=typeof t.range)throw new Error("Scale method `range` must be a function");if("function"!=typeof t.domain)throw new Error("Scale method `domain` must be a function");if(!Array.isArray(e))return t.domain();2!==t.domain().length&&console.warn("[LayerCake] The scale is expected to have a domain of length 2 to use padding. Are you sure you want to use padding? Your scale's domain is:",t.domain()),2!==t.range().length&&console.warn("[LayerCake] The scale is expected to have a range of length 2 to use padding. Are you sure you want to use padding? Your scale's range is:",t.range());const{lift:n,ground:r}=function(t){const e=function(t){return t.constant?"symlog":t.base?"log":t.exponent?.5===t.exponent()?"sqrt":"pow":"other"}(t);if("log"===e){const n=Math.sign(t.domain()[0]);return{lift:hi(n),ground:di(n),scaleType:e}}if("pow"===e){const t=1;return{lift:gi(t),ground:gi(1/t),scaleType:e}}if("sqrt"===e){const t=.5;return{lift:gi(t),ground:gi(1/t),scaleType:e}}if("symlog"===e){const t=1;return{lift:(n=t,t=>Math.sign(t)*Math.log1p(Math.abs(t/n))),ground:fi(t),scaleType:e}}var n;return{lift:ui,ground:ui,scaleType:e}}(t),i=t.domain()[0],o="[object Date]"===Object.prototype.toString.call(i),[a,s]=t.domain().map((t=>n(o?t.getTime():t))),[l,c]=t.range(),u=e[0]||0,h=e[1]||0,d=(s-a)/(Math.abs(c-l)-u-h);return[a-u*d,h*d+s].map((t=>r(o?new Date(t):t)))}function mi(t){return function([e,n,r,i,o,a,s,l,c,u]){if(null===n)return null;const h=function(t,e,n,r,i,o){return i?"function"==typeof i?i({width:e,height:n}):i:function(t,e,n,r,i){let o,a;return!0===i?(o=0,a=100):(o="r"===t?1:0,a="y"===t?n:"r"===t?25:e),!0===r?[a,o]:[o,a]}(t,e,n,r,o)}(t,s,l,a,c,u),d=e===ci[t]?e():e.copy();return d.domain(Cn(n[t],r)).range(h),i&&d.domain(pi(d,i)),!0===o&&("function"==typeof d.nice?d.nice():console.error(`[Layer Cake] You set \`${t}Nice: true\` but the ${t}Scale does not have a \`.nice\` method. Ignoring...`)),d}}function yi([t,e]){return n=>{const r=t(n);return Array.isArray(r)?r.map((t=>e(t))):e(r)}}function xi([t]){if("function"==typeof t){if("function"==typeof t.range)return t.range();console.error("[LayerCake] Your scale doesn't have a `.range` method?")}return null}var $i={x:!1,y:!0,z:!1,r:!1};const vi=t=>({element:4&t[0],width:64&t[0],height:128&t[0],aspectRatio:256&t[0],containerWidth:512&t[0],containerHeight:1024&t[0]}),bi=t=>({element:t[2],width:t[6],height:t[7],aspectRatio:t[8],containerWidth:t[9],containerHeight:t[10]});function ki(t){let e,n,r,i;const o=t[54].default,a=d(o,t,t[53],bi);return{c(){e=T("div"),a&&a.c(),L(e,"class","layercake-container svelte-vhzpsp"),L(e,"style",n="position:"+t[5]+"; "+("absolute"===t[5]?"top:0;right:0;bottom:0;left:0;":"")+" "+(!1===t[4]?"pointer-events:none;":"")),et((()=>t[56].call(e)))},m(n,o){w(n,e,o),a&&a.m(e,null),t[55](e),r=function(t,e){"static"===getComputedStyle(t).position&&(t.style.position="relative");const n=T("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const r=P();let i;return r?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",i=E(window,"message",(t=>{t.source===n.contentWindow&&e()}))):(n.src="about:blank",n.onload=()=>{i=E(n.contentWindow,"resize",e)}),k(t,n),()=>{(r||i&&n.contentWindow)&&i(),M(n)}}(e,t[56].bind(e)),i=!0},p(t,r){a&&a.p&&(!i||1988&r[0]|4194304&r[1])&&p(a,o,t,t[53],i?g(o,t[53],r,vi):m(t[53]),bi),(!i||48&r[0]&&n!==(n="position:"+t[5]+"; "+("absolute"===t[5]?"top:0;right:0;bottom:0;left:0;":"")+" "+(!1===t[4]?"pointer-events:none;":"")))&&L(e,"style",n)},i(t){i||(ht(a,t),i=!0)},o(t){dt(a,t),i=!1},d(n){n&&M(e),a&&a.d(n),t[55](null),r()}}}function wi(t){let e,n,r=(!0===t[3]||"undefined"!=typeof window)&&ki(t);return{c(){r&&r.c(),e=S()},m(t,i){r&&r.m(t,i),w(t,e,i),n=!0},p(t,n){!0===t[3]||"undefined"!=typeof window?r?(r.p(t,n),8&n[0]&&ht(r,1)):(r=ki(t),r.c(),ht(r,1),r.m(e.parentNode,e)):r&&(ct(),dt(r,1,1,(()=>{r=null})),ut())},i(t){n||(ht(r),n=!0)},o(t){dt(r),n=!1},d(t){r&&r.d(t),t&&M(e)}}}function Mi(t,e,n){let r,i,o,a,s,l,{$$slots:c={},$$scope:u}=e,{ssr:d=!1}=e,{pointerEvents:f=!0}=e,{position:g="relative"}=e,{percentRange:p=!1}=e,{width:m}=e,{height:y}=e,{containerWidth:x=m||100}=e,{containerHeight:$=y||100}=e,{element:v}=e,{x:b}=e,{y:k}=e,{z:w}=e,{r:M}=e,{custom:_={}}=e,{data:T=[]}=e,{xDomain:N}=e,{yDomain:A}=e,{zDomain:C}=e,{rDomain:S}=e,{xNice:E=!1}=e,{yNice:L=!1}=e,{zNice:z=!1}=e,{rNice:R=!1}=e,{xReverse:j=$i.x}=e,{yReverse:D=$i.y}=e,{zReverse:F=$i.z}=e,{rReverse:P=$i.r}=e,{xPadding:I}=e,{yPadding:K}=e,{zPadding:O}=e,{rPadding:q}=e,{xScale:W=ci.x}=e,{yScale:H=ci.y}=e,{zScale:U=ci.y}=e,{rScale:G=ci.r}=e,{xRange:J}=e,{yRange:V}=e,{zRange:Z}=e,{rRange:X}=e,{padding:Q={}}=e,{extents:tt={}}=e,{flatData:et}=e;const nt={},rt=Mn(),it=Mn();h(t,it,(t=>n(9,s=t)));const ot=Mn();h(t,ot,(t=>n(10,l=t)));const at=Mn(),st=Mn(),lt=Mn(),ct=Mn(),ut=Mn(),ht=Mn(),dt=Mn(),ft=Mn(),gt=Mn(),pt=Mn(),mt=Mn(),yt=Mn(),xt=Mn(),$t=Mn(),vt=Mn(),bt=Mn(),kt=Mn(),wt=Mn(),Mt=Mn(),_t=Mn(),Tt=Mn(),Nt=Mn(),At=Mn(),Ct=Mn(),St=Mn(),Et=Mn(),Lt=Mn(),zt=Mn(),Rt=Mn(),jt=Mn(),Dt=Mn(),Ft=Mn(),Pt=Mn(),It=Mn(nt),Kt=_n([at,st,lt,ct],(([t,e,n,r])=>{const i={};return t&&(i.x=t),e&&(i.y=e),n&&(i.z=n),r&&(i.r=r),i})),Ot=_n([Dt,it,ot],(([t])=>Object.assign({top:0,right:0,bottom:0,left:0},t))),qt=_n([it,ot,Ot],(([t,e,n])=>{const r={};return r.top=n.top,r.right=t-n.right,r.bottom=e-n.bottom,r.left=n.left,r.width=r.right-r.left,r.height=r.bottom-r.top,r.width<=0&&console.error("[LayerCake] Target div has zero or negative width. Did you forget to set an explicit width in CSS on the container?"),r.height<=0&&console.error("[LayerCake] Target div has zero or negative height. Did you forget to set an explicit height in CSS on the container?"),r})),Wt=_n([qt],(([t])=>t.width));h(t,Wt,(t=>n(6,i=t)));const Ht=_n([qt],(([t])=>t.height));h(t,Ht,(t=>n(7,o=t)));const Ut=_n([Ft,Kt,Pt],(([t,e,n])=>{const r=Nn(e,n);return Object.keys(r).length>0?{...An(t,r),...n}:{}})),Bt=_n([Ut,dt],Sn("x")),Gt=_n([Ut,ft],Sn("y")),Jt=_n([Ut,gt],Sn("z")),Vt=_n([Ut,pt],Sn("r")),Yt=_n([At,Ut,Bt,Mt,mt,vt,Wt,Ht,Lt,rt],mi("x")),Zt=_n([at,Yt],yi),Xt=_n([Ct,Ut,Gt,_t,yt,bt,Wt,Ht,zt,rt],mi("y")),Qt=_n([st,Xt],yi),te=_n([St,Ut,Jt,Tt,xt,kt,Wt,Ht,Rt,rt],mi("z")),ee=_n([lt,te],yi),ne=_n([Et,Ut,Vt,Nt,$t,wt,Wt,Ht,jt,rt],mi("r")),re=_n([ct,ne],yi),ie=_n([Yt],xi),oe=_n([Xt],xi),ae=_n([te],xi),se=_n([ne],xi),le=_n([Wt,Ht],(([t,e,n])=>e/n));return h(t,le,(t=>n(8,a=t))),t.$$set=t=>{"ssr"in t&&n(3,d=t.ssr),"pointerEvents"in t&&n(4,f=t.pointerEvents),"position"in t&&n(5,g=t.position),"percentRange"in t&&n(16,p=t.percentRange),"width"in t&&n(17,m=t.width),"height"in t&&n(18,y=t.height),"containerWidth"in t&&n(0,x=t.containerWidth),"containerHeight"in t&&n(1,$=t.containerHeight),"element"in t&&n(2,v=t.element),"x"in t&&n(19,b=t.x),"y"in t&&n(20,k=t.y),"z"in t&&n(21,w=t.z),"r"in t&&n(22,M=t.r),"custom"in t&&n(23,_=t.custom),"data"in t&&n(24,T=t.data),"xDomain"in t&&n(25,N=t.xDomain),"yDomain"in t&&n(26,A=t.yDomain),"zDomain"in t&&n(27,C=t.zDomain),"rDomain"in t&&n(28,S=t.rDomain),"xNice"in t&&n(29,E=t.xNice),"yNice"in t&&n(30,L=t.yNice),"zNice"in t&&n(31,z=t.zNice),"rNice"in t&&n(32,R=t.rNice),"xReverse"in t&&n(33,j=t.xReverse),"yReverse"in t&&n(34,D=t.yReverse),"zReverse"in t&&n(35,F=t.zReverse),"rReverse"in t&&n(36,P=t.rReverse),"xPadding"in t&&n(37,I=t.xPadding),"yPadding"in t&&n(38,K=t.yPadding),"zPadding"in t&&n(39,O=t.zPadding),"rPadding"in t&&n(40,q=t.rPadding),"xScale"in t&&n(41,W=t.xScale),"yScale"in t&&n(42,H=t.yScale),"zScale"in t&&n(43,U=t.zScale),"rScale"in t&&n(44,G=t.rScale),"xRange"in t&&n(45,J=t.xRange),"yRange"in t&&n(46,V=t.yRange),"zRange"in t&&n(47,Z=t.zRange),"rRange"in t&&n(48,X=t.rRange),"padding"in t&&n(49,Q=t.padding),"extents"in t&&n(50,tt=t.extents),"flatData"in t&&n(51,et=t.flatData),"$$scope"in t&&n(53,u=t.$$scope)},t.$$.update=()=>{524288&t.$$.dirty[0]&&b&&(nt.x=b),1048576&t.$$.dirty[0]&&k&&(nt.y=k),2097152&t.$$.dirty[0]&&w&&(nt.z=w),4194304&t.$$.dirty[0]&&M&&(nt.r=M),33554432&t.$$.dirty[0]&&N&&(nt.xDomain=N),67108864&t.$$.dirty[0]&&A&&(nt.yDomain=A),134217728&t.$$.dirty[0]&&C&&(nt.zDomain=C),268435456&t.$$.dirty[0]&&S&&(nt.rDomain=S),16384&t.$$.dirty[1]&&J&&(nt.xRange=J),32768&t.$$.dirty[1]&&V&&(nt.yRange=V),65536&t.$$.dirty[1]&&Z&&(nt.zRange=Z),131072&t.$$.dirty[1]&&X&&(nt.rRange=X),65536&t.$$.dirty[0]&&rt.set(p),1&t.$$.dirty[0]&&it.set(x),2&t.$$.dirty[0]&&ot.set($),524288&t.$$.dirty[0]&&at.set(Tn(b)),1048576&t.$$.dirty[0]&&st.set(Tn(k)),2097152&t.$$.dirty[0]&&lt.set(Tn(w)),4194304&t.$$.dirty[0]&&ct.set(Tn(M)),33554432&t.$$.dirty[0]&&dt.set(N),67108864&t.$$.dirty[0]&&ft.set(A),134217728&t.$$.dirty[0]&&gt.set(C),268435456&t.$$.dirty[0]&&pt.set(S),8388608&t.$$.dirty[0]&&ut.set(_),16777216&t.$$.dirty[0]&&ht.set(T),536870912&t.$$.dirty[0]&&mt.set(E),1073741824&t.$$.dirty[0]&&yt.set(L),1&t.$$.dirty[1]&&xt.set(z),2&t.$$.dirty[1]&&$t.set(R),4&t.$$.dirty[1]&&vt.set(j),8&t.$$.dirty[1]&&bt.set(D),16&t.$$.dirty[1]&&kt.set(F),32&t.$$.dirty[1]&&wt.set(P),64&t.$$.dirty[1]&&Mt.set(I),128&t.$$.dirty[1]&&_t.set(K),256&t.$$.dirty[1]&&Tt.set(O),512&t.$$.dirty[1]&&Nt.set(q),1024&t.$$.dirty[1]&&At.set(W),2048&t.$$.dirty[1]&&Ct.set(H),4096&t.$$.dirty[1]&&St.set(U),8192&t.$$.dirty[1]&&Et.set(G),16384&t.$$.dirty[1]&&Lt.set(J),32768&t.$$.dirty[1]&&zt.set(V),65536&t.$$.dirty[1]&&Rt.set(Z),131072&t.$$.dirty[1]&&jt.set(X),262144&t.$$.dirty[1]&&Dt.set(Q),524288&t.$$.dirty[1]&&Pt.set(Nn(tt)),16777216&t.$$.dirty[0]|1048576&t.$$.dirty[1]&&Ft.set(et||T),2097152&t.$$.dirty[1]&&B("LayerCake",r)},n(52,r={activeGetters:Kt,width:Wt,height:Ht,percentRange:rt,aspectRatio:le,containerWidth:it,containerHeight:ot,x:at,y:st,z:lt,r:ct,custom:ut,data:ht,xNice:mt,yNice:yt,zNice:xt,rNice:$t,xReverse:vt,yReverse:bt,zReverse:kt,rReverse:wt,xPadding:Mt,yPadding:_t,zPadding:Tt,rPadding:Nt,padding:Ot,flatData:Ft,extents:Ut,xDomain:Bt,yDomain:Gt,zDomain:Jt,rDomain:Vt,xRange:ie,yRange:oe,zRange:ae,rRange:se,config:It,xScale:Yt,xGet:Zt,yScale:Xt,yGet:Qt,zScale:te,zGet:ee,rScale:ne,rGet:re}),[x,$,v,d,f,g,i,o,a,s,l,it,ot,Wt,Ht,le,p,m,y,b,k,w,M,_,T,N,A,C,S,E,L,z,R,j,D,F,P,I,K,O,q,W,H,U,G,J,V,Z,X,Q,tt,et,r,u,c,function(t){Y[t?"unshift":"push"]((()=>{v=t,n(2,v)}))},function(){x=this.clientWidth,$=this.clientHeight,n(0,x),n(1,$)}]}class _i extends Mt{constructor(t){super(),wt(this,t,Mi,wi,s,{ssr:3,pointerEvents:4,position:5,percentRange:16,width:17,height:18,containerWidth:0,containerHeight:1,element:2,x:19,y:20,z:21,r:22,custom:23,data:24,xDomain:25,yDomain:26,zDomain:27,rDomain:28,xNice:29,yNice:30,zNice:31,rNice:32,xReverse:33,yReverse:34,zReverse:35,rReverse:36,xPadding:37,yPadding:38,zPadding:39,rPadding:40,xScale:41,yScale:42,zScale:43,rScale:44,xRange:45,yRange:46,zRange:47,rRange:48,padding:49,extents:50,flatData:51},null,[-1,-1,-1,-1])}}const Ti=t=>({element:1&t}),Ni=t=>({element:t[0]});function Ai(t){let e,n,r;const i=t[8].default,o=d(i,t,t[7],Ni);return{c(){e=T("div"),o&&o.c(),L(e,"class","layercake-layout-html svelte-1bu60uu"),L(e,"style",n="top: "+t[3].top+"px; right:"+t[3].right+"px; bottom:"+t[3].bottom+"px; left:"+t[3].left+"px;"+t[1]+t[2])},m(n,i){w(n,e,i),o&&o.m(e,null),t[9](e),r=!0},p(t,[a]){o&&o.p&&(!r||129&a)&&p(o,i,t,t[7],r?g(i,t[7],a,Ti):m(t[7]),Ni),(!r||14&a&&n!==(n="top: "+t[3].top+"px; right:"+t[3].right+"px; bottom:"+t[3].bottom+"px; left:"+t[3].left+"px;"+t[1]+t[2]))&&L(e,"style",n)},i(t){r||(ht(o,t),r=!0)},o(t){dt(o,t),r=!1},d(n){n&&M(e),o&&o.d(n),t[9](null)}}}function Ci(t,e,n){let r,{$$slots:i={},$$scope:o}=e,{element:a}=e,{zIndex:s}=e,{pointerEvents:l}=e,c="",u="";const{padding:d}=G("LayerCake");return h(t,d,(t=>n(3,r=t))),t.$$set=t=>{"element"in t&&n(0,a=t.element),"zIndex"in t&&n(5,s=t.zIndex),"pointerEvents"in t&&n(6,l=t.pointerEvents),"$$scope"in t&&n(7,o=t.$$scope)},t.$$.update=()=>{32&t.$$.dirty&&n(1,c=void 0!==s?`z-index:${s};`:""),64&t.$$.dirty&&n(2,u=!1===l?"pointer-events:none;":"")},[a,c,u,r,d,s,l,o,i,function(t){Y[t?"unshift":"push"]((()=>{a=t,n(0,a)}))}]}class Si extends Mt{constructor(t){super(),wt(this,t,Ci,Ai,s,{element:0,zIndex:5,pointerEvents:6})}}const Ei=t=>({element:1&t}),Li=t=>({element:t[0]}),zi=t=>({element:1&t}),Ri=t=>({element:t[0]});function ji(t){let e,n,r,i,o,a;const s=t[13].defs,l=d(s,t,t[12],Ri),c=t[13].default,u=d(c,t,t[12],Li);return{c(){e=N("svg"),n=N("defs"),l&&l.c(),r=N("g"),u&&u.c(),L(r,"class","layercake-layout-svg_g"),L(r,"transform",i="translate("+t[6].left+", "+t[6].top+")"),L(e,"class","layercake-layout-svg svelte-u84d8d"),L(e,"viewBox",t[1]),L(e,"width",t[4]),L(e,"height",t[5]),L(e,"style",o=""+(t[2]+t[3]))},m(i,o){w(i,e,o),k(e,n),l&&l.m(n,null),k(e,r),u&&u.m(r,null),t[14](e),a=!0},p(t,[n]){l&&l.p&&(!a||4097&n)&&p(l,s,t,t[12],a?g(s,t[12],n,zi):m(t[12]),Ri),u&&u.p&&(!a||4097&n)&&p(u,c,t,t[12],a?g(c,t[12],n,Ei):m(t[12]),Li),(!a||64&n&&i!==(i="translate("+t[6].left+", "+t[6].top+")"))&&L(r,"transform",i),(!a||2&n)&&L(e,"viewBox",t[1]),(!a||16&n)&&L(e,"width",t[4]),(!a||32&n)&&L(e,"height",t[5]),(!a||12&n&&o!==(o=""+(t[2]+t[3])))&&L(e,"style",o)},i(t){a||(ht(l,t),ht(u,t),a=!0)},o(t){dt(l,t),dt(u,t),a=!1},d(n){n&&M(e),l&&l.d(n),u&&u.d(n),t[14](null)}}}function Di(t,e,n){let r,i,o,{$$slots:a={},$$scope:s}=e,{element:l}=e,{viewBox:c}=e,{zIndex:u}=e,{pointerEvents:d}=e,f="",g="";const{containerWidth:p,containerHeight:m,padding:y}=G("LayerCake");return h(t,p,(t=>n(4,r=t))),h(t,m,(t=>n(5,i=t))),h(t,y,(t=>n(6,o=t))),t.$$set=t=>{"element"in t&&n(0,l=t.element),"viewBox"in t&&n(1,c=t.viewBox),"zIndex"in t&&n(10,u=t.zIndex),"pointerEvents"in t&&n(11,d=t.pointerEvents),"$$scope"in t&&n(12,s=t.$$scope)},t.$$.update=()=>{1024&t.$$.dirty&&n(2,f=void 0!==u?`z-index:${u};`:""),2048&t.$$.dirty&&n(3,g=!1===d?"pointer-events:none;":"")},[l,c,f,g,r,i,o,p,m,y,u,d,s,a,function(t){Y[t?"unshift":"push"]((()=>{l=t,n(0,l)}))}]}class Fi extends Mt{constructor(t){super(),wt(this,t,Di,ji,s,{element:0,viewBox:1,zIndex:10,pointerEvents:11})}}function Pi(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ii(t){let e=t,n=t,r=t;function i(t,e,i=0,o=t.length){if(i<o){if(0!==n(e,e))return o;do{const n=i+o>>>1;r(t[n],e)<0?i=n+1:o=n}while(i<o)}return i}return 2!==t.length&&(e=(e,n)=>t(e)-n,n=Pi,r=(e,n)=>Pi(t(e),n)),{left:i,center:function(t,n,r=0,o=t.length){const a=i(t,n,r,o-1);return a>r&&e(t[a-1],n)>-e(t[a],n)?a-1:a},right:function(t,e,i=0,o=t.length){if(i<o){if(0!==n(e,e))return o;do{const n=i+o>>>1;r(t[n],e)<=0?i=n+1:o=n}while(i<o)}return i}}}const Ki=Ii(Pi).right;Ii((function(t){return null===t?NaN:+t})).center;var Oi=Ki;class qi extends Map{constructor(t,e=Hi){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const[e,n]of t)this.set(e,n)}get(t){return super.get(Wi(this,t))}has(t){return super.has(Wi(this,t))}set(t,e){return super.set(function({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}(this,t),e)}delete(t){return super.delete(function({_intern:t,_key:e},n){const r=e(n);t.has(r)&&(n=t.get(r),t.delete(r));return n}(this,t))}}function Wi({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Hi(t){return null!==t&&"object"==typeof t?t.valueOf():t}var Ui=Math.sqrt(50),Bi=Math.sqrt(10),Gi=Math.sqrt(2);function Ji(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=Ui?10:o>=Bi?5:o>=Gi?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=Ui?10:o>=Bi?5:o>=Gi?2:1)}function Vi(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o}function Yi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}const Zi=Symbol("implicit");function Xi(){var t=new qi,e=[],n=[],r=Zi;function i(i){let o=t.get(i);if(void 0===o){if(r!==Zi)return r;t.set(i,o=e.push(i)-1)}return n[o%n.length]}return i.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new qi;for(const r of n)t.has(r)||t.set(r,e.push(r)-1);return i},i.range=function(t){return arguments.length?(n=Array.from(t),i):n.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return Xi(e,n).unknown(r)},Yi.apply(i,arguments),i}function Qi(){var t,e,n=Xi().unknown(void 0),r=n.domain,i=n.range,o=0,a=1,s=!1,l=0,c=0,u=.5;function h(){var n=r().length,h=a<o,d=h?a:o,f=h?o:a;t=(f-d)/Math.max(1,n-l+2*c),s&&(t=Math.floor(t)),d+=(f-d-t*(n-l))*u,e=t*(1-l),s&&(d=Math.round(d),e=Math.round(e));var g=Vi(n).map((function(e){return d+t*e}));return i(h?g.reverse():g)}return delete n.unknown,n.domain=function(t){return arguments.length?(r(t),h()):r()},n.range=function(t){return arguments.length?([o,a]=t,o=+o,a=+a,h()):[o,a]},n.rangeRound=function(t){return[o,a]=t,o=+o,a=+a,s=!0,h()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(s=!!t,h()):s},n.padding=function(t){return arguments.length?(l=Math.min(1,c=+t),h()):l},n.paddingInner=function(t){return arguments.length?(l=Math.min(1,t),h()):l},n.paddingOuter=function(t){return arguments.length?(c=+t,h()):c},n.align=function(t){return arguments.length?(u=Math.max(0,Math.min(1,t)),h()):u},n.copy=function(){return Qi(r(),[o,a]).round(s).paddingInner(l).paddingOuter(c).align(u)},Yi.apply(h(),arguments)}function to(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function eo(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function no(){}var ro=.7,io=1/ro,oo="\\s*([+-]?\\d+)\\s*",ao="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",so="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",lo=/^#([0-9a-f]{3,8})$/,co=new RegExp("^rgb\\("+[oo,oo,oo]+"\\)$"),uo=new RegExp("^rgb\\("+[so,so,so]+"\\)$"),ho=new RegExp("^rgba\\("+[oo,oo,oo,ao]+"\\)$"),fo=new RegExp("^rgba\\("+[so,so,so,ao]+"\\)$"),go=new RegExp("^hsl\\("+[ao,so,so]+"\\)$"),po=new RegExp("^hsla\\("+[ao,so,so,ao]+"\\)$"),mo={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function yo(){return this.rgb().formatHex()}function xo(){return this.rgb().formatRgb()}function $o(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=lo.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?vo(e):3===n?new Mo(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?bo(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?bo(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=co.exec(t))?new Mo(e[1],e[2],e[3],1):(e=uo.exec(t))?new Mo(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=ho.exec(t))?bo(e[1],e[2],e[3],e[4]):(e=fo.exec(t))?bo(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=go.exec(t))?Ao(e[1],e[2]/100,e[3]/100,1):(e=po.exec(t))?Ao(e[1],e[2]/100,e[3]/100,e[4]):mo.hasOwnProperty(t)?vo(mo[t]):"transparent"===t?new Mo(NaN,NaN,NaN,0):null}function vo(t){return new Mo(t>>16&255,t>>8&255,255&t,1)}function bo(t,e,n,r){return r<=0&&(t=e=n=NaN),new Mo(t,e,n,r)}function ko(t){return t instanceof no||(t=$o(t)),t?new Mo((t=t.rgb()).r,t.g,t.b,t.opacity):new Mo}function wo(t,e,n,r){return 1===arguments.length?ko(t):new Mo(t,e,n,null==r?1:r)}function Mo(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function _o(){return"#"+No(this.r)+No(this.g)+No(this.b)}function To(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function No(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Ao(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new So(t,e,n,r)}function Co(t){if(t instanceof So)return new So(t.h,t.s,t.l,t.opacity);if(t instanceof no||(t=$o(t)),!t)return new So;if(t instanceof So)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new So(a,s,l,t.opacity)}function So(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Eo(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}to(no,$o,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:yo,formatHex:yo,formatHsl:function(){return Co(this).formatHsl()},formatRgb:xo,toString:xo}),to(Mo,wo,eo(no,{brighter:function(t){return t=null==t?io:Math.pow(io,t),new Mo(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?ro:Math.pow(ro,t),new Mo(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:_o,formatHex:_o,formatRgb:To,toString:To})),to(So,(function(t,e,n,r){return 1===arguments.length?Co(t):new So(t,e,n,null==r?1:r)}),eo(no,{brighter:function(t){return t=null==t?io:Math.pow(io,t),new So(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?ro:Math.pow(ro,t),new So(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Mo(Eo(t>=240?t-240:t+120,i,r),Eo(t,i,r),Eo(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Lo=t=>()=>t;function zo(t){return 1==(t=+t)?Ro:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Lo(isNaN(e)?n:e)}}function Ro(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):Lo(isNaN(t)?e:t)}var jo=function t(e){var n=zo(e);function r(t,e){var r=n((t=wo(t)).r,(e=wo(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=Ro(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function Do(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}}function Fo(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=Ho(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}function Po(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Io(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Ko(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=Ho(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var Oo=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,qo=new RegExp(Oo.source,"g");function Wo(t,e){var n,r,i,o=Oo.lastIndex=qo.lastIndex=0,a=-1,s=[],l=[];for(t+="",e+="";(n=Oo.exec(t))&&(r=qo.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:Io(n,r)})),o=qo.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,r=0;r<e;++r)s[(n=l[r]).i]=n.x(t);return s.join("")})}function Ho(t,e){var n,r,i=typeof e;return null==e||"boolean"===i?Lo(e):("number"===i?Io:"string"===i?(n=$o(e))?(e=n,jo):Wo:e instanceof $o?jo:e instanceof Date?Po:(r=e,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(e)?Fo:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Ko:Io:Do))(t,e)}function Uo(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Bo(t){return+t}var Go=[0,1];function Jo(t){return t}function Vo(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function Yo(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=Vo(i,r),o=n(a,o)):(r=Vo(r,i),o=n(o,a)),function(t){return o(r(t))}}function Zo(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=Vo(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=Oi(t,e,1,r)-1;return o[n](i[n](e))}}function Xo(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Qo(){var t,e,n,r,i,o,a=Go,s=Go,l=Ho,c=Jo;function u(){var t,e,n,l=Math.min(a.length,s.length);return c!==Jo&&(t=a[0],e=a[l-1],t>e&&(n=t,t=e,e=n),c=function(n){return Math.max(t,Math.min(e,n))}),r=l>2?Zo:Yo,i=o=null,h}function h(e){return null==e||isNaN(e=+e)?n:(i||(i=r(a.map(t),s,l)))(t(c(e)))}return h.invert=function(n){return c(e((o||(o=r(s,a.map(t),Io)))(n)))},h.domain=function(t){return arguments.length?(a=Array.from(t,Bo),u()):a.slice()},h.range=function(t){return arguments.length?(s=Array.from(t),u()):s.slice()},h.rangeRound=function(t){return s=Array.from(t),l=Uo,u()},h.clamp=function(t){return arguments.length?(c=!!t||Jo,u()):c!==Jo},h.interpolate=function(t){return arguments.length?(l=t,u()):l},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,r){return t=n,e=r,u()}}function ta(){return Qo()(Jo,Jo)}function ea(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function na(t){return(t=ea(Math.abs(t)))?t[1]:NaN}var ra,ia=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function oa(t){if(!(e=ia.exec(t)))throw new Error("invalid format: "+t);var e;return new aa({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function aa(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function sa(t,e){var n=ea(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}oa.prototype=aa.prototype,aa.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var la={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>sa(100*t,e),r:sa,s:function(t,e){var n=ea(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(ra=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+ea(t,Math.max(0,e+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function ca(t){return t}var ua,ha,da,fa=Array.prototype.map,ga=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function pa(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?ca:(e=fa.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(t.substring(i-=s,i+s)),!((l+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?ca:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(fa.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"−":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function h(t){var e=(t=oa(t)).fill,n=t.align,h=t.sign,d=t.symbol,f=t.zero,g=t.width,p=t.comma,m=t.precision,y=t.trim,x=t.type;"n"===x?(p=!0,x="g"):la[x]||(void 0===m&&(m=12),y=!0,x="g"),(f||"0"===e&&"="===n)&&(f=!0,e="0",n="=");var $="$"===d?i:"#"===d&&/[boxX]/.test(x)?"0"+x.toLowerCase():"",v="$"===d?o:/[%p]/.test(x)?l:"",b=la[x],k=/[defgprs%]/.test(x);function w(t){var i,o,l,d=$,w=v;if("c"===x)w=b(t)+w,t="";else{var M=(t=+t)<0||1/t<0;if(t=isNaN(t)?u:b(Math.abs(t),m),y&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),M&&0==+t&&"+"!==h&&(M=!1),d=(M?"("===h?h:c:"-"===h||"("===h?"":h)+d,w=("s"===x?ga[8+ra/3]:"")+w+(M&&"("===h?")":""),k)for(i=-1,o=t.length;++i<o;)if(48>(l=t.charCodeAt(i))||l>57){w=(46===l?a+t.slice(i+1):t.slice(i))+w,t=t.slice(0,i);break}}p&&!f&&(t=r(t,1/0));var _=d.length+t.length+w.length,T=_<g?new Array(g-_+1).join(e):"";switch(p&&f&&(t=r(T+t,T.length?g-w.length:1/0),T=""),n){case"<":t=d+t+w+T;break;case"=":t=d+T+t+w;break;case"^":t=T.slice(0,_=T.length>>1)+d+t+w+T.slice(_);break;default:t=T+d+t+w}return s(t)}return m=void 0===m?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),w.toString=function(){return t+""},w}return{format:h,formatPrefix:function(t,e){var n=h(((t=oa(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(na(e)/3))),i=Math.pow(10,-r),o=ga[8+r/3];return function(t){return n(i*t)+o}}}}function ma(t,e,n,r){var i,o=function(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=Ui?i*=10:o>=Bi?i*=5:o>=Gi&&(i*=2),e<t?-i:i}(t,e,n);switch((r=oa(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(na(e)/3)))-na(Math.abs(t)))}(o,a))||(r.precision=i),da(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,na(e)-na(t))+1}(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-na(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return ha(r)}function ya(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){var r,i,o,a,s=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=Ji(t,e,n))||!isFinite(a))return[];if(a>0){let n=Math.round(t/a),r=Math.round(e/a);for(n*a<t&&++n,r*a>e&&--r,o=new Array(i=r-n+1);++s<i;)o[s]=(n+s)*a}else{a=-a;let n=Math.round(t*a),r=Math.round(e*a);for(n/a<t&&++n,r/a>e&&--r,o=new Array(i=r-n+1);++s<i;)o[s]=(n+s)/a}return r&&o.reverse(),o}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return ma(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i,o=e(),a=0,s=o.length-1,l=o[a],c=o[s],u=10;for(c<l&&(i=l,l=c,c=i,i=a,a=s,s=i);u-- >0;){if((i=Ji(l,c,n))===r)return o[a]=l,o[s]=c,e(o);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}r=i}return t},t}function xa(){var t=ta();return t.copy=function(){return Xo(t,xa())},Yi.apply(t,arguments),ya(t)}function $a(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function va(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function ba(t){var e=1,n=t($a(e),va(e));return n.constant=function(n){return arguments.length?t($a(e=+n),va(e)):e},ya(n)}function ka(){var t=ba(Qo());return t.copy=function(){return Xo(t,ka()).constant(t.constant())},Yi.apply(t,arguments)}function wa(t){return t<.5?4*t*t*t:.5*Math.pow(2*t-2,3)+1}function Ma(t){return"[object Date]"===Object.prototype.toString.call(t)}function _a(t,e){if(t===e||t!=t)return()=>t;const n=typeof t;if(n!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const n=e.map(((e,n)=>_a(t[n],e)));return t=>n.map((e=>e(t)))}if("object"===n){if(!t||!e)throw new Error("Object cannot be null");if(Ma(t)&&Ma(e)){t=t.getTime();const n=(e=e.getTime())-t;return e=>new Date(t+e*n)}const n=Object.keys(e),r={};return n.forEach((n=>{r[n]=_a(t[n],e[n])})),t=>{const e={};return n.forEach((n=>{e[n]=r[n](t)})),e}}if("number"===n){const n=e-t;return e=>t+e*n}throw new Error(`Cannot interpolate ${n} values`)}function Ta(t,r={}){const i=Mn(t);let o,a=t;function s(s,l){if(null==t)return i.set(t=s),Promise.resolve();a=s;let c=o,u=!1,{delay:h=0,duration:d=400,easing:f=e,interpolate:g=_a}=n(n({},r),l);if(0===d)return c&&(c.abort(),c=null),i.set(t=a),Promise.resolve();const p=x()+h;let m;return o=function(t){let e;return 0===v.size&&$(b),{promise:new Promise((n=>{v.add(e={c:t,f:n})})),abort(){v.delete(e)}}}((e=>{if(e<p)return!0;u||(m=g(t,s),"function"==typeof d&&(d=d(t,s)),u=!0),c&&(c.abort(),c=null);const n=e-p;return n>d?(i.set(t=s),!1):(i.set(t=m(f(n/d))),!0)})),o.promise}return{set:s,update:(e,n)=>s(e(a,t),n),subscribe:i.subscribe}}!function(t){ua=pa(t),ha=ua.format,da=ua.formatPrefix}({thousands:",",grouping:[3],currency:["$",""]});class Na{constructor(t,e,n,r,i){this.items=t,this.radiusFun=e,this.xFun=n,this.padding=r,this.yOffset=i,this.tieBreakFn=this._sfc32(2654435769,608135816,3084996962,1),this.maxR=Math.max(...t.map((t=>e(t)))),this.rng=this._sfc32(1,2,3,1)}calculateYPositions(){let t=this.items.map(((t,e)=>({datum:t,originalIndex:e,x:this.xFun(t),r:this.radiusFun(t)+this.padding,y:null,placed:!1}))).sort(((t,e)=>t.x-e.x));t.forEach((function(t,e){t.index=e}));let e=this.tieBreakFn;t.forEach((function(t){t.tieBreaker=e(t.x)}));let n=[...t].sort(((t,e)=>{let n=this.radiusFun(t.datum)+5*t.tieBreaker,r=this.radiusFun(e.datum)+5*e.tieBreaker;return n!=r?r-n:t.x-e.x}));for(let e of n)e.placed=!0,e.y=this._getBestYPosition(e,t);return t.sort(((t,e)=>t.originalIndex-e.originalIndex)),t.map((t=>({x:t.x,y:t.y+this.yOffset,r:this.radiusFun(t.datum)})))}_sfc32(t,e,n,r){let i=function(){var i=(t>>>=0)+(e>>>=0)|0;return t=e^e>>>9,e=(n>>>=0)+(n<<3)|0,n=(n=n<<21|n>>>11)+(i=i+(r=(r>>>=0)+1|0)|0)|0,(i>>>0)/4294967296};for(let t=0;t<10;t++)i();return i}_getBestYPosition(t,e){let n=[];for(let r of[-1,1]){let i,o=t.r;for(let a=t.index+r;a>=0&&a<e.length&&(i=Math.abs(t.x-e[a].x))<o+this.maxR;a+=r){let t=e[a];if(!t.placed)continue;let r=o+t.r;if(i>=o+t.r)continue;let s=Math.sqrt(r*r-i*i),l=[t.y-s,t.y+s];n.push(l)}}if(0==n.length)return t.r*(this.rng()-.5)*2;let r=n.flat();r.push(0),r.sort(((t,e)=>{let n=Math.abs(t),r=Math.abs(e);return n<r?-1:n>r?1:t-e}));for(let t=0;t<r.length;t++){let e=r[t];if(n.every((t=>e<=t[0]||e>=t[1])))return e}}}function Aa(t,e,n){let r,i,o,a,s,l,c,u,d,f,g,p,m;const{data:y,x:x,y:$,r:v,xGet:b,yGet:k,rGet:w,xScale:M,yScale:_,yRange:T,rRange:N,custom:A,width:C}=G("LayerCake");h(t,y,(t=>n(18,m=t))),h(t,x,(t=>n(16,g=t))),h(t,$,(t=>n(15,f=t))),h(t,v,(t=>n(14,d=t))),h(t,b,(t=>n(23,a=t))),h(t,k,(t=>n(26,c=t))),h(t,w,(t=>n(25,l=t))),h(t,M,(t=>n(21,i=t))),h(t,_,(t=>n(20,r=t))),h(t,T,(t=>n(22,o=t))),h(t,N,(t=>n(24,s=t))),h(t,A,(t=>n(17,p=t))),h(t,C,(t=>n(13,u=t)));let S=p.coords,E=p.type,L=u;return t.$$.update=()=>{516096&t.$$.dirty&&function(t,e,n,u,h,d){let f,g=e.mode,p=e.padding,m=e.animation&&d==L?e.duration:0;if(L=d,"bar"==E)f=t.map(((e,i)=>e.map(((e,o)=>({x:"default"==g||"grouped"==g||("comparison"==g||"stacked"==g)&&0==i?0:n("stacked"==g?t[i-1][o]:e),y:"grouped"==g?c(e)+i*(1/t.length)*r.bandwidth():c(e),w:"default"==g||"grouped"==g||("comparison"==g||"stacked"==g)&&0==i?n(e):"stacked"==g?n(e)-n(t[i-1][o]):0,h:"grouped"==g?r.bandwidth()/t.length:r.bandwidth()})))));else if("column"==E)f=t.map(((e,n)=>e.map(((e,r)=>({x:"grouped"==g&&i.bandwidth?a(e)+n*(1/t.length)*i.bandwidth():"grouped"==g?a(e)[0]+n*(1/t.length)*Math.max(0,a(e)[1]-a(e)[0]):i.bandwidth?a(e):a(e)[0],y:u(e),w:"grouped"==g&&i.bandwidth?i.bandwidth()/t.length:"grouped"==g?Math.max(0,a(e)[1]-a(e)[0])/t.length:i.bandwidth?i.bandwidth():Math.max(0,a(e)[1]-a(e)[0]),h:"default"==g||"grouped"==g||("comparison"==g||"stacked"==g)&&0==n?u(e):"stacked"==g?u(e)-u(t[n-1][r]):0})))));else if("scatter"==E){let e=t=>h?l(t):s[0];f=u?t.map((t=>({x:n(t),y:u(t),r:e(t)}))):new Na(t,(t=>e(t)),(t=>a(t)),p,o[0]/2).calculateYPositions().map((t=>({x:i.invert(t.x),y:r.invert(t.y),r:t.r})))}else"line"==E&&(f=t.map((t=>t.map((t=>({x:n(t),y:u(t)}))))));S.set(f,{duration:m})}(m,p,g,f,d,u)},[y,x,$,v,b,k,w,M,_,T,N,A,C,u,d,f,g,p,m]}class Ca extends Mt{constructor(t){super(),wt(this,t,Aa,null,s,{})}}function Sa(t,e,n){const r=t.slice();return r[24]=e[n],r[26]=n,r}function Ea(t){let e,n;return{c(){e=N("line"),L(e,"class","gridline svelte-r9f2bw"),L(e,"y1",n=-1*t[17]),L(e,"y2","0"),L(e,"x1","0"),L(e,"x2","0"),j(e,"stroke",t[3]),I(e,"dashed",t[1])},m(t,n){w(t,e,n)},p(t,r){131072&r&&n!==(n=-1*t[17])&&L(e,"y1",n),8&r&&j(e,"stroke",t[3]),2&r&&I(e,"dashed",t[1])},d(t){t&&M(e)}}}function La(t){let e,n,r;return{c(){e=N("line"),L(e,"class","tick-mark svelte-r9f2bw"),L(e,"y1",0),L(e,"y2",6),L(e,"x1",n=t[7]||t[13]?t[14].bandwidth()/2:0),L(e,"x2",r=t[7]||t[13]?t[14].bandwidth()/2:0),j(e,"stroke",t[3])},m(t,n){w(t,e,n)},p(t,i){24704&i&&n!==(n=t[7]||t[13]?t[14].bandwidth()/2:0)&&L(e,"x1",n),24704&i&&r!==(r=t[7]||t[13]?t[14].bandwidth()/2:0)&&L(e,"x2",r),8&i&&j(e,"stroke",t[3])},d(t){t&&M(e)}}}function za(t){let e,n,r,i,o,a,s,l,c=(t[26]==t[15].length-1?t[11]+t[5](t[24])+t[12]:t[5](t[24]))+"",u=!1!==t[0]&&Ea(t),h=!0===t[2]&&La(t);return{c(){e=N("g"),u&&u.c(),n=S(),h&&h.c(),r=N("text"),i=A(c),L(r,"x",o=t[7]||t[13]?t[14].bandwidth()/2:0),L(r,"y",t[8]),L(r,"dx",t[9]),L(r,"dy",t[10]),L(r,"text-anchor",a=t[21](t[26])),j(r,"fill",t[4]),L(r,"class","svelte-r9f2bw"),L(e,"class",s="tick tick-"+t[24]+" svelte-r9f2bw"),L(e,"transform",l="translate("+t[14](t[24])+","+t[16][0]+")")},m(t,o){w(t,e,o),u&&u.m(e,null),k(e,n),h&&h.m(e,null),k(e,r),k(r,i)},p(t,a){!1!==t[0]?u?u.p(t,a):(u=Ea(t),u.c(),u.m(e,n)):u&&(u.d(1),u=null),!0===t[2]?h?h.p(t,a):(h=La(t),h.c(),h.m(e,r)):h&&(h.d(1),h=null),38944&a&&c!==(c=(t[26]==t[15].length-1?t[11]+t[5](t[24])+t[12]:t[5](t[24]))+"")&&z(i,c),24704&a&&o!==(o=t[7]||t[13]?t[14].bandwidth()/2:0)&&L(r,"x",o),256&a&&L(r,"y",t[8]),512&a&&L(r,"dx",t[9]),1024&a&&L(r,"dy",t[10]),16&a&&j(r,"fill",t[4]),32768&a&&s!==(s="tick tick-"+t[24]+" svelte-r9f2bw")&&L(e,"class",s),114688&a&&l!==(l="translate("+t[14](t[24])+","+t[16][0]+")")&&L(e,"transform",l)},d(t){t&&M(e),u&&u.d(),h&&h.d()}}}function Ra(e){let n,r=e[15],i=[];for(let t=0;t<r.length;t+=1)i[t]=za(Sa(e,r,t));return{c(){n=N("g");for(let t=0;t<i.length;t+=1)i[t].c();L(n,"class","axis x-axis svelte-r9f2bw"),I(n,"snapTicks",e[6])},m(t,e){w(t,n,e);for(let t=0;t<i.length;t+=1)i[t].m(n,null)},p(t,[e]){if(2359231&e){let o;for(r=t[15],o=0;o<r.length;o+=1){const a=Sa(t,r,o);i[o]?i[o].p(a,e):(i[o]=za(a),i[o].c(),i[o].m(n,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=r.length}64&e&&I(n,"snapTicks",t[6])},i:t,o:t,d(t){t&&M(n),_(i,t)}}}function ja(t,e,n){let r,i,o,a,s;const{width:l,height:c,xScale:u,yRange:d}=G("LayerCake");h(t,c,(t=>n(17,s=t))),h(t,u,(t=>n(14,o=t))),h(t,d,(t=>n(16,a=t)));let{gridlines:f=!0}=e,{tickDashed:g=!1}=e,{tickMarks:p=!1}=e,{tickColor:m="#bbb"}=e,{textColor:y="#666"}=e,{formatTick:x=(t=>t)}=e,{snapTicks:$=!1}=e,{ticks:v}=e,{xTick:b}=e,{yTick:k=16}=e,{dxTick:w=0}=e,{dyTick:M=0}=e,{prefix:_=""}=e,{suffix:T=""}=e;return t.$$set=t=>{"gridlines"in t&&n(0,f=t.gridlines),"tickDashed"in t&&n(1,g=t.tickDashed),"tickMarks"in t&&n(2,p=t.tickMarks),"tickColor"in t&&n(3,m=t.tickColor),"textColor"in t&&n(4,y=t.textColor),"formatTick"in t&&n(5,x=t.formatTick),"snapTicks"in t&&n(6,$=t.snapTicks),"ticks"in t&&n(22,v=t.ticks),"xTick"in t&&n(7,b=t.xTick),"yTick"in t&&n(8,k=t.yTick),"dxTick"in t&&n(9,w=t.dxTick),"dyTick"in t&&n(10,M=t.dyTick),"prefix"in t&&n(11,_=t.prefix),"suffix"in t&&n(12,T=t.suffix)},t.$$.update=()=>{16384&t.$$.dirty&&n(13,r="function"==typeof o.bandwidth),4218880&t.$$.dirty&&n(15,i=Array.isArray(v)?v:r?o.domain():"function"==typeof v?v(o.ticks()):o.ticks(v))},[f,g,p,m,y,x,$,b,k,w,M,_,T,r,o,i,a,s,c,u,d,function(t){if(!0===$){if(0===t)return"start";if(t===i.length-1)return"end"}return"middle"},v]}class Da extends Mt{constructor(t){super(),wt(this,t,ja,Ra,s,{gridlines:0,tickDashed:1,tickMarks:2,tickColor:3,textColor:4,formatTick:5,snapTicks:6,ticks:22,xTick:7,yTick:8,dxTick:9,dyTick:10,prefix:11,suffix:12})}}function Fa(t,e,n){const r=t.slice();return r[22]=e[n],r[24]=n,r}function Pa(t){let e,n,r;return{c(){e=N("line"),L(e,"class","gridline svelte-f7wn4m"),L(e,"x2","100%"),L(e,"y1",n=t[7]+(t[13]?t[14].bandwidth()/2:0)),L(e,"y2",r=t[7]+(t[13]?t[14].bandwidth()/2:0)),j(e,"stroke",t[3]),I(e,"dashed",t[2])},m(t,n){w(t,e,n)},p(t,i){24704&i&&n!==(n=t[7]+(t[13]?t[14].bandwidth()/2:0))&&L(e,"y1",n),24704&i&&r!==(r=t[7]+(t[13]?t[14].bandwidth()/2:0))&&L(e,"y2",r),8&i&&j(e,"stroke",t[3]),4&i&&I(e,"dashed",t[2])},d(t){t&&M(e)}}}function Ia(t){let e,n,r,i;return{c(){e=N("line"),L(e,"class","tick-mark svelte-f7wn4m"),L(e,"x1","0"),L(e,"x2",n=t[13]?-6:6),L(e,"y1",r=t[7]+(t[13]?t[14].bandwidth()/2:0)),L(e,"y2",i=t[7]+(t[13]?t[14].bandwidth()/2:0)),j(e,"stroke",t[3])},m(t,n){w(t,e,n)},p(t,o){8192&o&&n!==(n=t[13]?-6:6)&&L(e,"x2",n),24704&o&&r!==(r=t[7]+(t[13]?t[14].bandwidth()/2:0))&&L(e,"y1",r),24704&o&&i!==(i=t[7]+(t[13]?t[14].bandwidth()/2:0))&&L(e,"y2",i),8&o&&j(e,"stroke",t[3])},d(t){t&&M(e)}}}function Ka(t){let e,n,r,i,o,a,s,l,c,u=(t[24]==t[15].length-1?t[11]+t[5](t[22])+t[12]:t[5](t[22]))+"",h=!1!==t[1]&&Pa(t),d=!0===t[0]&&Ia(t);return{c(){e=N("g"),h&&h.c(),n=S(),d&&d.c(),r=N("text"),i=A(u),L(r,"x",t[6]),L(r,"y",o=t[7]+(t[13]?t[14].bandwidth()/2:0)),L(r,"dx",a=t[13]?-4:t[8]),L(r,"dy",s=t[13]?4:t[9]),j(r,"text-anchor",t[13]?"end":t[10]),j(r,"fill",t[4]),L(e,"class",l="tick tick-"+t[22]+" svelte-f7wn4m"),L(e,"transform",c="translate("+(t[17][0]+(t[13]?t[16].left:0))+", "+t[14](t[22])+")")},m(t,o){w(t,e,o),h&&h.m(e,null),k(e,n),d&&d.m(e,null),k(e,r),k(r,i)},p(t,f){!1!==t[1]?h?h.p(t,f):(h=Pa(t),h.c(),h.m(e,n)):h&&(h.d(1),h=null),!0===t[0]?d?d.p(t,f):(d=Ia(t),d.c(),d.m(e,r)):d&&(d.d(1),d=null),38944&f&&u!==(u=(t[24]==t[15].length-1?t[11]+t[5](t[22])+t[12]:t[5](t[22]))+"")&&z(i,u),64&f&&L(r,"x",t[6]),24704&f&&o!==(o=t[7]+(t[13]?t[14].bandwidth()/2:0))&&L(r,"y",o),8448&f&&a!==(a=t[13]?-4:t[8])&&L(r,"dx",a),8704&f&&s!==(s=t[13]?4:t[9])&&L(r,"dy",s),9216&f&&j(r,"text-anchor",t[13]?"end":t[10]),16&f&&j(r,"fill",t[4]),32768&f&&l!==(l="tick tick-"+t[22]+" svelte-f7wn4m")&&L(e,"class",l),253952&f&&c!==(c="translate("+(t[17][0]+(t[13]?t[16].left:0))+", "+t[14](t[22])+")")&&L(e,"transform",c)},d(t){t&&M(e),h&&h.d(),d&&d.d()}}}function Oa(e){let n,r,i=e[15],o=[];for(let t=0;t<i.length;t+=1)o[t]=Ka(Fa(e,i,t));return{c(){n=N("g");for(let t=0;t<o.length;t+=1)o[t].c();L(n,"class","axis y-axis"),L(n,"transform",r="translate("+-e[16].left+", 0)")},m(t,e){w(t,n,e);for(let t=0;t<o.length;t+=1)o[t].m(n,null)},p(t,[e]){if(262143&e){let r;for(i=t[15],r=0;r<i.length;r+=1){const a=Fa(t,i,r);o[r]?o[r].p(a,e):(o[r]=Ka(a),o[r].c(),o[r].m(n,null))}for(;r<o.length;r+=1)o[r].d(1);o.length=i.length}65536&e&&r!==(r="translate("+-t[16].left+", 0)")&&L(n,"transform",r)},i:t,o:t,d(t){t&&M(n),_(o,t)}}}function qa(t,e,n){let r,i,o,a,s;const{padding:l,xRange:c,yScale:u}=G("LayerCake");h(t,l,(t=>n(16,a=t))),h(t,c,(t=>n(17,s=t))),h(t,u,(t=>n(14,o=t)));let{ticks:d=4}=e,{tickMarks:f=!1}=e,{gridlines:g=!0}=e,{tickDashed:p=!1}=e,{tickColor:m="#bbb"}=e,{textColor:y="#666"}=e,{formatTick:x=(t=>t)}=e,{xTick:$=0}=e,{yTick:v=0}=e,{dxTick:b=0}=e,{dyTick:k=-4}=e,{textAnchor:w="start"}=e,{prefix:M=""}=e,{suffix:_=""}=e;return t.$$set=t=>{"ticks"in t&&n(21,d=t.ticks),"tickMarks"in t&&n(0,f=t.tickMarks),"gridlines"in t&&n(1,g=t.gridlines),"tickDashed"in t&&n(2,p=t.tickDashed),"tickColor"in t&&n(3,m=t.tickColor),"textColor"in t&&n(4,y=t.textColor),"formatTick"in t&&n(5,x=t.formatTick),"xTick"in t&&n(6,$=t.xTick),"yTick"in t&&n(7,v=t.yTick),"dxTick"in t&&n(8,b=t.dxTick),"dyTick"in t&&n(9,k=t.dyTick),"textAnchor"in t&&n(10,w=t.textAnchor),"prefix"in t&&n(11,M=t.prefix),"suffix"in t&&n(12,_=t.suffix)},t.$$.update=()=>{16384&t.$$.dirty&&n(13,r="function"==typeof o.bandwidth),2121728&t.$$.dirty&&n(15,i=Array.isArray(d)?d:r?o.domain():"function"==typeof d?d(o.ticks()):o.ticks(d))},[f,g,p,m,y,x,$,v,b,k,w,M,_,r,o,i,a,s,l,c,u,d]}class Wa extends Mt{constructor(t){super(),wt(this,t,qa,Oa,s,{ticks:21,tickMarks:0,gridlines:1,tickDashed:2,tickColor:3,textColor:4,formatTick:5,xTick:6,yTick:7,dxTick:8,dyTick:9,textAnchor:10,prefix:11,suffix:12})}}function Ha(t,e,n){const r=t.slice();return r[8]=e[n],r[10]=n,r}function Ua(t){let e,n=t[0],r=[];for(let e=0;e<n.length;e+=1)r[e]=Ba(Ha(t,n,e));return{c(){e=T("ul");for(let t=0;t<r.length;t+=1)r[t].c();L(e,"class","legend svelte-1w19nmy")},m(t,n){w(t,e,n);for(let t=0;t<r.length;t+=1)r[t].m(e,null)},p(t,i){if(255&i){let o;for(n=t[0],o=0;o<n.length;o+=1){const a=Ha(t,n,o);r[o]?r[o].p(a,i):(r[o]=Ba(a),r[o].c(),r[o].m(e,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(t){t&&M(e),_(r,t)}}}function Ba(t){let e,n,r,i,o,a=t[8]+"";return{c(){e=T("li"),n=T("div"),r=C(),i=A(a),o=C(),L(n,"class","bullet svelte-1w19nmy"),j(n,"background-color",t[1][t[10]]),j(n,"width",(!t[4]&&(t[2]||t[3]&&0!=t[10])?t[5]:t[6])+"px"),j(n,"height",(t[4]&&(t[2]||t[3]&&0!=t[10])?t[5]:t[6])+"px"),I(n,"round",t[7]),L(e,"class","svelte-1w19nmy")},m(t,a){w(t,e,a),k(e,n),k(e,r),k(e,i),k(e,o)},p(t,e){2&e&&j(n,"background-color",t[1][t[10]]),124&e&&j(n,"width",(!t[4]&&(t[2]||t[3]&&0!=t[10])?t[5]:t[6])+"px"),124&e&&j(n,"height",(t[4]&&(t[2]||t[3]&&0!=t[10])?t[5]:t[6])+"px"),128&e&&I(n,"round",t[7]),1&e&&a!==(a=t[8]+"")&&z(i,a)},d(t){t&&M(e)}}}function Ga(e){let n,r=Array.isArray(e[0])&&Array.isArray(e[1]),i=r&&Ua(e);return{c(){i&&i.c(),n=S()},m(t,e){i&&i.m(t,e),w(t,n,e)},p(t,[e]){3&e&&(r=Array.isArray(t[0])&&Array.isArray(t[1])),r?i?i.p(t,e):(i=Ua(t),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null)},i:t,o:t,d(t){i&&i.d(t),t&&M(n)}}}function Ja(t,e,n){let{domain:r=null}=e,{colors:i=null}=e,{line:o=!1}=e,{comparison:a=!1}=e,{horizontal:s=!0}=e,{markerWidth:l=2.5}=e,{markerLength:c=13}=e,{round:u=!1}=e;return t.$$set=t=>{"domain"in t&&n(0,r=t.domain),"colors"in t&&n(1,i=t.colors),"line"in t&&n(2,o=t.line),"comparison"in t&&n(3,a=t.comparison),"horizontal"in t&&n(4,s=t.horizontal),"markerWidth"in t&&n(5,l=t.markerWidth),"markerLength"in t&&n(6,c=t.markerLength),"round"in t&&n(7,u=t.round)},[r,i,o,a,s,l,c,u]}class Va extends Mt{constructor(t){super(),wt(this,t,Ja,Ga,s,{domain:0,colors:1,line:2,comparison:3,horizontal:4,markerWidth:5,markerLength:6,round:7})}}function Ya(t){let e,n;const r=t[1].default,i=d(r,t,t[0],null);return{c(){e=T("div"),i&&i.c(),L(e,"class","title svelte-b06b69")},m(t,r){w(t,e,r),i&&i.m(e,null),n=!0},p(t,[e]){i&&i.p&&(!n||1&e)&&p(i,r,t,t[0],n?g(r,t[0],e,null):m(t[0]),null)},i(t){n||(ht(i,t),n=!0)},o(t){dt(i,t),n=!1},d(t){t&&M(e),i&&i.d(t)}}}function Za(t,e,n){let{$$slots:r={},$$scope:i}=e;return t.$$set=t=>{"$$scope"in t&&n(0,i=t.$$scope)},[i,r]}class Xa extends Mt{constructor(t){super(),wt(this,t,Za,Ya,s,{})}}function Qa(t){let e,n;const r=t[1].default,i=d(r,t,t[0],null);return{c(){e=T("div"),i&&i.c(),L(e,"class","footer svelte-7jvwfp")},m(t,r){w(t,e,r),i&&i.m(e,null),n=!0},p(t,[e]){i&&i.p&&(!n||1&e)&&p(i,r,t,t[0],n?g(r,t[0],e,null):m(t[0]),null)},i(t){n||(ht(i,t),n=!0)},o(t){dt(i,t),n=!1},d(t){t&&M(e),i&&i.d(t)}}}function ts(t,e,n){let{$$slots:r={},$$scope:i}=e;return t.$$set=t=>{"$$scope"in t&&n(0,i=t.$$scope)},[i,r]}class es extends Mt{constructor(t){super(),wt(this,t,ts,Qa,s,{})}}function ns(t,e,n){const r=t.slice();return r[15]=e[n],r[17]=n,r}function rs(t,e,n){const r=t.slice();return r[15]=e[n],r[17]=n,r}function is(t){let e;function n(t,e){return t[3][0]&&t[3][0].x?as:t[3][0]&&t[3][0][0]&&t[3][0][0].x?os:void 0}let r=n(t),i=r&&r(t);return{c(){e=N("g"),i&&i.c(),L(e,"class","label-group")},m(t,n){w(t,e,n),i&&i.m(e,null)},p(t,o){r===(r=n(t))&&i?i.p(t,o):(i&&i.d(1),i=r&&r(t),i&&(i.c(),i.m(e,null)))},d(t){t&&M(e),i&&i.d()}}}function os(t){let e,n=t[3],r=[];for(let e=0;e<n.length;e+=1)r[e]=ls(ns(t,n,e));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=S()},m(t,n){for(let e=0;e<r.length;e+=1)r[e].m(t,n);w(t,e,n)},p(t,i){if(12413&i){let o;for(n=t[3],o=0;o<n.length;o+=1){const a=ns(t,n,o);r[o]?r[o].p(a,i):(r[o]=ls(a),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(t){_(r,t),t&&M(e)}}}function as(t){let e,n=t[3],r=[];for(let e=0;e<n.length;e+=1)r[e]=hs(rs(t,n,e));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=S()},m(t,n){for(let e=0;e<r.length;e+=1)r[e].m(t,n);w(t,e,n)},p(t,i){if(12415&i){let o;for(n=t[3],o=0;o<n.length;o+=1){const a=rs(t,n,o);r[o]?r[o].p(a,i):(r[o]=hs(a),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(t){_(r,t),t&&M(e)}}}function ss(t){let e,n,r,i,o=t[4][t[17]][0][t[13]]+"";return{c(){e=N("text"),n=A(o),L(e,"class","label svelte-gjdahk"),L(e,"transform","translate(2,3)"),L(e,"filter","url(#bgfill)"),L(e,"fill","#333"),L(e,"x",r=t[5](t[15][t[15].length-1].x)),L(e,"y",i=t[6](t[15][t[15].length-1].y))},m(t,r){w(t,e,r),k(e,n)},p(t,a){16&a&&o!==(o=t[4][t[17]][0][t[13]]+"")&&z(n,o),40&a&&r!==(r=t[5](t[15][t[15].length-1].x))&&L(e,"x",r),72&a&&i!==(i=t[6](t[15][t[15].length-1].y))&&L(e,"y",i)},d(t){t&&M(e)}}}function ls(t){let e,n=[t[0],t[2]].includes(t[4][t[17]][0][t[12]]),r=n&&ss(t);return{c(){r&&r.c(),e=S()},m(t,n){r&&r.m(t,n),w(t,e,n)},p(t,i){21&i&&(n=[t[0],t[2]].includes(t[4][t[17]][0][t[12]])),n?r?r.p(t,i):(r=ss(t),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null)},d(t){r&&r.d(t),t&&M(e)}}}function cs(t){let e,n=t[1]==t[4][t[17]].unique&&us(t);return{c(){n&&n.c(),e=S()},m(t,r){n&&n.m(t,r),w(t,e,r)},p(t,r){t[1]==t[4][t[17]].unique?n?n.p(t,r):(n=us(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&M(e)}}}function us(t){let e,n,r,i,o,a,s,l,c,u,h,d,f,g,p,m,y=Math.round(10*t[4][t[17]][t[13]])/10+"",x="("+(Math.round(10*t[4][t[17]].change)/10<0?"":"+")+Math.round(10*t[4][t[17]].change)/10+")";return{c(){e=N("rect"),i=N("text"),o=A(t[1]),l=N("text"),c=A(y),d=N("text"),f=A(x),L(e,"fill","rgba(255,255,255,0.8)"),L(e,"x",n=t[5](t[15].x)),L(e,"y",r=t[6](t[15].y)),L(e,"transform","translate(5,-45)"),L(e,"width","150"),L(e,"height","50"),L(e,"rx","15"),L(i,"class","label-bold svelte-gjdahk"),L(i,"transform","translate(10,-25)"),L(i,"fill","#333"),L(i,"x",a=t[5](t[15].x)),L(i,"y",s=t[6](t[15].y)),L(l,"class","label svelte-gjdahk"),L(l,"transform","translate(10,-5)"),L(l,"fill","#333"),L(l,"x",u=t[5](t[15].x)),L(l,"y",h=t[6](t[15].y)),L(d,"class","label svelte-gjdahk"),L(d,"transform","translate(55,-5)"),L(d,"fill",g=Math.round(10*t[4][t[17]].change)/10<0?"#FF0000":"#228C22"),L(d,"x",p=t[5](t[15].x)),L(d,"y",m=t[6](t[15].y))},m(t,n){w(t,e,n),w(t,i,n),k(i,o),w(t,l,n),k(l,c),w(t,d,n),k(d,f)},p(t,$){40&$&&n!==(n=t[5](t[15].x))&&L(e,"x",n),72&$&&r!==(r=t[6](t[15].y))&&L(e,"y",r),2&$&&z(o,t[1]),40&$&&a!==(a=t[5](t[15].x))&&L(i,"x",a),72&$&&s!==(s=t[6](t[15].y))&&L(i,"y",s),16&$&&y!==(y=Math.round(10*t[4][t[17]][t[13]])/10+"")&&z(c,y),40&$&&u!==(u=t[5](t[15].x))&&L(l,"x",u),72&$&&h!==(h=t[6](t[15].y))&&L(l,"y",h),16&$&&x!==(x="("+(Math.round(10*t[4][t[17]].change)/10<0?"":"+")+Math.round(10*t[4][t[17]].change)/10+")")&&z(f,x),16&$&&g!==(g=Math.round(10*t[4][t[17]].change)/10<0?"#FF0000":"#228C22")&&L(d,"fill",g),40&$&&p!==(p=t[5](t[15].x))&&L(d,"x",p),72&$&&m!==(m=t[6](t[15].y))&&L(d,"y",m)},d(t){t&&M(e),t&&M(i),t&&M(l),t&&M(d)}}}function hs(t){let e,n=[t[0],t[2]].includes(t[4][t[17]][t[12]]),r=n&&cs(t);return{c(){r&&r.c(),e=S()},m(t,n){r&&r.m(t,n),w(t,e,n)},p(t,i){21&i&&(n=[t[0],t[2]].includes(t[4][t[17]][t[12]])),n?r?r.p(t,i):(r=cs(t),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null)},d(t){r&&r.d(t),t&&M(e)}}}function ds(e){let n,r=e[3].length==e[4].length&&is(e);return{c(){r&&r.c(),n=S()},m(t,e){r&&r.m(t,e),w(t,n,e)},p(t,[e]){t[3].length==t[4].length?r?r.p(t,e):(r=is(t),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},i:t,o:t,d(t){r&&r.d(t),t&&M(n)}}}function fs(t,e,n){let r,i,o,a,s;const{data:l,xScale:c,yScale:u,custom:d}=G("LayerCake");h(t,l,(t=>n(4,o=t))),h(t,c,(t=>n(5,a=t))),h(t,u,(t=>n(6,s=t))),h(t,d,(t=>n(14,r=t)));let{hovered:f=null}=e,{placeLabel:g=null}=e,{selected:p=null}=e,m=r.coords;h(t,m,(t=>n(3,i=t)));let y=r.idKey,x=r.labelKey;return t.$$set=t=>{"hovered"in t&&n(0,f=t.hovered),"placeLabel"in t&&n(1,g=t.placeLabel),"selected"in t&&n(2,p=t.selected)},[f,g,p,i,o,a,s,l,c,u,d,m,y,x]}class gs extends Mt{constructor(t){super(),wt(this,t,fs,ds,s,{hovered:0,placeLabel:1,selected:2})}}function ps(t,e,n){const r=t.slice();return r[26]=e[n],r[28]=n,r}function ms(t,e,n){const r=t.slice();return r[26]=e[n],r[28]=n,r}function ys(t){let e,n,r=t[5],i=[];for(let e=0;e<r.length;e+=1)i[e]=xs(ms(t,r,e));let o=t[20]&&(t[0]||t[2]||t[3][0])&&$s(t);return{c(){e=N("g");for(let t=0;t<i.length;t+=1)i[t].c();n=S(),o&&o.c(),L(e,"class","scatter-group")},m(t,r){w(t,e,r);for(let t=0;t<i.length;t+=1)i[t].m(e,null);k(e,n),o&&o.m(e,null)},p(t,a){if(4064&a){let o;for(r=t[5],o=0;o<r.length;o+=1){const s=ms(t,r,o);i[o]?i[o].p(s,a):(i[o]=xs(s),i[o].c(),i[o].m(e,n))}for(;o<i.length;o+=1)i[o].d(1);i.length=r.length}t[20]&&(t[0]||t[2]||t[3][0])?o?o.p(t,a):(o=$s(t),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},d(t){t&&M(e),_(i,t),o&&o.d()}}}function xs(t){let e,n,r,i,o;return{c(){e=N("circle"),L(e,"class",""),L(e,"cx",n=t[7](t[26].x)),L(e,"cy",r=t[8](t[26].y)),L(e,"r",i=t[26].r),L(e,"fill",o=t[9]?t[10](t[6][t[28]]):t[11][0])},m(t,n){w(t,e,n)},p(t,a){160&a&&n!==(n=t[7](t[26].x))&&L(e,"cx",n),288&a&&r!==(r=t[8](t[26].y))&&L(e,"cy",r),32&a&&i!==(i=t[26].r)&&L(e,"r",i),3648&a&&o!==(o=t[9]?t[10](t[6][t[28]]):t[11][0])&&L(e,"fill",o)},d(t){t&&M(e)}}}function $s(t){let e,n=t[5],r=[];for(let e=0;e<n.length;e+=1)r[e]=ks(ps(t,n,e));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=S()},m(t,n){for(let e=0;e<r.length;e+=1)r[e].m(t,n);w(t,e,n)},p(t,i){if(32506367&i){let o;for(n=t[5],o=0;o<n.length;o+=1){const a=ps(t,n,o);r[o]?r[o].p(a,i):(r[o]=ks(a),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(t){_(r,t),t&&M(e)}}}function vs(t){let e,n=t[1]==t[6][t[28]].unique&&bs(t);return{c(){n&&n.c(),e=S()},m(t,r){n&&n.m(t,r),w(t,e,r)},p(t,r){t[1]==t[6][t[28]].unique?n?n.p(t,r):(n=bs(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&M(e)}}}function bs(t){let e,n,r,i,o,a,s;return{c(){e=N("circle"),L(e,"class",""),L(e,"cx",n=t[7](t[26].x)),L(e,"cy",r=t[8](t[26].y)),L(e,"r",i=t[26].r),L(e,"fill",o=t[4]&&t[6][t[28]][t[20]]==t[2]?t[22]:t[4]&t[3].includes(t[6][t[28]][t[20]])?t[23]:"none"),L(e,"stroke",a=t[6][t[28]][t[20]]==t[0]?t[21]:t[6][t[28]][t[20]]==t[2]?t[22]:t[23]),L(e,"stroke-width",s=t[6][t[28]][t[20]]==t[0]||t[6][t[28]][t[20]]==t[2]||t[3].includes(t[6][t[28]][t[20]])?t[24]:0)},m(t,n){w(t,e,n)},p(t,l){160&l&&n!==(n=t[7](t[26].x))&&L(e,"cx",n),288&l&&r!==(r=t[8](t[26].y))&&L(e,"cy",r),32&l&&i!==(i=t[26].r)&&L(e,"r",i),92&l&&o!==(o=t[4]&&t[6][t[28]][t[20]]==t[2]?t[22]:t[4]&t[3].includes(t[6][t[28]][t[20]])?t[23]:"none")&&L(e,"fill",o),69&l&&a!==(a=t[6][t[28]][t[20]]==t[0]?t[21]:t[6][t[28]][t[20]]==t[2]?t[22]:t[23])&&L(e,"stroke",a),77&l&&s!==(s=t[6][t[28]][t[20]]==t[0]||t[6][t[28]][t[20]]==t[2]||t[3].includes(t[6][t[28]][t[20]])?t[24]:0)&&L(e,"stroke-width",s)},d(t){t&&M(e)}}}function ks(t){let e,n=[t[0],t[2],...t[3]].includes(t[6][t[28]][t[20]]),r=n&&vs(t);return{c(){r&&r.c(),e=S()},m(t,n){r&&r.m(t,n),w(t,e,n)},p(t,i){77&i&&(n=[t[0],t[2],...t[3]].includes(t[6][t[28]][t[20]])),n?r?r.p(t,i):(r=vs(t),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null)},d(t){r&&r.d(t),t&&M(e)}}}function ws(e){let n,r=e[5].length==e[6].length&&ys(e);return{c(){r&&r.c(),n=S()},m(t,e){r&&r.m(t,e),w(t,n,e)},p(t,[e]){t[5].length==t[6].length?r?r.p(t,e):(r=ys(t),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},i:t,o:t,d(t){r&&r.d(t),t&&M(n)}}}function Ms(t,e,n){let r,i,o,a,s,l,c,u;const{data:d,z:f,xScale:g,yScale:p,zGet:m,zRange:y,custom:x}=G("LayerCake");h(t,d,(t=>n(6,o=t))),h(t,f,(t=>n(9,l=t))),h(t,g,(t=>n(7,a=t))),h(t,p,(t=>n(8,s=t))),h(t,m,(t=>n(10,c=t))),h(t,y,(t=>n(11,u=t))),h(t,x,(t=>n(25,r=t)));let{hovered:$=null}=e,{placeLabel:v=null}=e,{selected:b=null}=e,{highlighted:k=[]}=e,{overlayFill:w=!1}=e,M=r.coords;h(t,M,(t=>n(5,i=t)));let _=r.idKey,T=r.colorHover?r.colorHover:"orange",N=r.colorSelect?r.colorSelect:"black",A=r.colorHighlight?r.colorHighlight:"black",C=r.lineWidth?r.lineWidth:2;return t.$$set=t=>{"hovered"in t&&n(0,$=t.hovered),"placeLabel"in t&&n(1,v=t.placeLabel),"selected"in t&&n(2,b=t.selected),"highlighted"in t&&n(3,k=t.highlighted),"overlayFill"in t&&n(4,w=t.overlayFill)},[$,v,b,k,w,i,o,a,s,l,c,u,d,f,g,p,m,y,x,M,_,T,N,A,C]}class _s extends Mt{constructor(t){super(),wt(this,t,Ms,ws,s,{hovered:0,placeLabel:1,selected:2,highlighted:3,overlayFill:4})}}const Ts=134217729;function Ns(t,e,n,r,i){let o,a,s,l,c=e[0],u=r[0],h=0,d=0;u>c==u>-c?(o=c,c=e[++h]):(o=u,u=r[++d]);let f=0;if(h<t&&d<n)for(u>c==u>-c?(a=c+o,s=o-(a-c),c=e[++h]):(a=u+o,s=o-(a-u),u=r[++d]),o=a,0!==s&&(i[f++]=s);h<t&&d<n;)u>c==u>-c?(a=o+c,l=a-o,s=o-(a-l)+(c-l),c=e[++h]):(a=o+u,l=a-o,s=o-(a-l)+(u-l),u=r[++d]),o=a,0!==s&&(i[f++]=s);for(;h<t;)a=o+c,l=a-o,s=o-(a-l)+(c-l),c=e[++h],o=a,0!==s&&(i[f++]=s);for(;d<n;)a=o+u,l=a-o,s=o-(a-l)+(u-l),u=r[++d],o=a,0!==s&&(i[f++]=s);return 0===o&&0!==f||(i[f++]=o),f}function As(t){return new Float64Array(t)}const Cs=As(4),Ss=As(8),Es=As(12),Ls=As(16),zs=As(4);function Rs(t,e,n,r,i,o){const a=(e-o)*(n-i),s=(t-i)*(r-o),l=a-s;if(0===a||0===s||a>0!=s>0)return l;const c=Math.abs(a+s);return Math.abs(l)>=33306690738754716e-32*c?l:-function(t,e,n,r,i,o,a){let s,l,c,u,h,d,f,g,p,m,y,x,$,v,b,k,w,M;const _=t-i,T=n-i,N=e-o,A=r-o;v=_*A,d=Ts*_,f=d-(d-_),g=_-f,d=Ts*A,p=d-(d-A),m=A-p,b=g*m-(v-f*p-g*p-f*m),k=N*T,d=Ts*N,f=d-(d-N),g=N-f,d=Ts*T,p=d-(d-T),m=T-p,w=g*m-(k-f*p-g*p-f*m),y=b-w,h=b-y,Cs[0]=b-(y+h)+(h-w),x=v+y,h=x-v,$=v-(x-h)+(y-h),y=$-k,h=$-y,Cs[1]=$-(y+h)+(h-k),M=x+y,h=M-x,Cs[2]=x-(M-h)+(y-h),Cs[3]=M;let C=function(t,e){let n=e[0];for(let r=1;r<t;r++)n+=e[r];return n}(4,Cs),S=22204460492503146e-32*a;if(C>=S||-C>=S)return C;if(h=t-_,s=t-(_+h)+(h-i),h=n-T,c=n-(T+h)+(h-i),h=e-N,l=e-(N+h)+(h-o),h=r-A,u=r-(A+h)+(h-o),0===s&&0===l&&0===c&&0===u)return C;if(S=11093356479670487e-47*a+33306690738754706e-32*Math.abs(C),C+=_*u+A*s-(N*c+T*l),C>=S||-C>=S)return C;v=s*A,d=Ts*s,f=d-(d-s),g=s-f,d=Ts*A,p=d-(d-A),m=A-p,b=g*m-(v-f*p-g*p-f*m),k=l*T,d=Ts*l,f=d-(d-l),g=l-f,d=Ts*T,p=d-(d-T),m=T-p,w=g*m-(k-f*p-g*p-f*m),y=b-w,h=b-y,zs[0]=b-(y+h)+(h-w),x=v+y,h=x-v,$=v-(x-h)+(y-h),y=$-k,h=$-y,zs[1]=$-(y+h)+(h-k),M=x+y,h=M-x,zs[2]=x-(M-h)+(y-h),zs[3]=M;const E=Ns(4,Cs,4,zs,Ss);v=_*u,d=Ts*_,f=d-(d-_),g=_-f,d=Ts*u,p=d-(d-u),m=u-p,b=g*m-(v-f*p-g*p-f*m),k=N*c,d=Ts*N,f=d-(d-N),g=N-f,d=Ts*c,p=d-(d-c),m=c-p,w=g*m-(k-f*p-g*p-f*m),y=b-w,h=b-y,zs[0]=b-(y+h)+(h-w),x=v+y,h=x-v,$=v-(x-h)+(y-h),y=$-k,h=$-y,zs[1]=$-(y+h)+(h-k),M=x+y,h=M-x,zs[2]=x-(M-h)+(y-h),zs[3]=M;const L=Ns(E,Ss,4,zs,Es);v=s*u,d=Ts*s,f=d-(d-s),g=s-f,d=Ts*u,p=d-(d-u),m=u-p,b=g*m-(v-f*p-g*p-f*m),k=l*c,d=Ts*l,f=d-(d-l),g=l-f,d=Ts*c,p=d-(d-c),m=c-p,w=g*m-(k-f*p-g*p-f*m),y=b-w,h=b-y,zs[0]=b-(y+h)+(h-w),x=v+y,h=x-v,$=v-(x-h)+(y-h),y=$-k,h=$-y,zs[1]=$-(y+h)+(h-k),M=x+y,h=M-x,zs[2]=x-(M-h)+(y-h),zs[3]=M;const z=Ns(L,Es,4,zs,Ls);return Ls[z-1]}(t,e,n,r,i,o,c)}const js=Math.pow(2,-52),Ds=new Uint32Array(512);class Fs{static from(t,e=Ws,n=Hs){const r=t.length,i=new Float64Array(2*r);for(let o=0;o<r;o++){const r=t[o];i[2*o]=e(r),i[2*o+1]=n(r)}return new Fs(i)}constructor(t){const e=t.length>>1;if(e>0&&"number"!=typeof t[0])throw new Error("Expected coords to contain numbers.");this.coords=t;const n=Math.max(2*e-5,0);this._triangles=new Uint32Array(3*n),this._halfedges=new Int32Array(3*n),this._hashSize=Math.ceil(Math.sqrt(e)),this._hullPrev=new Uint32Array(e),this._hullNext=new Uint32Array(e),this._hullTri=new Uint32Array(e),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(e),this._dists=new Float64Array(e),this.update()}update(){const{coords:t,_hullPrev:e,_hullNext:n,_hullTri:r,_hullHash:i}=this,o=t.length>>1;let a=1/0,s=1/0,l=-1/0,c=-1/0;for(let e=0;e<o;e++){const n=t[2*e],r=t[2*e+1];n<a&&(a=n),r<s&&(s=r),n>l&&(l=n),r>c&&(c=r),this._ids[e]=e}const u=(a+l)/2,h=(s+c)/2;let d,f,g,p=1/0;for(let e=0;e<o;e++){const n=Ps(u,h,t[2*e],t[2*e+1]);n<p&&(d=e,p=n)}const m=t[2*d],y=t[2*d+1];p=1/0;for(let e=0;e<o;e++){if(e===d)continue;const n=Ps(m,y,t[2*e],t[2*e+1]);n<p&&n>0&&(f=e,p=n)}let x=t[2*f],$=t[2*f+1],v=1/0;for(let e=0;e<o;e++){if(e===d||e===f)continue;const n=Ks(m,y,x,$,t[2*e],t[2*e+1]);n<v&&(g=e,v=n)}let b=t[2*g],k=t[2*g+1];if(v===1/0){for(let e=0;e<o;e++)this._dists[e]=t[2*e]-t[0]||t[2*e+1]-t[1];Os(this._ids,this._dists,0,o-1);const e=new Uint32Array(o);let n=0;for(let t=0,r=-1/0;t<o;t++){const i=this._ids[t];this._dists[i]>r&&(e[n++]=i,r=this._dists[i])}return this.hull=e.subarray(0,n),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(Rs(m,y,x,$,b,k)<0){const t=f,e=x,n=$;f=g,x=b,$=k,g=t,b=e,k=n}const w=function(t,e,n,r,i,o){const a=n-t,s=r-e,l=i-t,c=o-e,u=a*a+s*s,h=l*l+c*c,d=.5/(a*c-s*l);return{x:t+(c*u-s*h)*d,y:e+(a*h-l*u)*d}}(m,y,x,$,b,k);this._cx=w.x,this._cy=w.y;for(let e=0;e<o;e++)this._dists[e]=Ps(t[2*e],t[2*e+1],w.x,w.y);Os(this._ids,this._dists,0,o-1),this._hullStart=d;let M=3;n[d]=e[g]=f,n[f]=e[d]=g,n[g]=e[f]=d,r[d]=0,r[f]=1,r[g]=2,i.fill(-1),i[this._hashKey(m,y)]=d,i[this._hashKey(x,$)]=f,i[this._hashKey(b,k)]=g,this.trianglesLen=0,this._addTriangle(d,f,g,-1,-1,-1);for(let o,a,s=0;s<this._ids.length;s++){const l=this._ids[s],c=t[2*l],u=t[2*l+1];if(s>0&&Math.abs(c-o)<=js&&Math.abs(u-a)<=js)continue;if(o=c,a=u,l===d||l===f||l===g)continue;let h=0;for(let t=0,e=this._hashKey(c,u);t<this._hashSize&&(h=i[(e+t)%this._hashSize],-1===h||h===n[h]);t++);h=e[h];let p,m=h;for(;p=n[m],Rs(c,u,t[2*m],t[2*m+1],t[2*p],t[2*p+1])>=0;)if(m=p,m===h){m=-1;break}if(-1===m)continue;let y=this._addTriangle(m,l,n[m],-1,-1,r[m]);r[l]=this._legalize(y+2),r[m]=y,M++;let x=n[m];for(;p=n[x],Rs(c,u,t[2*x],t[2*x+1],t[2*p],t[2*p+1])<0;)y=this._addTriangle(x,l,p,r[l],-1,r[x]),r[l]=this._legalize(y+2),n[x]=x,M--,x=p;if(m===h)for(;p=e[m],Rs(c,u,t[2*p],t[2*p+1],t[2*m],t[2*m+1])<0;)y=this._addTriangle(p,l,m,-1,r[m],r[p]),this._legalize(y+2),r[p]=y,n[m]=m,M--,m=p;this._hullStart=e[l]=m,n[m]=e[x]=l,n[l]=x,i[this._hashKey(c,u)]=l,i[this._hashKey(t[2*m],t[2*m+1])]=m}this.hull=new Uint32Array(M);for(let t=0,e=this._hullStart;t<M;t++)this.hull[t]=e,e=n[e];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,e){return Math.floor(function(t,e){const n=t/(Math.abs(t)+Math.abs(e));return(e>0?3-n:1+n)/4}(t-this._cx,e-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:e,_halfedges:n,coords:r}=this;let i=0,o=0;for(;;){const a=n[t],s=t-t%3;if(o=s+(t+2)%3,-1===a){if(0===i)break;t=Ds[--i];continue}const l=a-a%3,c=s+(t+1)%3,u=l+(a+2)%3,h=e[o],d=e[t],f=e[c],g=e[u];if(Is(r[2*h],r[2*h+1],r[2*d],r[2*d+1],r[2*f],r[2*f+1],r[2*g],r[2*g+1])){e[t]=g,e[a]=h;const r=n[u];if(-1===r){let e=this._hullStart;do{if(this._hullTri[e]===u){this._hullTri[e]=t;break}e=this._hullPrev[e]}while(e!==this._hullStart)}this._link(t,r),this._link(a,n[o]),this._link(o,u);const s=l+(a+1)%3;i<Ds.length&&(Ds[i++]=s)}else{if(0===i)break;t=Ds[--i]}}return o}_link(t,e){this._halfedges[t]=e,-1!==e&&(this._halfedges[e]=t)}_addTriangle(t,e,n,r,i,o){const a=this.trianglesLen;return this._triangles[a]=t,this._triangles[a+1]=e,this._triangles[a+2]=n,this._link(a,r),this._link(a+1,i),this._link(a+2,o),this.trianglesLen+=3,a}}function Ps(t,e,n,r){const i=t-n,o=e-r;return i*i+o*o}function Is(t,e,n,r,i,o,a,s){const l=t-a,c=e-s,u=n-a,h=r-s,d=i-a,f=o-s,g=u*u+h*h,p=d*d+f*f;return l*(h*p-g*f)-c*(u*p-g*d)+(l*l+c*c)*(u*f-h*d)<0}function Ks(t,e,n,r,i,o){const a=n-t,s=r-e,l=i-t,c=o-e,u=a*a+s*s,h=l*l+c*c,d=.5/(a*c-s*l),f=(c*u-s*h)*d,g=(a*h-l*u)*d;return f*f+g*g}function Os(t,e,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const r=t[i],o=e[r];let a=i-1;for(;a>=n&&e[t[a]]>o;)t[a+1]=t[a--];t[a+1]=r}else{let i=n+1,o=r;qs(t,n+r>>1,i),e[t[n]]>e[t[r]]&&qs(t,n,r),e[t[i]]>e[t[r]]&&qs(t,i,r),e[t[n]]>e[t[i]]&&qs(t,n,i);const a=t[i],s=e[a];for(;;){do{i++}while(e[t[i]]<s);do{o--}while(e[t[o]]>s);if(o<i)break;qs(t,i,o)}t[n+1]=t[o],t[o]=a,r-i+1>=o-n?(Os(t,e,i,r),Os(t,e,n,o-1)):(Os(t,e,n,o-1),Os(t,e,i,r))}}function qs(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Ws(t){return t[0]}function Hs(t){return t[1]}const Us=1e-6;class Bs{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,e){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,e){this._+=`L${this._x1=+t},${this._y1=+e}`}arc(t,e,n){const r=(t=+t)+(n=+n),i=e=+e;if(n<0)throw new Error("negative radius");null===this._x1?this._+=`M${r},${i}`:(Math.abs(this._x1-r)>Us||Math.abs(this._y1-i)>Us)&&(this._+="L"+r+","+i),n&&(this._+=`A${n},${n},0,1,1,${t-n},${e}A${n},${n},0,1,1,${this._x1=r},${this._y1=i}`)}rect(t,e,n,r){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${+n}v${+r}h${-n}Z`}value(){return this._||null}}class Gs{constructor(){this._=[]}moveTo(t,e){this._.push([t,e])}closePath(){this._.push(this._[0].slice())}lineTo(t,e){this._.push([t,e])}value(){return this._.length?this._:null}}class Js{constructor(t,[e,n,r,i]=[0,0,960,500]){if(!((r=+r)>=(e=+e)&&(i=+i)>=(n=+n)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(2*t.points.length),this.vectors=new Float64Array(2*t.points.length),this.xmax=r,this.xmin=e,this.ymax=i,this.ymin=n,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:e,triangles:n},vectors:r}=this,i=this.circumcenters=this._circumcenters.subarray(0,n.length/3*2);for(let e,r,o=0,a=0,s=n.length;o<s;o+=3,a+=2){const s=2*n[o],l=2*n[o+1],c=2*n[o+2],u=t[s],h=t[s+1],d=t[l],f=t[l+1],g=t[c],p=t[c+1],m=d-u,y=f-h,x=g-u,$=p-h,v=2*(m*$-y*x);if(Math.abs(v)<1e-9){let i=1e9;const o=2*n[0];i*=Math.sign((t[o]-u)*$-(t[o+1]-h)*x),e=(u+g)/2-i*$,r=(h+p)/2+i*x}else{const t=1/v,n=m*m+y*y,i=x*x+$*$;e=u+($*n-y*i)*t,r=h+(m*i-x*n)*t}i[a]=e,i[a+1]=r}let o,a,s,l=e[e.length-1],c=4*l,u=t[2*l],h=t[2*l+1];r.fill(0);for(let n=0;n<e.length;++n)l=e[n],o=c,a=u,s=h,c=4*l,u=t[2*l],h=t[2*l+1],r[o+2]=r[c]=s-h,r[o+3]=r[c+1]=u-a}render(t){const e=null==t?t=new Bs:void 0,{delaunay:{halfedges:n,inedges:r,hull:i},circumcenters:o,vectors:a}=this;if(i.length<=1)return null;for(let e=0,r=n.length;e<r;++e){const r=n[e];if(r<e)continue;const i=2*Math.floor(e/3),a=2*Math.floor(r/3),s=o[i],l=o[i+1],c=o[a],u=o[a+1];this._renderSegment(s,l,c,u,t)}let s,l=i[i.length-1];for(let e=0;e<i.length;++e){s=l,l=i[e];const n=2*Math.floor(r[l]/3),c=o[n],u=o[n+1],h=4*s,d=this._project(c,u,a[h+2],a[h+3]);d&&this._renderSegment(c,u,d[0],d[1],t)}return e&&e.value()}renderBounds(t){const e=null==t?t=new Bs:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),e&&e.value()}renderCell(t,e){const n=null==e?e=new Bs:void 0,r=this._clip(t);if(null===r||!r.length)return;e.moveTo(r[0],r[1]);let i=r.length;for(;r[0]===r[i-2]&&r[1]===r[i-1]&&i>1;)i-=2;for(let t=2;t<i;t+=2)r[t]===r[t-2]&&r[t+1]===r[t-1]||e.lineTo(r[t],r[t+1]);return e.closePath(),n&&n.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let e=0,n=t.length/2;e<n;++e){const t=this.cellPolygon(e);t&&(t.index=e,yield t)}}cellPolygon(t){const e=new Gs;return this.renderCell(t,e),e.value()}_renderSegment(t,e,n,r,i){let o;const a=this._regioncode(t,e),s=this._regioncode(n,r);0===a&&0===s?(i.moveTo(t,e),i.lineTo(n,r)):(o=this._clipSegment(t,e,n,r,a,s))&&(i.moveTo(o[0],o[1]),i.lineTo(o[2],o[3]))}contains(t,e,n){return(e=+e)==e&&(n=+n)==n&&this.delaunay._step(t,e,n)===t}*neighbors(t){const e=this._clip(t);if(e)for(const n of this.delaunay.neighbors(t)){const t=this._clip(n);if(t)t:for(let r=0,i=e.length;r<i;r+=2)for(let o=0,a=t.length;o<a;o+=2)if(e[r]==t[o]&&e[r+1]==t[o+1]&&e[(r+2)%i]==t[(o+a-2)%a]&&e[(r+3)%i]==t[(o+a-1)%a]){yield n;break t}}}_cell(t){const{circumcenters:e,delaunay:{inedges:n,halfedges:r,triangles:i}}=this,o=n[t];if(-1===o)return null;const a=[];let s=o;do{const n=Math.floor(s/3);if(a.push(e[2*n],e[2*n+1]),s=s%3==2?s-2:s+1,i[s]!==t)break;s=r[s]}while(s!==o&&-1!==s);return a}_clip(t){if(0===t&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const e=this._cell(t);if(null===e)return null;const{vectors:n}=this,r=4*t;return n[r]||n[r+1]?this._clipInfinite(t,e,n[r],n[r+1],n[r+2],n[r+3]):this._clipFinite(t,e)}_clipFinite(t,e){const n=e.length;let r,i,o,a,s=null,l=e[n-2],c=e[n-1],u=this._regioncode(l,c),h=0;for(let d=0;d<n;d+=2)if(r=l,i=c,l=e[d],c=e[d+1],o=u,u=this._regioncode(l,c),0===o&&0===u)a=h,h=0,s?s.push(l,c):s=[l,c];else{let e,n,d,f,g;if(0===o){if(null===(e=this._clipSegment(r,i,l,c,o,u)))continue;[n,d,f,g]=e}else{if(null===(e=this._clipSegment(l,c,r,i,u,o)))continue;[f,g,n,d]=e,a=h,h=this._edgecode(n,d),a&&h&&this._edge(t,a,h,s,s.length),s?s.push(n,d):s=[n,d]}a=h,h=this._edgecode(f,g),a&&h&&this._edge(t,a,h,s,s.length),s?s.push(f,g):s=[f,g]}if(s)a=h,h=this._edgecode(s[0],s[1]),a&&h&&this._edge(t,a,h,s,s.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return s}_clipSegment(t,e,n,r,i,o){for(;;){if(0===i&&0===o)return[t,e,n,r];if(i&o)return null;let a,s,l=i||o;8&l?(a=t+(n-t)*(this.ymax-e)/(r-e),s=this.ymax):4&l?(a=t+(n-t)*(this.ymin-e)/(r-e),s=this.ymin):2&l?(s=e+(r-e)*(this.xmax-t)/(n-t),a=this.xmax):(s=e+(r-e)*(this.xmin-t)/(n-t),a=this.xmin),i?(t=a,e=s,i=this._regioncode(t,e)):(n=a,r=s,o=this._regioncode(n,r))}}_clipInfinite(t,e,n,r,i,o){let a,s=Array.from(e);if((a=this._project(s[0],s[1],n,r))&&s.unshift(a[0],a[1]),(a=this._project(s[s.length-2],s[s.length-1],i,o))&&s.push(a[0],a[1]),s=this._clipFinite(t,s))for(let e,n=0,r=s.length,i=this._edgecode(s[r-2],s[r-1]);n<r;n+=2)e=i,i=this._edgecode(s[n],s[n+1]),e&&i&&(n=this._edge(t,e,i,s,n),r=s.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(s=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return s}_edge(t,e,n,r,i){for(;e!==n;){let n,o;switch(e){case 5:e=4;continue;case 4:e=6,n=this.xmax,o=this.ymin;break;case 6:e=2;continue;case 2:e=10,n=this.xmax,o=this.ymax;break;case 10:e=8;continue;case 8:e=9,n=this.xmin,o=this.ymax;break;case 9:e=1;continue;case 1:e=5,n=this.xmin,o=this.ymin}r[i]===n&&r[i+1]===o||!this.contains(t,n,o)||(r.splice(i,0,n,o),i+=2)}if(r.length>4)for(let t=0;t<r.length;t+=2){const e=(t+2)%r.length,n=(t+4)%r.length;(r[t]===r[e]&&r[e]===r[n]||r[t+1]===r[e+1]&&r[e+1]===r[n+1])&&(r.splice(e,2),t-=2)}return i}_project(t,e,n,r){let i,o,a,s=1/0;if(r<0){if(e<=this.ymin)return null;(i=(this.ymin-e)/r)<s&&(a=this.ymin,o=t+(s=i)*n)}else if(r>0){if(e>=this.ymax)return null;(i=(this.ymax-e)/r)<s&&(a=this.ymax,o=t+(s=i)*n)}if(n>0){if(t>=this.xmax)return null;(i=(this.xmax-t)/n)<s&&(o=this.xmax,a=e+(s=i)*r)}else if(n<0){if(t<=this.xmin)return null;(i=(this.xmin-t)/n)<s&&(o=this.xmin,a=e+(s=i)*r)}return[o,a]}_edgecode(t,e){return(t===this.xmin?1:t===this.xmax?2:0)|(e===this.ymin?4:e===this.ymax?8:0)}_regioncode(t,e){return(t<this.xmin?1:t>this.xmax?2:0)|(e<this.ymin?4:e>this.ymax?8:0)}}const Vs=2*Math.PI,Ys=Math.pow;function Zs(t){return t[0]}function Xs(t){return t[1]}function Qs(t,e,n){return[t+Math.sin(t+e)*n,e+Math.cos(t-e)*n]}class tl{static from(t,e=Zs,n=Xs,r){return new tl("length"in t?function(t,e,n,r){const i=t.length,o=new Float64Array(2*i);for(let a=0;a<i;++a){const i=t[a];o[2*a]=e.call(r,i,a,t),o[2*a+1]=n.call(r,i,a,t)}return o}(t,e,n,r):Float64Array.from(function*(t,e,n,r){let i=0;for(const o of t)yield e.call(r,o,i,t),yield n.call(r,o,i,t),++i}(t,e,n,r)))}constructor(t){this._delaunator=new Fs(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,e=this.points;if(t.hull&&t.hull.length>2&&function(t){const{triangles:e,coords:n}=t;for(let t=0;t<e.length;t+=3){const r=2*e[t],i=2*e[t+1],o=2*e[t+2];if((n[o]-n[r])*(n[i+1]-n[r+1])-(n[i]-n[r])*(n[o+1]-n[r+1])>1e-10)return!1}return!0}(t)){this.collinear=Int32Array.from({length:e.length/2},((t,e)=>e)).sort(((t,n)=>e[2*t]-e[2*n]||e[2*t+1]-e[2*n+1]));const t=this.collinear[0],n=this.collinear[this.collinear.length-1],r=[e[2*t],e[2*t+1],e[2*n],e[2*n+1]],i=1e-8*Math.hypot(r[3]-r[1],r[2]-r[0]);for(let t=0,n=e.length/2;t<n;++t){const n=Qs(e[2*t],e[2*t+1],i);e[2*t]=n[0],e[2*t+1]=n[1]}this._delaunator=new Fs(e)}else delete this.collinear;const n=this.halfedges=this._delaunator.halfedges,r=this.hull=this._delaunator.hull,i=this.triangles=this._delaunator.triangles,o=this.inedges.fill(-1),a=this._hullIndex.fill(-1);for(let t=0,e=n.length;t<e;++t){const e=i[t%3==2?t-2:t+1];-1!==n[t]&&-1!==o[e]||(o[e]=t)}for(let t=0,e=r.length;t<e;++t)a[r[t]]=t;r.length<=2&&r.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=r[0],o[r[0]]=1,2===r.length&&(o[r[1]]=0,this.triangles[1]=r[1],this.triangles[2]=r[1]))}voronoi(t){return new Js(this,t)}*neighbors(t){const{inedges:e,hull:n,_hullIndex:r,halfedges:i,triangles:o,collinear:a}=this;if(a){const e=a.indexOf(t);return e>0&&(yield a[e-1]),void(e<a.length-1&&(yield a[e+1]))}const s=e[t];if(-1===s)return;let l=s,c=-1;do{if(yield c=o[l],l=l%3==2?l-2:l+1,o[l]!==t)return;if(l=i[l],-1===l){const e=n[(r[t]+1)%n.length];return void(e!==c&&(yield e))}}while(l!==s)}find(t,e,n=0){if((t=+t)!=t||(e=+e)!=e)return-1;const r=n;let i;for(;(i=this._step(n,t,e))>=0&&i!==n&&i!==r;)n=i;return i}_step(t,e,n){const{inedges:r,hull:i,_hullIndex:o,halfedges:a,triangles:s,points:l}=this;if(-1===r[t]||!l.length)return(t+1)%(l.length>>1);let c=t,u=Ys(e-l[2*t],2)+Ys(n-l[2*t+1],2);const h=r[t];let d=h;do{let r=s[d];const h=Ys(e-l[2*r],2)+Ys(n-l[2*r+1],2);if(h<u&&(u=h,c=r),d=d%3==2?d-2:d+1,s[d]!==t)break;if(d=a[d],-1===d){if(d=i[(o[t]+1)%i.length],d!==r&&Ys(e-l[2*d],2)+Ys(n-l[2*d+1],2)<u)return d;break}}while(d!==h);return c}render(t){const e=null==t?t=new Bs:void 0,{points:n,halfedges:r,triangles:i}=this;for(let e=0,o=r.length;e<o;++e){const o=r[e];if(o<e)continue;const a=2*i[e],s=2*i[o];t.moveTo(n[a],n[a+1]),t.lineTo(n[s],n[s+1])}return this.renderHull(t),e&&e.value()}renderPoints(t,e){void 0!==e||t&&"function"==typeof t.moveTo||(e=t,t=null),e=null==e?2:+e;const n=null==t?t=new Bs:void 0,{points:r}=this;for(let n=0,i=r.length;n<i;n+=2){const i=r[n],o=r[n+1];t.moveTo(i+e,o),t.arc(i,o,e,0,Vs)}return n&&n.value()}renderHull(t){const e=null==t?t=new Bs:void 0,{hull:n,points:r}=this,i=2*n[0],o=n.length;t.moveTo(r[i],r[i+1]);for(let e=1;e<o;++e){const i=2*n[e];t.lineTo(r[i],r[i+1])}return t.closePath(),e&&e.value()}hullPolygon(){const t=new Gs;return this.renderHull(t),t.value()}renderTriangle(t,e){const n=null==e?e=new Bs:void 0,{points:r,triangles:i}=this,o=2*i[t*=3],a=2*i[t+1],s=2*i[t+2];return e.moveTo(r[o],r[o+1]),e.lineTo(r[a],r[a+1]),e.lineTo(r[s],r[s+1]),e.closePath(),n&&n.value()}*trianglePolygons(){const{triangles:t}=this;for(let e=0,n=t.length/3;e<n;++e)yield this.trianglePolygon(e)}trianglePolygon(t){const e=new Gs;return this.renderTriangle(t,e),e.value()}}function el(t,e,n){const r=t.slice();return r[29]=e[n],r[31]=n,r}function nl(t){let e,n=t[1]&&rl(t);return{c(){n&&n.c(),e=S()},m(t,r){n&&n.m(t,r),w(t,e,r)},p(t,r){t[1]?n?n.p(t,r):(n=rl(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&M(e)}}}function rl(t){let e,n=t[2],r=[];for(let e=0;e<n.length;e+=1)r[e]=il(el(t,n,e));return{c(){e=N("g");for(let t=0;t<r.length;t+=1)r[t].c();L(e,"class","voronoi-group")},m(t,n){w(t,e,n);for(let t=0;t<r.length;t+=1)r[t].m(e,null)},p(t,i){if(3078&i[0]){let o;for(n=t[2],o=0;o<n.length;o+=1){const a=el(t,n,o);r[o]?r[o].p(a,i):(r[o]=il(a),r[o].c(),r[o].m(e,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(t){t&&M(e),_(r,t)}}}function il(t){let e,n,r,i;function a(...e){return t[21](t[31],...e)}function s(...e){return t[23](t[31],...e)}function l(...e){return t[25](t[31],...e)}return{c(){e=N("path"),L(e,"class","voronoi-cell svelte-169satm"),L(e,"d",n=t[1].renderCell(t[31]))},m(n,o){w(n,e,o),r||(i=[E(e,"mouseover",a),E(e,"mouseleave",t[22]),E(e,"focus",s),E(e,"blur",t[24]),E(e,"click",l)],r=!0)},p(r,i){t=r,2&i[0]&&n!==(n=t[1].renderCell(t[31]))&&L(e,"d",n)},d(t){t&&M(e),r=!1,o(i)}}}function ol(e){let n,r=e[0].length==e[2].length&&nl(e);return{c(){r&&r.c(),n=S()},m(t,e){r&&r.m(t,e),w(t,n,e)},p(t,e){t[0].length==t[2].length?r?r.p(t,e):(r=nl(t),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},i:t,o:t,d(t){r&&r.d(t),t&&M(n)}}}function al(t,e,n){let r,i,o,a,s,l,c,u,d;const{data:f,width:g,height:p,custom:m,xScale:y,yScale:x}=G("LayerCake");h(t,f,(t=>n(2,d=t))),h(t,g,(t=>n(18,a=t))),h(t,p,(t=>n(17,o=t))),h(t,m,(t=>n(26,u=t))),h(t,y,(t=>n(20,l=t))),h(t,x,(t=>n(19,s=t)));const $=U();let{hover:v=!1}=e,{hovered:b=null}=e,{select:k=!1}=e,{selected:w=null}=e,M=u.coords;h(t,M,(t=>n(0,c=t)));let _=u.idKey;function T(t,e){v&&(n(12,b=e?e[_]:null),$("hover",{id:b,data:e,event:t}))}function N(t,e){k&&(n(13,w=e?e[_]:null),$("select",{id:w,data:e,event:t}))}return t.$$set=t=>{"hover"in t&&n(14,v=t.hover),"hovered"in t&&n(12,b=t.hovered),"select"in t&&n(15,k=t.select),"selected"in t&&n(13,w=t.selected)},t.$$.update=()=>{1572865&t.$$.dirty[0]&&n(16,r=Array.isArray(c)?c.map((t=>[l(t.x),s(t.y)])):[]),458752&t.$$.dirty[0]&&n(1,i=tl.from(r).voronoi([0,0,a,o]))},[c,i,d,f,g,p,m,y,x,M,T,N,b,w,v,k,r,o,a,s,l,(t,e)=>T(e,d[t]),t=>T(t,null),(t,e)=>T(e,d[t]),t=>T(t,null),(t,e)=>N(e,d[t])]}class sl extends Mt{constructor(t){super(),wt(this,t,al,ol,s,{hover:14,hovered:12,select:15,selected:13},null,[-1,-1])}}const ll=t=>({}),cl=t=>({}),ul=t=>({}),hl=t=>({}),dl=t=>({}),fl=t=>({}),gl=t=>({}),pl=t=>({});function ml(t){let e,n;return e=new Xa({props:{$$slots:{default:[yl]},$$scope:{ctx:t}}}),{c(){$t(e.$$.fragment)},m(t,r){vt(e,t,r),n=!0},p(t,n){const r={};4194304&n[0]|134217728&n[1]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){dt(e.$$.fragment,t),n=!1},d(t){bt(e,t)}}}function yl(t){let e;return{c(){e=A(t[22])},m(t,n){w(t,e,n)},p(t,n){4194304&n[0]&&z(e,t[22])},d(t){t&&M(e)}}}function xl(t){let e,n,r,i,o,a;e=new Ca({});const s=t[54].back,l=d(s,t,t[58],fl);i=new Fi({props:{pointerEvents:t[30],$$slots:{default:[kl]},$$scope:{ctx:t}}});const c=t[54].front,u=d(c,t,t[58],cl);return{c(){$t(e.$$.fragment),n=C(),l&&l.c(),r=C(),$t(i.$$.fragment),o=C(),u&&u.c()},m(t,s){vt(e,t,s),w(t,n,s),l&&l.m(t,s),w(t,r,s),vt(i,t,s),w(t,o,s),u&&u.m(t,s),a=!0},p(t,e){l&&l.p&&(!a||134217728&e[1])&&p(l,s,t,t[58],a?g(s,t[58],e,dl):m(t[58]),fl);const n={};1073741824&e[0]&&(n.pointerEvents=t[30]),37740609&e[0]|134221487&e[1]&&(n.$$scope={dirty:e,ctx:t}),i.$set(n),u&&u.p&&(!a||134217728&e[1])&&p(u,c,t,t[58],a?g(c,t[58],e,ll):m(t[58]),cl)},i(t){a||(ht(e.$$.fragment,t),ht(l,t),ht(i.$$.fragment,t),ht(u,t),a=!0)},o(t){dt(e.$$.fragment,t),dt(l,t),dt(i.$$.fragment,t),dt(u,t),a=!1},d(t){bt(e,t),t&&M(n),l&&l.d(t),t&&M(r),bt(i,t),t&&M(o),u&&u.d(t)}}}function $l(t){let e,n;return e=new Da({props:{ticks:t[17],formatTick:t[13],snapTicks:t[25],prefix:t[31],suffix:t[32],textColor:t[19],tickColor:t[20],tickDashed:t[21]}}),{c(){$t(e.$$.fragment)},m(t,r){vt(e,t,r),n=!0},p(t,n){const r={};131072&n[0]&&(r.ticks=t[17]),8192&n[0]&&(r.formatTick=t[13]),33554432&n[0]&&(r.snapTicks=t[25]),1&n[1]&&(r.prefix=t[31]),2&n[1]&&(r.suffix=t[32]),524288&n[0]&&(r.textColor=t[19]),1048576&n[0]&&(r.tickColor=t[20]),2097152&n[0]&&(r.tickDashed=t[21]),e.$set(r)},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){dt(e.$$.fragment,t),n=!1},d(t){bt(e,t)}}}function vl(t){let e,n;return e=new Wa({props:{ticks:t[18],formatTick:t[14],prefix:t[33],suffix:t[34],textColor:t[19],tickColor:t[20],tickDashed:t[21]}}),{c(){$t(e.$$.fragment)},m(t,r){vt(e,t,r),n=!0},p(t,n){const r={};262144&n[0]&&(r.ticks=t[18]),16384&n[0]&&(r.formatTick=t[14]),4&n[1]&&(r.prefix=t[33]),8&n[1]&&(r.suffix=t[34]),524288&n[0]&&(r.textColor=t[19]),1048576&n[0]&&(r.tickColor=t[20]),2097152&n[0]&&(r.tickDashed=t[21]),e.$set(r)},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){dt(e.$$.fragment,t),n=!1},d(t){bt(e,t)}}}function bl(t){let e,n,r,i;function o(e){t[55](e)}function a(e){t[56](e)}let s={select:t[36],hover:Al,highlighted:t[38]};return void 0!==t[0]&&(s.selected=t[0]),void 0!==t[41]&&(s.hovered=t[41]),e=new sl({props:s}),Y.push((()=>xt(e,"selected",o))),Y.push((()=>xt(e,"hovered",a))),e.$on("hover",t[46]),e.$on("select",t[57]),{c(){$t(e.$$.fragment)},m(t,n){vt(e,t,n),i=!0},p(t,i){const o={};32&i[1]&&(o.select=t[36]),128&i[1]&&(o.highlighted=t[38]),!n&&1&i[0]&&(n=!0,o.selected=t[0],nt((()=>n=!1))),!r&&1024&i[1]&&(r=!0,o.hovered=t[41],nt((()=>r=!1))),e.$set(o)},i(t){i||(ht(e.$$.fragment,t),i=!0)},o(t){dt(e.$$.fragment,t),i=!1},d(t){bt(e,t)}}}function kl(t){let e,n,r,i,o,a,s,l=t[15]&&$l(t),c=t[16]&&t[6]&&vl(t);r=new _s({props:{selected:t[0],hovered:t[41],placeLabel:t[42],highlighted:t[38],overlayFill:t[40]}});let u=(t[36]||Al)&&bl(t),h=function(t){let e,n;return e=new gs({props:{hovered:t[41],placeLabel:t[42],selected:t[0]}}),{c(){$t(e.$$.fragment)},m(t,r){vt(e,t,r),n=!0},p(t,n){const r={};1024&n[1]&&(r.hovered=t[41]),2048&n[1]&&(r.placeLabel=t[42]),1&n[0]&&(r.selected=t[0]),e.$set(r)},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){dt(e.$$.fragment,t),n=!1},d(t){bt(e,t)}}}(t);const f=t[54].svg,y=d(f,t,t[58],hl);return{c(){l&&l.c(),e=C(),c&&c.c(),n=C(),$t(r.$$.fragment),i=C(),u&&u.c(),o=C(),h&&h.c(),a=C(),y&&y.c()},m(t,d){l&&l.m(t,d),w(t,e,d),c&&c.m(t,d),w(t,n,d),vt(r,t,d),w(t,i,d),u&&u.m(t,d),w(t,o,d),h&&h.m(t,d),w(t,a,d),y&&y.m(t,d),s=!0},p(t,i){t[15]?l?(l.p(t,i),32768&i[0]&&ht(l,1)):(l=$l(t),l.c(),ht(l,1),l.m(e.parentNode,e)):l&&(ct(),dt(l,1,1,(()=>{l=null})),ut()),t[16]&&t[6]?c?(c.p(t,i),65600&i[0]&&ht(c,1)):(c=vl(t),c.c(),ht(c,1),c.m(n.parentNode,n)):c&&(ct(),dt(c,1,1,(()=>{c=null})),ut());const a={};1&i[0]&&(a.selected=t[0]),1024&i[1]&&(a.hovered=t[41]),2048&i[1]&&(a.placeLabel=t[42]),128&i[1]&&(a.highlighted=t[38]),512&i[1]&&(a.overlayFill=t[40]),r.$set(a),t[36]||Al?u?(u.p(t,i),32&i[1]&&ht(u,1)):(u=bl(t),u.c(),ht(u,1),u.m(o.parentNode,o)):u&&(ct(),dt(u,1,1,(()=>{u=null})),ut()),h.p(t,i),y&&y.p&&(!s||134217728&i[1])&&p(y,f,t,t[58],s?g(f,t[58],i,ul):m(t[58]),hl)},i(t){s||(ht(l),ht(c),ht(r.$$.fragment,t),ht(u),ht(h),ht(y,t),s=!0)},o(t){dt(l),dt(c),dt(r.$$.fragment,t),dt(u),dt(h),dt(y,t),s=!1},d(t){l&&l.d(t),t&&M(e),c&&c.d(t),t&&M(n),bt(r,t),t&&M(i),u&&u.d(t),t&&M(o),h&&h.d(t),t&&M(a),y&&y.d(t)}}}function wl(t){let e,n,r=t[65]>80&&xl(t);return{c(){r&&r.c(),e=S()},m(t,i){r&&r.m(t,i),w(t,e,i),n=!0},p(t,n){t[65]>80?r?(r.p(t,n),8&n[2]&&ht(r,1)):(r=xl(t),r.c(),ht(r,1),r.m(e.parentNode,e)):r&&(ct(),dt(r,1,1,(()=>{r=null})),ut())},i(t){n||(ht(r),n=!0)},o(t){dt(r),n=!1},d(t){r&&r.d(t),t&&M(e)}}}function Ml(t){let e,n;return e=new Va({props:{domain:t[44],colors:t[28],markerLength:13,round:!0}}),{c(){$t(e.$$.fragment)},m(t,r){vt(e,t,r),n=!0},p(t,n){const r={};8192&n[1]&&(r.domain=t[44]),268435456&n[0]&&(r.colors=t[28]),e.$set(r)},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){dt(e.$$.fragment,t),n=!1},d(t){bt(e,t)}}}function _l(t){let e,n;return e=new es({props:{$$slots:{default:[Tl]},$$scope:{ctx:t}}}),{c(){$t(e.$$.fragment)},m(t,r){vt(e,t,r),n=!0},p(t,n){const r={};8388608&n[0]|134217728&n[1]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){dt(e.$$.fragment,t),n=!1},d(t){bt(e,t)}}}function Tl(t){let e;return{c(){e=A(t[23])},m(t,n){w(t,e,n)},p(t,n){8388608&n[0]&&z(e,t[23])},d(t){t&&M(e)}}}function Nl(t){let e,n,r,i,o,a,s,l,c=t[22]&&ml(t);const u=t[54].options,h=d(u,t,t[58],pl);i=new _i({props:{padding:t[26],x:t[5],y:t[6],z:t[7],r:t[8],xScale:"log"==t[11]?ka():xa(),yScale:"log"==t[12]?ka():xa(),zScale:Xi(),xDomain:t[43],yDomain:t[45],zDomain:t[44],zRange:t[28],rRange:Array.isArray(t[29])?t[29]:[t[29],t[29]],data:t[1],xPadding:[t[27],t[27]],yPadding:t[6]?[t[27],t[27]]:null,custom:{type:"scatter",idKey:t[9],labelKey:t[10],coords:t[47],colorSelect:t[37],colorHover:t[35],colorHighlight:t[39],padding:1,animation:t[3],duration:t[4]},$$slots:{default:[wl,({width:t})=>({65:t}),({width:t})=>[0,0,t?8:0]]},$$scope:{ctx:t}}});let f=t[24]&&t[44]&&Ml(t),y=t[23]&&_l(t);return{c(){c&&c.c(),e=C(),h&&h.c(),n=C(),r=T("div"),$t(i.$$.fragment),o=C(),f&&f.c(),a=C(),y&&y.c(),s=S(),L(r,"class","chart-container svelte-1dnlmiu"),j(r,"height","number"==typeof t[2]?t[2]+"px":t[2])},m(t,u){c&&c.m(t,u),w(t,e,u),h&&h.m(t,u),w(t,n,u),w(t,r,u),vt(i,r,null),w(t,o,u),f&&f.m(t,u),w(t,a,u),y&&y.m(t,u),w(t,s,u),l=!0},p(t,n){t[22]?c?(c.p(t,n),4194304&n[0]&&ht(c,1)):(c=ml(t),c.c(),ht(c,1),c.m(e.parentNode,e)):c&&(ct(),dt(c,1,1,(()=>{c=null})),ut()),h&&h.p&&(!l||134217728&n[1])&&p(h,u,t,t[58],l?g(u,t[58],n,gl):m(t[58]),pl);const o={};67108864&n[0]&&(o.padding=t[26]),32&n[0]&&(o.x=t[5]),64&n[0]&&(o.y=t[6]),128&n[0]&&(o.z=t[7]),256&n[0]&&(o.r=t[8]),2048&n[0]&&(o.xScale="log"==t[11]?ka():xa()),4096&n[0]&&(o.yScale="log"==t[12]?ka():xa()),4096&n[1]&&(o.xDomain=t[43]),16384&n[1]&&(o.yDomain=t[45]),8192&n[1]&&(o.zDomain=t[44]),268435456&n[0]&&(o.zRange=t[28]),536870912&n[0]&&(o.rRange=Array.isArray(t[29])?t[29]:[t[29],t[29]]),2&n[0]&&(o.data=t[1]),134217728&n[0]&&(o.xPadding=[t[27],t[27]]),134217792&n[0]&&(o.yPadding=t[6]?[t[27],t[27]]:null),1560&n[0]|336&n[1]&&(o.custom={type:"scatter",idKey:t[9],labelKey:t[10],coords:t[47],colorSelect:t[37],colorHover:t[35],colorHighlight:t[39],padding:1,animation:t[3],duration:t[4]}),1111482433&n[0]|134221487&n[1]|8&n[2]&&(o.$$scope={dirty:n,ctx:t}),i.$set(o),(!l||4&n[0])&&j(r,"height","number"==typeof t[2]?t[2]+"px":t[2]),t[24]&&t[44]?f?(f.p(t,n),16777216&n[0]|8192&n[1]&&ht(f,1)):(f=Ml(t),f.c(),ht(f,1),f.m(a.parentNode,a)):f&&(ct(),dt(f,1,1,(()=>{f=null})),ut()),t[23]?y?(y.p(t,n),8388608&n[0]&&ht(y,1)):(y=_l(t),y.c(),ht(y,1),y.m(s.parentNode,s)):y&&(ct(),dt(y,1,1,(()=>{y=null})),ut())},i(t){l||(ht(c),ht(h,t),ht(i.$$.fragment,t),ht(f),ht(y),l=!0)},o(t){dt(c),dt(h,t),dt(i.$$.fragment,t),dt(f),dt(y),l=!1},d(t){c&&c.d(t),t&&M(e),h&&h.d(t),t&&M(n),t&&M(r),bt(i),t&&M(o),f&&f.d(t),t&&M(a),y&&y.d(t),t&&M(s)}}}let Al=!0;function Cl(t,e,n,r){let i=t.map((t=>t[e]));return[n||(i[0]?Math.min(...i):-1),r||(i[0]?Math.max(...i):1)]}function Sl(t,e,n){let r,i,{$$slots:o={},$$scope:a}=e,{data:s}=e,{height:l=250}=e,{animation:c=!1}=e,{duration:u=800}=e,{xKey:d="x"}=e,{yKey:f=null}=e,{zKey:g=null}=e,{rKey:p=null}=e,{idKey:m=d}=e,{labelKey:y=m}=e,{xScale:x="linear"}=e,{yScale:$="linear"}=e,{xFormatTick:v=(t=>t)}=e,{yFormatTick:b=(t=>t)}=e,{xMax:k=null}=e,{xMin:w=null}=e,{yMax:M=null}=e,{yMin:_=null}=e,{xAxis:T=!0}=e,{yAxis:N=!0}=e,{xTicks:A=4}=e,{yTicks:C=4}=e,{textColor:S="#666"}=e,{tickColor:E="#ccc"}=e,{tickDashed:L=!1}=e,{title:z=null}=e,{footer:R=null}=e,{legend:j=!1}=e,{snapTicks:D=!1}=e,{padding:F={top:0,bottom:20,left:35,right:0}}=e,{buffer:P=5}=e,{color:I=null}=e,{colors:K=(I?[I]:["#3C388E","#DF0667","#00A3A6","#206095","#A8BD3A","#003C57","#27A0CC","#118C7B","#F66068","#746CB1","#22D0B6","lightgrey"])}=e,{r:O=4}=e,{interactive:q=!0}=e,{xPrefix:W=""}=e,{xSuffix:H=""}=e,{yPrefix:U=""}=e,{ySuffix:B=""}=e,{colorHover:G="orange"}=e,{select:V=!1}=e,{selected:Y=null}=e,{colorSelect:Z="black"}=e,{highlighted:X=[]}=e,{colorHighlight:Q="black"}=e,{overlayFill:tt=!1}=e,et=null,nt=!0;const rt={duration:u,easing:wa},it=Ta(void 0,rt),ot=(t,e,n)=>n.indexOf(t)==e;let at=Cl(s,d,w,k);const st=Ta(at,rt);let lt=Cl(s,f,_,M);const ct=Ta(lt,rt);return h(t,ct,(t=>n(45,i=t))),t.$$set=t=>{"data"in t&&n(1,s=t.data),"height"in t&&n(2,l=t.height),"animation"in t&&n(3,c=t.animation),"duration"in t&&n(4,u=t.duration),"xKey"in t&&n(5,d=t.xKey),"yKey"in t&&n(6,f=t.yKey),"zKey"in t&&n(7,g=t.zKey),"rKey"in t&&n(8,p=t.rKey),"idKey"in t&&n(9,m=t.idKey),"labelKey"in t&&n(10,y=t.labelKey),"xScale"in t&&n(11,x=t.xScale),"yScale"in t&&n(12,$=t.yScale),"xFormatTick"in t&&n(13,v=t.xFormatTick),"yFormatTick"in t&&n(14,b=t.yFormatTick),"xMax"in t&&n(49,k=t.xMax),"xMin"in t&&n(50,w=t.xMin),"yMax"in t&&n(51,M=t.yMax),"yMin"in t&&n(52,_=t.yMin),"xAxis"in t&&n(15,T=t.xAxis),"yAxis"in t&&n(16,N=t.yAxis),"xTicks"in t&&n(17,A=t.xTicks),"yTicks"in t&&n(18,C=t.yTicks),"textColor"in t&&n(19,S=t.textColor),"tickColor"in t&&n(20,E=t.tickColor),"tickDashed"in t&&n(21,L=t.tickDashed),"title"in t&&n(22,z=t.title),"footer"in t&&n(23,R=t.footer),"legend"in t&&n(24,j=t.legend),"snapTicks"in t&&n(25,D=t.snapTicks),"padding"in t&&n(26,F=t.padding),"buffer"in t&&n(27,P=t.buffer),"color"in t&&n(53,I=t.color),"colors"in t&&n(28,K=t.colors),"r"in t&&n(29,O=t.r),"interactive"in t&&n(30,q=t.interactive),"xPrefix"in t&&n(31,W=t.xPrefix),"xSuffix"in t&&n(32,H=t.xSuffix),"yPrefix"in t&&n(33,U=t.yPrefix),"ySuffix"in t&&n(34,B=t.ySuffix),"colorHover"in t&&n(35,G=t.colorHover),"select"in t&&n(36,V=t.select),"selected"in t&&n(0,Y=t.selected),"colorSelect"in t&&n(37,Z=t.colorSelect),"highlighted"in t&&n(38,X=t.highlighted),"colorHighlight"in t&&n(39,Q=t.colorHighlight),"overlayFill"in t&&n(40,tt=t.overlayFill),"$$scope"in t&&n(58,a=t.$$scope)},t.$$.update=()=>{34&t.$$.dirty[0]|786432&t.$$.dirty[1]&&function(t,e,r,i){let o=Cl(t,e,r,i);o[0]==at[0]&&o[1]==at[1]||(st.set(o),n(43,at=o))}(s,d,w,k),66&t.$$.dirty[0]|3145728&t.$$.dirty[1]&&function(t,e,n,r){let i=e?Cl(t,e,n,r):lt;i[0]==lt[0]&&i[1]==lt[1]||(ct.set(i,{duration:c?u:0}),lt=i)}(s,f,_,M),130&t.$$.dirty[0]&&n(44,r=g?s.map((t=>t[g])).filter(ot):null)},[Y,s,l,c,u,d,f,g,p,m,y,x,$,v,b,T,N,A,C,S,E,L,z,R,j,D,F,P,K,O,q,W,H,U,B,G,V,Z,X,Q,tt,et,nt,at,r,i,function(t){n(41,et=t.detail.id),et&&n(42,nt=t.detail.data.unique)},it,ct,k,w,M,_,I,o,function(t){Y=t,n(0,Y)},function(t){et=t,n(41,et)},function(e){J.call(this,t,e)},a]}class El extends Mt{constructor(t){super(),wt(this,t,Sl,Nl,s,{data:1,height:2,animation:3,duration:4,xKey:5,yKey:6,zKey:7,rKey:8,idKey:9,labelKey:10,xScale:11,yScale:12,xFormatTick:13,yFormatTick:14,xMax:49,xMin:50,yMax:51,yMin:52,xAxis:15,yAxis:16,xTicks:17,yTicks:18,textColor:19,tickColor:20,tickDashed:21,title:22,footer:23,legend:24,snapTicks:25,padding:26,buffer:27,color:53,colors:28,r:29,interactive:30,xPrefix:31,xSuffix:32,yPrefix:33,ySuffix:34,colorHover:35,select:36,selected:0,colorSelect:37,highlighted:38,colorHighlight:39,overlayFill:40},null,[-1,-1,-1])}get data(){return this.$$.ctx[1]}set data(t){this.$$set({data:t}),ot()}get height(){return this.$$.ctx[2]}set height(t){this.$$set({height:t}),ot()}get animation(){return this.$$.ctx[3]}set animation(t){this.$$set({animation:t}),ot()}get duration(){return this.$$.ctx[4]}set duration(t){this.$$set({duration:t}),ot()}get xKey(){return this.$$.ctx[5]}set xKey(t){this.$$set({xKey:t}),ot()}get yKey(){return this.$$.ctx[6]}set yKey(t){this.$$set({yKey:t}),ot()}get zKey(){return this.$$.ctx[7]}set zKey(t){this.$$set({zKey:t}),ot()}get rKey(){return this.$$.ctx[8]}set rKey(t){this.$$set({rKey:t}),ot()}get idKey(){return this.$$.ctx[9]}set idKey(t){this.$$set({idKey:t}),ot()}get labelKey(){return this.$$.ctx[10]}set labelKey(t){this.$$set({labelKey:t}),ot()}get xScale(){return this.$$.ctx[11]}set xScale(t){this.$$set({xScale:t}),ot()}get yScale(){return this.$$.ctx[12]}set yScale(t){this.$$set({yScale:t}),ot()}get xFormatTick(){return this.$$.ctx[13]}set xFormatTick(t){this.$$set({xFormatTick:t}),ot()}get yFormatTick(){return this.$$.ctx[14]}set yFormatTick(t){this.$$set({yFormatTick:t}),ot()}get xMax(){return this.$$.ctx[49]}set xMax(t){this.$$set({xMax:t}),ot()}get xMin(){return this.$$.ctx[50]}set xMin(t){this.$$set({xMin:t}),ot()}get yMax(){return this.$$.ctx[51]}set yMax(t){this.$$set({yMax:t}),ot()}get yMin(){return this.$$.ctx[52]}set yMin(t){this.$$set({yMin:t}),ot()}get xAxis(){return this.$$.ctx[15]}set xAxis(t){this.$$set({xAxis:t}),ot()}get yAxis(){return this.$$.ctx[16]}set yAxis(t){this.$$set({yAxis:t}),ot()}get xTicks(){return this.$$.ctx[17]}set xTicks(t){this.$$set({xTicks:t}),ot()}get yTicks(){return this.$$.ctx[18]}set yTicks(t){this.$$set({yTicks:t}),ot()}get textColor(){return this.$$.ctx[19]}set textColor(t){this.$$set({textColor:t}),ot()}get tickColor(){return this.$$.ctx[20]}set tickColor(t){this.$$set({tickColor:t}),ot()}get tickDashed(){return this.$$.ctx[21]}set tickDashed(t){this.$$set({tickDashed:t}),ot()}get title(){return this.$$.ctx[22]}set title(t){this.$$set({title:t}),ot()}get footer(){return this.$$.ctx[23]}set footer(t){this.$$set({footer:t}),ot()}get legend(){return this.$$.ctx[24]}set legend(t){this.$$set({legend:t}),ot()}get snapTicks(){return this.$$.ctx[25]}set snapTicks(t){this.$$set({snapTicks:t}),ot()}get padding(){return this.$$.ctx[26]}set padding(t){this.$$set({padding:t}),ot()}get buffer(){return this.$$.ctx[27]}set buffer(t){this.$$set({buffer:t}),ot()}get color(){return this.$$.ctx[53]}set color(t){this.$$set({color:t}),ot()}get colors(){return this.$$.ctx[28]}set colors(t){this.$$set({colors:t}),ot()}get r(){return this.$$.ctx[29]}set r(t){this.$$set({r:t}),ot()}get interactive(){return this.$$.ctx[30]}set interactive(t){this.$$set({interactive:t}),ot()}get xPrefix(){return this.$$.ctx[31]}set xPrefix(t){this.$$set({xPrefix:t}),ot()}get xSuffix(){return this.$$.ctx[32]}set xSuffix(t){this.$$set({xSuffix:t}),ot()}get yPrefix(){return this.$$.ctx[33]}set yPrefix(t){this.$$set({yPrefix:t}),ot()}get ySuffix(){return this.$$.ctx[34]}set ySuffix(t){this.$$set({ySuffix:t}),ot()}get colorHover(){return this.$$.ctx[35]}set colorHover(t){this.$$set({colorHover:t}),ot()}get select(){return this.$$.ctx[36]}set select(t){this.$$set({select:t}),ot()}get selected(){return this.$$.ctx[0]}set selected(t){this.$$set({selected:t}),ot()}get colorSelect(){return this.$$.ctx[37]}set colorSelect(t){this.$$set({colorSelect:t}),ot()}get highlighted(){return this.$$.ctx[38]}set highlighted(t){this.$$set({highlighted:t}),ot()}get colorHighlight(){return this.$$.ctx[39]}set colorHighlight(t){this.$$set({colorHighlight:t}),ot()}get overlayFill(){return this.$$.ctx[40]}set overlayFill(t){this.$$set({overlayFill:t}),ot()}}function Ll(t,e,n){const r=t.slice();return r[23]=e[n],r[25]=n,r}function zl(t){let e,n,r=t[15],i=[];for(let e=0;e<r.length;e+=1)i[e]=Fl(Ll(t,r,e));return{c(){e=N("g");for(let t=0;t<i.length;t+=1)i[t].c();L(e,"class","axis y-axis"),L(e,"transform",n="translate("+-t[16].left+", 0)")},m(t,n){w(t,e,n);for(let t=0;t<i.length;t+=1)i[t].m(e,null)},p(t,o){if(258047&o){let n;for(r=t[15],n=0;n<r.length;n+=1){const a=Ll(t,r,n);i[n]?i[n].p(a,o):(i[n]=Fl(a),i[n].c(),i[n].m(e,null))}for(;n<i.length;n+=1)i[n].d(1);i.length=r.length}65536&o&&n!==(n="translate("+-t[16].left+", 0)")&&L(e,"transform",n)},d(t){t&&M(e),_(i,t)}}}function Rl(t){let e,n,r;return{c(){e=N("line"),L(e,"x2","100%"),L(e,"y1",n=t[5]+(t[13]?t[14].bandwidth()/2:0)),L(e,"y2",r=t[5]+(t[13]?t[14].bandwidth()/2:0)),L(e,"stroke",t[9]),L(e,"class","svelte-1ypvook"),I(e,"baseline",t[11])},m(t,n){w(t,e,n)},p(t,i){24608&i&&n!==(n=t[5]+(t[13]?t[14].bandwidth()/2:0))&&L(e,"y1",n),24608&i&&r!==(r=t[5]+(t[13]?t[14].bandwidth()/2:0))&&L(e,"y2",r),512&i&&L(e,"stroke",t[9]),2048&i&&I(e,"baseline",t[11])},d(t){t&&M(e)}}}function jl(t){let e,n=t[3](t[23])+"";return{c(){e=A(n)},m(t,n){w(t,e,n)},p(t,r){32776&r&&n!==(n=t[3](t[23])+"")&&z(e,n)},d(t){t&&M(e)}}}function Dl(t){let e,n,r,i=t[3](t[23])+"";return{c(){e=A(t[0]),n=A(i),r=A(t[1])},m(t,i){w(t,e,i),w(t,n,i),w(t,r,i)},p(t,o){1&o&&z(e,t[0]),32776&o&&i!==(i=t[3](t[23])+"")&&z(n,i),2&o&&z(r,t[1])},d(t){t&&M(e),t&&M(n),t&&M(r)}}}function Fl(t){let e,n,r,i,o,a,s,l,c=!1!==t[2]&&Rl(t);function u(t,e){return t[25]==t[15].length-1?Dl:jl}let h=u(t),d=h(t);return{c(){e=N("g"),c&&c.c(),n=N("text"),d.c(),L(n,"x",r=t[4]-10),L(n,"y",i=t[5]+(t[13]?t[14].bandwidth()/2:0)-3),L(n,"dx",o=t[13]?3:t[6]),L(n,"dy",a=t[13]?4:t[7]),L(n,"fill",t[10]),j(n,"text-anchor",t[13]?"end":t[8]),L(e,"class",s="tick tick-"+t[23]+" svelte-1ypvook"),L(e,"transform",l="translate("+(t[17][0]+(t[13]?t[16].left:0))+", "+t[14](t[23])+")")},m(t,r){w(t,e,r),c&&c.m(e,null),k(e,n),d.m(n,null)},p(t,f){!1!==t[2]?c?c.p(t,f):(c=Rl(t),c.c(),c.m(e,n)):c&&(c.d(1),c=null),h===(h=u(t))&&d?d.p(t,f):(d.d(1),d=h(t),d&&(d.c(),d.m(n,null))),16&f&&r!==(r=t[4]-10)&&L(n,"x",r),24608&f&&i!==(i=t[5]+(t[13]?t[14].bandwidth()/2:0)-3)&&L(n,"y",i),8256&f&&o!==(o=t[13]?3:t[6])&&L(n,"dx",o),8320&f&&a!==(a=t[13]?4:t[7])&&L(n,"dy",a),1024&f&&L(n,"fill",t[10]),8448&f&&j(n,"text-anchor",t[13]?"end":t[8]),32768&f&&s!==(s="tick tick-"+t[23]+" svelte-1ypvook")&&L(e,"class",s),253952&f&&l!==(l="translate("+(t[17][0]+(t[13]?t[16].left:0))+", "+t[14](t[23])+")")&&L(e,"transform",l)},d(t){t&&M(e),c&&c.d(),d.d()}}}function Pl(e){let n,r=0==e[12]&&zl(e);return{c(){r&&r.c(),n=S()},m(t,e){r&&r.m(t,e),w(t,n,e)},p(t,[e]){0==t[12]?r?r.p(t,e):(r=zl(t),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},i:t,o:t,d(t){r&&r.d(t),t&&M(n)}}}function Il(t,e,n){let r,i,o,a,s;const{padding:l,xRange:c,xScale:u,yScale:d}=G("LayerCake");h(t,l,(t=>n(16,a=t))),h(t,c,(t=>n(17,s=t))),h(t,d,(t=>n(14,o=t)));let{ticks:f=4}=e,{prefix:g=""}=e,{suffix:p=""}=e,{gridlines:m=!1}=e,{formatTick:y=(t=>t)}=e,{xTick:x=0}=e,{yTick:$=0}=e,{dxTick:v=0}=e,{dyTick:b=-4}=e,{textAnchor:k="start"}=e,{lineColor:w="#aaa"}=e,{textColor:M="#666"}=e,{solid:_=!1}=e,{nu:T}=e;return t.$$set=t=>{"ticks"in t&&n(21,f=t.ticks),"prefix"in t&&n(0,g=t.prefix),"suffix"in t&&n(1,p=t.suffix),"gridlines"in t&&n(2,m=t.gridlines),"formatTick"in t&&n(3,y=t.formatTick),"xTick"in t&&n(4,x=t.xTick),"yTick"in t&&n(5,$=t.yTick),"dxTick"in t&&n(6,v=t.dxTick),"dyTick"in t&&n(7,b=t.dyTick),"textAnchor"in t&&n(8,k=t.textAnchor),"lineColor"in t&&n(9,w=t.lineColor),"textColor"in t&&n(10,M=t.textColor),"solid"in t&&n(11,_=t.solid),"nu"in t&&n(12,T=t.nu)},t.$$.update=()=>{16384&t.$$.dirty&&n(13,r="function"==typeof o.bandwidth),2121728&t.$$.dirty&&n(15,i=Array.isArray(f)?f:r?o.domain():o.ticks(f))},[g,p,m,y,x,$,v,b,k,w,M,_,T,r,o,i,a,s,l,c,d,f]}class Kl extends Mt{constructor(t){super(),wt(this,t,Il,Pl,s,{ticks:21,prefix:0,suffix:1,gridlines:2,formatTick:3,xTick:4,yTick:5,dxTick:6,dyTick:7,textAnchor:8,lineColor:9,textColor:10,solid:11,nu:12})}}function Ol(t){let e;return{c(){e=N("line"),L(e,"class","baseline svelte-ej8ad5"),L(e,"y1",t[9]),L(e,"y2","0"),L(e,"x1","0"),L(e,"x2","0"),L(e,"stroke",t[5])},m(t,n){w(t,e,n)},p(t,n){512&n&&L(e,"y1",t[9]),32&n&&L(e,"stroke",t[5])},d(t){t&&M(e)}}}function ql(e){let n,r,i,o,a,s,l,c,u,h,d=!0===e[0]&&Ol(e);return{c(){n=N("g"),r=N("g"),i=N("line"),s=N("text"),l=A("15%\n\t"),d&&d.c(),L(i,"y1",o=-1*e[9]),L(i,"y2",a=-1*e[9]+e[9]),L(i,"x1","0"),L(i,"x2","0"),L(i,"stroke",e[5]),L(i,"class","svelte-ej8ad5"),I(i,"baseline",e[6]),L(s,"x",c=e[1]||e[7]?e[8].bandwidth()/2:0),L(s,"y",e[2]),L(s,"dx",u="start"==e[12](15)?e[3]-2:"end"==e[12](15)?e[3]+2:e[3]),L(s,"dy",e[4]),L(s,"text-anchor",e[12](15)),L(s,"fill",e[5]),L(r,"class","tick svelte-ej8ad5"),L(r,"transform",h="translate("+e[8](15)+","+e[9]+")"),L(n,"class","axis x-axis")},m(t,e){w(t,n,e),k(n,r),k(r,i),k(r,s),k(s,l),d&&d.m(n,null)},p(t,[e]){512&e&&o!==(o=-1*t[9])&&L(i,"y1",o),512&e&&a!==(a=-1*t[9]+t[9])&&L(i,"y2",a),32&e&&L(i,"stroke",t[5]),64&e&&I(i,"baseline",t[6]),386&e&&c!==(c=t[1]||t[7]?t[8].bandwidth()/2:0)&&L(s,"x",c),4&e&&L(s,"y",t[2]),8&e&&u!==(u="start"==t[12](15)?t[3]-2:"end"==t[12](15)?t[3]+2:t[3])&&L(s,"dx",u),16&e&&L(s,"dy",t[4]),32&e&&L(s,"fill",t[5]),768&e&&h!==(h="translate("+t[8](15)+","+t[9]+")")&&L(r,"transform",h),!0===t[0]?d?d.p(t,e):(d=Ol(t),d.c(),d.m(n,null)):d&&(d.d(1),d=null)},i:t,o:t,d(t){t&&M(n),d&&d.d()}}}function Wl(t,e,n){let r,i,o,a;const{data:s,width:l,height:c,xScale:u,yScale:d,yRange:f}=G("LayerCake");h(t,c,(t=>n(9,a=t))),h(t,u,(t=>n(8,o=t)));let{gridlines:g=!0}=e,{formatTick:p=(t=>t)}=e,{baseline:m=!1}=e,{flipped:y=!1}=e,{snapTicks:x=!1}=e,{ticks:$}=e,{prefix:v=""}=e,{suffix:b=""}=e,{xTick:k}=e,{yTick:w=15}=e,{dxTick:M=0}=e,{dyTick:_=0}=e,{lineColor:T="#aaa"}=e,{textColor:N="#666"}=e,{solid:A=!1}=e;return t.$$set=t=>{"gridlines"in t&&n(13,g=t.gridlines),"formatTick"in t&&n(14,p=t.formatTick),"baseline"in t&&n(0,m=t.baseline),"flipped"in t&&n(15,y=t.flipped),"snapTicks"in t&&n(16,x=t.snapTicks),"ticks"in t&&n(17,$=t.ticks),"prefix"in t&&n(18,v=t.prefix),"suffix"in t&&n(19,b=t.suffix),"xTick"in t&&n(1,k=t.xTick),"yTick"in t&&n(2,w=t.yTick),"dxTick"in t&&n(3,M=t.dxTick),"dyTick"in t&&n(4,_=t.dyTick),"lineColor"in t&&n(5,T=t.lineColor),"textColor"in t&&n(20,N=t.textColor),"solid"in t&&n(6,A=t.solid)},t.$$.update=()=>{256&t.$$.dirty&&n(7,r="function"==typeof o.bandwidth),131456&t.$$.dirty&&(i=Array.isArray($)?$:r?o.domain():o.ticks($))},[m,k,w,M,_,T,A,r,o,a,c,u,function(t){if(!0===x){if(0===t)return"start";if(t===i.length-1)return"end"}return"middle"},g,p,y,x,$,v,b,N]}class Hl extends Mt{constructor(t){super(),wt(this,t,Wl,ql,s,{gridlines:13,formatTick:14,baseline:0,flipped:15,snapTicks:16,ticks:17,prefix:18,suffix:19,xTick:1,yTick:2,dxTick:3,dyTick:4,lineColor:5,textColor:20,solid:6})}}function Ul(e){let n,r,i,o,a,s=e[0][e[1]]+"";return{c(){n=N("rect"),r=C(),i=N("foreignObject"),o=T("div"),a=A(s),L(n,"x","0"),L(n,"y","0"),L(n,"width","140"),L(n,"height","20"),L(n,"fill","none"),j(o,"position","absolute"),j(o,"bottom","0"),L(o,"class","svelte-16861pb"),L(i,"x","5"),L(i,"y","-50"),L(i,"width","100"),L(i,"height","40")},m(t,e){w(t,n,e),w(t,r,e),w(t,i,e),k(i,o),k(o,a)},p(t,[e]){3&e&&s!==(s=t[0][t[1]]+"")&&z(a,s)},i:t,o:t,d(t){t&&M(n),t&&M(r),t&&M(i)}}}function Bl(t,e,n){let{labels:r}=e,{nu:i}=e;return G("LayerCake"),r[i].split(" "),t.$$set=t=>{"labels"in t&&n(0,r=t.labels),"nu"in t&&n(1,i=t.nu)},[r,i]}class Gl extends Mt{constructor(t){super(),wt(this,t,Bl,Ul,s,{labels:0,nu:1})}}function Jl(t){let e,n=t[0].detail.data&&Vl(t);return{c(){n&&n.c(),e=S()},m(t,r){n&&n.m(t,r),w(t,e,r)},p(t,r){t[0].detail.data?n?n.p(t,r):(n=Vl(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&M(e)}}}function Vl(t){let e,n,r,i,o,a,s,l=Math.round(10*t[0].detail.data.y)/10+"% aged "+t[0].detail.data.x+" in "+t[0].detail.data.g;return{c(){e=N("g"),n=N("rect"),i=N("text"),o=A(l),L(n,"fill","rgba(255,255,255,0.9)"),L(n,"x",-20),L(n,"y",r=t[1](t[0].detail.data)+(2021==t[0].detail.data.g?10:0)-10),L(n,"transform","translate(5,-25)"),L(n,"width","170"),L(n,"height","25"),L(n,"rx","15"),L(i,"class","label-bold svelte-gjdahk"),L(i,"transform","translate(0,-7)"),L(i,"fill","#333"),L(i,"x",a=10),L(i,"y",s=t[1](t[0].detail.data)+(2021==t[0].detail.data.g?10:0)-10),L(e,"class","label-group")},m(t,r){w(t,e,r),k(e,n),k(e,i),k(i,o)},p(t,e){3&e&&r!==(r=t[1](t[0].detail.data)+(2021==t[0].detail.data.g?10:0)-10)&&L(n,"y",r),1&e&&l!==(l=Math.round(10*t[0].detail.data.y)/10+"% aged "+t[0].detail.data.x+" in "+t[0].detail.data.g)&&z(o,l),3&e&&s!==(s=t[1](t[0].detail.data)+(2021==t[0].detail.data.g?10:0)-10)&&L(i,"y",s)},d(t){t&&M(e)}}}function Yl(e){let n,r=e[0].detail&&Jl(e);return{c(){r&&r.c(),n=S()},m(t,e){r&&r.m(t,e),w(t,n,e)},p(t,[e]){t[0].detail?r?r.p(t,e):(r=Jl(t),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},i:t,o:t,d(t){r&&r.d(t),t&&M(n)}}}function Zl(t,e,n){let r;const{data:i,xScale:o,yScale:a,xDomain:s,y:l,xGet:c,yGet:u,Domain:d,custom:f}=G("LayerCake");h(t,u,(t=>n(1,r=t)));let{hovered:g=null}=e,{ageLabel:p=null}=e;return t.$$set=t=>{"hovered"in t&&n(3,g=t.hovered),"ageLabel"in t&&n(0,p=t.ageLabel)},[p,r,u,g]}class Xl extends Mt{constructor(t){super(),wt(this,t,Zl,Yl,s,{hovered:3,ageLabel:0})}}function Ql(t,e,n){const r=t.slice();return r[16]=e[n],r[18]=n,r}function tc(t,e,n){const r=t.slice();return r[19]=e[n],r[21]=n,r}function ec(t){let e,n,r,i,a,s,l,c,u;function h(...e){return t[13](t[19],...e)}return{c(){e=N("rect"),L(e,"class","group-rect"),L(e,"data-id",t[21]),L(e,"x",n=t[2].range()[0]),L(e,"y",r=t[18]%2==0?t[3](t[19]):t[3](t[19])+12),L(e,"rx",5),L(e,"height",i=t[4].bandwidth()/2.3),L(e,"width",a=t[5](t[19])),L(e,"fill",t[18]%2==0?"#DF0667":"#3C388E"),L(e,"stroke",s=t[19]==t[0]?"orange":"white"),L(e,"stroke-width",l=t[19]==t[0]?"3":"2")},m(n,r){w(n,e,r),c||(u=[E(e,"mouseover",h),E(e,"mouseleave",t[14])],c=!0)},p(o,c){t=o,4&c&&n!==(n=t[2].range()[0])&&L(e,"x",n),10&c&&r!==(r=t[18]%2==0?t[3](t[19]):t[3](t[19])+12)&&L(e,"y",r),16&c&&i!==(i=t[4].bandwidth()/2.3)&&L(e,"height",i),34&c&&a!==(a=t[5](t[19]))&&L(e,"width",a),3&c&&s!==(s=t[19]==t[0]?"orange":"white")&&L(e,"stroke",s),3&c&&l!==(l=t[19]==t[0]?"3":"2")&&L(e,"stroke-width",l)},d(t){t&&M(e),c=!1,o(u)}}}function nc(t){let e,n=t[16],r=[];for(let e=0;e<n.length;e+=1)r[e]=ec(tc(t,n,e));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=S()},m(t,n){for(let e=0;e<r.length;e+=1)r[e].m(t,n);w(t,e,n)},p(t,i){if(2111&i){let o;for(n=t[16],o=0;o<n.length;o+=1){const a=tc(t,n,o);r[o]?r[o].p(a,i):(r[o]=ec(a),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(t){_(r,t),t&&M(e)}}}function rc(e){let n,r=e[1],i=[];for(let t=0;t<r.length;t+=1)i[t]=nc(Ql(e,r,t));return{c(){n=N("g");for(let t=0;t<i.length;t+=1)i[t].c();L(n,"class","bar-group")},m(t,e){w(t,n,e);for(let t=0;t<i.length;t+=1)i[t].m(n,null)},p(t,[e]){if(2111&e){let o;for(r=t[1],o=0;o<r.length;o+=1){const a=Ql(t,r,o);i[o]?i[o].p(a,e):(i[o]=nc(a),i[o].c(),i[o].m(n,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=r.length}},i:t,o:t,d(t){t&&M(n),_(i,t)}}}function ic(t,e,n){let r,i,o,a,s;const{data:l,xGet:c,yGet:u,xScale:d,yScale:f}=G("LayerCake");h(t,l,(t=>n(1,r=t))),h(t,c,(t=>n(5,s=t))),h(t,u,(t=>n(3,o=t))),h(t,d,(t=>n(2,i=t))),h(t,f,(t=>n(4,a=t)));const g=U();let p,{hovered:m=null}=e;function y(t,e){n(0,p=e),g("hover",{data:e,event:t})}return t.$$set=t=>{"hovered"in t&&n(12,m=t.hovered)},[p,r,i,o,a,s,l,c,u,d,f,y,m,(t,e)=>y(e,t),t=>y(t,null)]}class oc extends Mt{constructor(t){super(),wt(this,t,ic,rc,s,{hovered:12})}}function ac(t){let e,n,r,i,o,a,s,l,c,u;return e=new Gl({props:{labels:t[1],nu:t[2]}}),r=new Kl({props:{nu:t[2]}}),o=new Hl({}),s=new oc({}),s.$on("hover",t[5]),c=new Xl({props:{hovered:t[3],ageLabel:t[4]}}),{c(){$t(e.$$.fragment),n=C(),$t(r.$$.fragment),i=C(),$t(o.$$.fragment),a=C(),$t(s.$$.fragment),l=C(),$t(c.$$.fragment)},m(t,h){vt(e,t,h),w(t,n,h),vt(r,t,h),w(t,i,h),vt(o,t,h),w(t,a,h),vt(s,t,h),w(t,l,h),vt(c,t,h),u=!0},p(t,n){const i={};2&n&&(i.labels=t[1]),4&n&&(i.nu=t[2]),e.$set(i);const o={};4&n&&(o.nu=t[2]),r.$set(o);const a={};8&n&&(a.hovered=t[3]),16&n&&(a.ageLabel=t[4]),c.$set(a)},i(t){u||(ht(e.$$.fragment,t),ht(r.$$.fragment,t),ht(o.$$.fragment,t),ht(s.$$.fragment,t),ht(c.$$.fragment,t),u=!0)},o(t){dt(e.$$.fragment,t),dt(r.$$.fragment,t),dt(o.$$.fragment,t),dt(s.$$.fragment,t),dt(c.$$.fragment,t),u=!1},d(t){bt(e,t),t&&M(n),bt(r,t),t&&M(i),bt(o,t),t&&M(a),bt(s,t),t&&M(l),bt(c,t)}}}function sc(t){let e,n;return e=new Fi({props:{$$slots:{default:[ac]},$$scope:{ctx:t}}}),{c(){$t(e.$$.fragment)},m(t,r){vt(e,t,r),n=!0},p(t,n){const r={};1054&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){dt(e.$$.fragment,t),n=!1},d(t){bt(e,t)}}}function lc(t){let e,n;return e=new _i({props:{ssr:!0,padding:{top:40,right:6,bottom:2,left:60},x:"y",y:"x",data:t[0],xScale:xa(),yScale:Qi().paddingInner([.05]).round(!0),xDomain:[0,15],yDomain:["0-9","10-19","20-29","30-39","40-49","50-59","60-69","70-79","80plus"].reverse(),height:300,$$slots:{default:[sc]},$$scope:{ctx:t}}}),{c(){$t(e.$$.fragment)},m(t,r){vt(e,t,r),n=!0},p(t,[n]){const r={};1&n&&(r.data=t[0]),1054&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){dt(e.$$.fragment,t),n=!1},d(t){bt(e,t)}}}function cc(t,e,n){let{data:r}=e,{labels:i}=e,{nu:o}=e,{fullExtents:a}=e,{scale:s}=e,{extentGetters:l}=e,c=null,u=!0;return An(r,l),t.$$set=t=>{"data"in t&&n(0,r=t.data),"labels"in t&&n(1,i=t.labels),"nu"in t&&n(2,o=t.nu),"fullExtents"in t&&n(6,a=t.fullExtents),"scale"in t&&n(7,s=t.scale),"extentGetters"in t&&n(8,l=t.extentGetters)},[r,i,o,c,u,function(t){n(3,c=t.detail.id),n(4,u=t)},a,s,l]}class uc extends Mt{constructor(t){super(),wt(this,t,cc,lc,s,{data:0,labels:1,nu:2,fullExtents:6,scale:7,extentGetters:8})}}function hc(t,e,n){const r=t.slice();return r[8]=e[n],r[10]=n,r}function dc(t){let e,n,r,i,o,a=t[8]+"";return{c(){e=T("li"),n=T("div"),r=C(),i=A(a),o=C(),L(n,"class","bullet svelte-o1q0c0"),j(n,"background-color",t[1][t[10]]),j(n,"width",(!t[4]&&(t[2]||t[3]&&0!=t[10])?t[5]:t[6])+"px"),j(n,"height",(t[4]&&(t[2]||t[3]&&0!=t[10])?t[5]:t[6])+"px"),I(n,"round",t[7]),L(e,"class","svelte-o1q0c0")},m(t,a){w(t,e,a),k(e,n),k(e,r),k(e,i),k(e,o)},p(t,e){2&e&&j(n,"background-color",t[1][t[10]]),124&e&&j(n,"width",(!t[4]&&(t[2]||t[3]&&0!=t[10])?t[5]:t[6])+"px"),124&e&&j(n,"height",(t[4]&&(t[2]||t[3]&&0!=t[10])?t[5]:t[6])+"px"),128&e&&I(n,"round",t[7]),1&e&&a!==(a=t[8]+"")&&z(i,a)},d(t){t&&M(e)}}}function fc(e){let n,r=e[0],i=[];for(let t=0;t<r.length;t+=1)i[t]=dc(hc(e,r,t));return{c(){n=T("ul");for(let t=0;t<i.length;t+=1)i[t].c();L(n,"class","legend svelte-o1q0c0")},m(t,e){w(t,n,e);for(let t=0;t<i.length;t+=1)i[t].m(n,null)},p(t,[e]){if(255&e){let o;for(r=t[0],o=0;o<r.length;o+=1){const a=hc(t,r,o);i[o]?i[o].p(a,e):(i[o]=dc(a),i[o].c(),i[o].m(n,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=r.length}},i:t,o:t,d(t){t&&M(n),_(i,t)}}}function gc(t,e,n){let{domain:r=null}=e,{colors:i=null}=e,{line:o=!1}=e,{comparison:a=!1}=e,{horizontal:s=!0}=e,{markerWidth:l=2.5}=e,{markerLength:c=13}=e,{round:u=!1}=e;return t.$$set=t=>{"domain"in t&&n(0,r=t.domain),"colors"in t&&n(1,i=t.colors),"line"in t&&n(2,o=t.line),"comparison"in t&&n(3,a=t.comparison),"horizontal"in t&&n(4,s=t.horizontal),"markerWidth"in t&&n(5,l=t.markerWidth),"markerLength"in t&&n(6,c=t.markerLength),"round"in t&&n(7,u=t.round)},[r,i,o,a,s,l,c,u]}class pc extends Mt{constructor(t){super(),wt(this,t,gc,fc,s,{domain:0,colors:1,line:2,comparison:3,horizontal:4,markerWidth:5,markerLength:6,round:7})}}function mc(t,e,n){const r=t.slice();return r[4]=e[n],r[6]=n,r}function yc(t){let e,n,r,i;return n=new uc({props:{data:t[4],fullExtents:t[3],scale:$c,extentGetters:t[2],nu:t[6],labels:t[1]}}),{c(){e=T("div"),$t(n.$$.fragment),r=C(),L(e,"class","chart-container svelte-5oxew")},m(t,o){w(t,e,o),vt(n,e,null),k(e,r),i=!0},p(t,e){const r={};1&e&&(r.data=t[4]),2&e&&(r.labels=t[1]),n.$set(r)},i(t){i||(ht(n.$$.fragment,t),i=!0)},o(t){dt(n.$$.fragment,t),i=!1},d(t){t&&M(e),bt(n)}}}function xc(t){let e,n,r,i,o=t[0],a=[];for(let e=0;e<o.length;e+=1)a[e]=yc(mc(t,o,e));const s=t=>dt(a[t],1,1,(()=>{a[t]=null}));return r=new pc({props:{domain:[2011,2021],colors:["#DF0667","#3C388E"]}}),{c(){e=T("div");for(let t=0;t<a.length;t+=1)a[t].c();n=C(),$t(r.$$.fragment),L(e,"class","group-container svelte-5oxew")},m(t,o){w(t,e,o);for(let t=0;t<a.length;t+=1)a[t].m(e,null);w(t,n,o),vt(r,t,o),i=!0},p(t,[n]){if(15&n){let r;for(o=t[0],r=0;r<o.length;r+=1){const i=mc(t,o,r);a[r]?(a[r].p(i,n),ht(a[r],1)):(a[r]=yc(i),a[r].c(),ht(a[r],1),a[r].m(e,null))}for(ct(),r=o.length;r<a.length;r+=1)s(r);ut()}},i(t){if(!i){for(let t=0;t<o.length;t+=1)ht(a[t]);ht(r.$$.fragment,t),i=!0}},o(t){a=a.filter(Boolean);for(let t=0;t<a.length;t+=1)dt(a[t]);dt(r.$$.fragment,t),i=!1},d(t){t&&M(e),_(a,t),t&&M(n),bt(r,t)}}}let $c="individual";function vc(t,e,n){let{chartData:r}=e,{labels:i}=e;const o={x:t=>t.x,y:t=>t.y},a=An(function(t){if(Array.isArray(t)&&Array.isArray(t[0])){let e=[];const n=t.length;for(let r=0;r<n;r+=1)e=e.concat(t[r]);return e}return t}(r),o);return r.sort(((t,e)=>e[e.length-1].y-t[t.length-1].y)),t.$$set=t=>{"chartData"in t&&n(0,r=t.chartData),"labels"in t&&n(1,i=t.labels)},[r,i,o,a]}class bc extends Mt{constructor(t){super(),wt(this,t,vc,xc,s,{chartData:0,labels:1})}}function kc(t,e,n){const r=t.slice();return r[14]=e[n],r}function wc(t,e,n){const r=t.slice();return r[17]=e[n],r[19]=n,r}function Mc(t){let e,n,r,i;return{c(){e=N("circle"),L(e,"cx",n=t[17]),L(e,"cy",r=t[4](t[14])+t[1]),L(e,"r",t[0]),L(e,"fill",i=t[5](t[6].x[t[19]])),L(e,"class","svelte-1mc14eq")},m(t,n){w(t,e,n)},p(t,o){12&o&&n!==(n=t[17])&&L(e,"cx",n),22&o&&r!==(r=t[4](t[14])+t[1])&&L(e,"cy",r),1&o&&L(e,"r",t[0]),96&o&&i!==(i=t[5](t[6].x[t[19]]))&&L(e,"fill",i)},d(t){t&&M(e)}}}function _c(t){let e,n,r,i,o,a,s,l,c,u,h,d,f,g,p=t[3](t[14]),m=[];for(let e=0;e<p.length;e+=1)m[e]=Mc(wc(t,p,e));return{c(){e=N("g"),n=N("defs"),r=N("linearGradient"),i=N("stop"),o=N("stop"),a=N("defs"),s=N("linearGradient"),l=N("stop"),c=N("stop"),u=N("rect");for(let t=0;t<m.length;t+=1)m[t].c();L(i,"offset","5%"),L(i,"stop-color","#3C388E10"),L(o,"offset","95%"),L(o,"stop-color","#3C388E80"),L(r,"id","myGradient"),L(r,"gradientTransform","rotate(0)"),L(l,"offset","5%"),L(l,"stop-color","#3C388E80"),L(c,"offset","95%"),L(c,"stop-color","#3C388E10"),L(s,"id","myGradientRev"),L(s,"gradientTransform","rotate(0)"),L(u,"x",h=Math.min(...t[3](t[14]))),L(u,"y",d=t[4](t[14])+t[1]-7),L(u,"width",f=Math.max(...t[3](t[14]))-Math.min(...t[3](t[14]))),L(u,"height","14"),L(u,"fill",g=t[14][2021]-t[14][2011]>0?"url('#myGradient')":"url('#myGradientRev')"),L(u,"opacity","0.85"),L(e,"class","dot-row")},m(t,h){w(t,e,h),k(e,n),k(n,r),k(r,i),k(r,o),k(e,a),k(a,s),k(s,l),k(s,c),k(e,u);for(let t=0;t<m.length;t+=1)m[t].m(e,null)},p(t,n){if(12&n&&h!==(h=Math.min(...t[3](t[14])))&&L(u,"x",h),22&n&&d!==(d=t[4](t[14])+t[1]-7)&&L(u,"y",d),12&n&&f!==(f=Math.max(...t[3](t[14]))-Math.min(...t[3](t[14])))&&L(u,"width",f),4&n&&g!==(g=t[14][2021]-t[14][2011]>0?"url('#myGradient')":"url('#myGradientRev')")&&L(u,"fill",g),127&n){let r;for(p=t[3](t[14]),r=0;r<p.length;r+=1){const i=wc(t,p,r);m[r]?m[r].p(i,n):(m[r]=Mc(i),m[r].c(),m[r].m(e,null))}for(;r<m.length;r+=1)m[r].d(1);m.length=p.length}},d(t){t&&M(e),_(m,t)}}}function Tc(e){let n,r=e[2],i=[];for(let t=0;t<r.length;t+=1)i[t]=_c(kc(e,r,t));return{c(){n=N("g");for(let t=0;t<i.length;t+=1)i[t].c();L(n,"class","dot-plot")},m(t,e){w(t,n,e);for(let t=0;t<i.length;t+=1)i[t].m(n,null)},p(t,[e]){if(127&e){let o;for(r=t[2],o=0;o<r.length;o+=1){const a=kc(t,r,o);i[o]?i[o].p(a,e):(i[o]=_c(a),i[o].c(),i[o].m(n,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=r.length}},i:t,o:t,d(t){t&&M(n),_(i,t)}}}function Nc(t,e,n){let r,i,o,a,s,l,c;const{data:u,xGet:d,yGet:f,yScale:g,zScale:p,config:m}=G("LayerCake");h(t,u,(t=>n(2,o=t))),h(t,d,(t=>n(3,a=t))),h(t,f,(t=>n(4,s=t))),h(t,g,(t=>n(13,i=t))),h(t,p,(t=>n(5,l=t))),h(t,m,(t=>n(6,c=t)));let{r:y=7}=e;return t.$$set=t=>{"r"in t&&n(0,y=t.r)},t.$$.update=()=>{8192&t.$$.dirty&&n(1,r=i.bandwidth()/2)},[y,r,o,a,s,l,c,u,d,f,g,p,m,i]}class Ac extends Mt{constructor(t){super(),wt(this,t,Nc,Tc,s,{r:0})}}function Cc(t,e,n){const r=t.slice();return r[11]=e[n],r}function Sc(t,e,n){const r=t.slice();return r[14]=e[n],r[16]=n,r}function Ec(t){let e,n,r,i=0==t[16]?"least deprived":1==t[16]?"most deprived":"average";return{c(){e=T("div"),n=A(i),L(e,"class",r="label "+(2==t[16]?"below":"above")+" svelte-1cj7kw2"),j(e,"top",t[3](t[11])+t[0]+"px"),j(e,"left",t[14]+"px")},m(t,r){w(t,e,r),k(e,n)},p(t,n){11&n&&j(e,"top",t[3](t[11])+t[0]+"px"),6&n&&j(e,"left",t[14]+"px")},d(t){t&&M(e)}}}function Lc(t){let e,n=t[2](t[11]),r=[];for(let e=0;e<n.length;e+=1)r[e]=Ec(Sc(t,n,e));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=S()},m(t,n){for(let e=0;e<r.length;e+=1)r[e].m(t,n);w(t,e,n)},p(t,i){if(15&i){let o;for(n=t[2](t[11]),o=0;o<n.length;o+=1){const a=Sc(t,n,o);r[o]?r[o].p(a,i):(r[o]=Ec(a),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(t){_(r,t),t&&M(e)}}}function zc(e){let n,r=e[1],i=[];for(let t=0;t<r.length;t+=1)i[t]=Lc(Cc(e,r,t));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();n=S()},m(t,e){for(let n=0;n<i.length;n+=1)i[n].m(t,e);w(t,n,e)},p(t,[e]){if(15&e){let o;for(r=t[1],o=0;o<r.length;o+=1){const a=Cc(t,r,o);i[o]?i[o].p(a,e):(i[o]=Lc(a),i[o].c(),i[o].m(n.parentNode,n))}for(;o<i.length;o+=1)i[o].d(1);i.length=r.length}},i:t,o:t,d(t){_(i,t),t&&M(n)}}}function Rc(t,e,n){let r,i,o,a,s;const{data:l,xGet:c,yGet:u,yScale:d,zScale:f,config:g}=G("LayerCake");return h(t,l,(t=>n(1,o=t))),h(t,c,(t=>n(2,a=t))),h(t,u,(t=>n(3,s=t))),h(t,d,(t=>n(8,i=t))),t.$$.update=()=>{256&t.$$.dirty&&n(0,r=i.bandwidth()/2)},[r,o,a,s,l,c,u,d,i]}class jc extends Mt{constructor(t){super(),wt(this,t,Rc,zc,s,{})}}function Dc(t,e,n){const r=t.slice();return r[27]=e[n],r[29]=n,r}function Fc(t){let e,n;return{c(){e=N("line"),L(e,"y1",n=-1*t[17]),L(e,"y2",t[9]),L(e,"x1","0"),L(e,"x2","0"),L(e,"stroke",t[10]),L(e,"class","svelte-1u7vzrc"),I(e,"baseline",t[12])},m(t,n){w(t,e,n)},p(t,r){131072&r&&n!==(n=-1*t[17])&&L(e,"y1",n),512&r&&L(e,"y2",t[9]),1024&r&&L(e,"stroke",t[10]),4096&r&&I(e,"baseline",t[12])},d(t){t&&M(e)}}}function Pc(t){let e,n=t[1](t[27])+"";return{c(){e=A(n)},m(t,n){w(t,e,n)},p(t,r){32770&r&&n!==(n=t[1](t[27])+"")&&z(e,n)},d(t){t&&M(e)}}}function Ic(t){let e,n,r,i=t[1](t[27])+"";return{c(){e=A(t[4]),n=A(i),r=A(t[5])},m(t,i){w(t,e,i),w(t,n,i),w(t,r,i)},p(t,o){16&o&&z(e,t[4]),32770&o&&i!==(i=t[1](t[27])+"")&&z(n,i),32&o&&z(r,t[5])},d(t){t&&M(e),t&&M(n),t&&M(r)}}}function Kc(t){let e,n,r,i,o,a,s,l,c=!1!==t[0]&&Fc(t);function u(t,e){return t[29]==t[15].length-1?Ic:Pc}let h=u(t),d=h(t);return{c(){e=N("g"),c&&c.c(),n=N("text"),d.c(),L(n,"x",r=t[6]||t[13]?t[14].bandwidth()/2:0),L(n,"y",i=t[3]?-1*t[17]-6:t[7]),L(n,"dx",o="start"==t[21](t[29])?t[8]-2:"end"==t[21](t[29])?t[8]+2:t[8]),L(n,"dy",t[9]),L(n,"text-anchor",a=t[21](t[29])),L(n,"fill",t[11]),L(e,"class",s="tick tick-"+t[27]+" svelte-1u7vzrc"),L(e,"transform",l="translate("+t[14](t[27])+","+t[16][0]+")")},m(t,r){w(t,e,r),c&&c.m(e,null),k(e,n),d.m(n,null)},p(t,a){!1!==t[0]?c?c.p(t,a):(c=Fc(t),c.c(),c.m(e,n)):c&&(c.d(1),c=null),h===(h=u(t))&&d?d.p(t,a):(d.d(1),d=h(t),d&&(d.c(),d.m(n,null))),24640&a&&r!==(r=t[6]||t[13]?t[14].bandwidth()/2:0)&&L(n,"x",r),131208&a&&i!==(i=t[3]?-1*t[17]-6:t[7])&&L(n,"y",i),256&a&&o!==(o="start"==t[21](t[29])?t[8]-2:"end"==t[21](t[29])?t[8]+2:t[8])&&L(n,"dx",o),512&a&&L(n,"dy",t[9]),2048&a&&L(n,"fill",t[11]),32768&a&&s!==(s="tick tick-"+t[27]+" svelte-1u7vzrc")&&L(e,"class",s),114688&a&&l!==(l="translate("+t[14](t[27])+","+t[16][0]+")")&&L(e,"transform",l)},d(t){t&&M(e),c&&c.d(),d.d()}}}function Oc(t){let e;return{c(){e=N("line"),L(e,"class","baseline svelte-1u7vzrc"),L(e,"y1",t[17]),L(e,"y2","0"),L(e,"x1","0"),L(e,"x2","0"),L(e,"stroke",t[10])},m(t,n){w(t,e,n)},p(t,n){131072&n&&L(e,"y1",t[17]),1024&n&&L(e,"stroke",t[10])},d(t){t&&M(e)}}}function qc(e){let n,r,i=e[15],o=[];for(let t=0;t<i.length;t+=1)o[t]=Kc(Dc(e,i,t));let a=!0===e[2]&&Oc(e);return{c(){n=N("g");for(let t=0;t<o.length;t+=1)o[t].c();r=S(),a&&a.c(),L(n,"class","axis x-axis")},m(t,e){w(t,n,e);for(let t=0;t<o.length;t+=1)o[t].m(n,null);k(n,r),a&&a.m(n,null)},p(t,[e]){if(2359291&e){let a;for(i=t[15],a=0;a<i.length;a+=1){const s=Dc(t,i,a);o[a]?o[a].p(s,e):(o[a]=Kc(s),o[a].c(),o[a].m(n,r))}for(;a<o.length;a+=1)o[a].d(1);o.length=i.length}!0===t[2]?a?a.p(t,e):(a=Oc(t),a.c(),a.m(n,null)):a&&(a.d(1),a=null)},i:t,o:t,d(t){t&&M(n),_(o,t),a&&a.d()}}}function Wc(t,e,n){let r,i,o,a,s;const{data:l,width:c,height:u,xScale:d,yScale:f,yRange:g}=G("LayerCake");h(t,u,(t=>n(17,s=t))),h(t,d,(t=>n(14,o=t))),h(t,g,(t=>n(16,a=t)));let{gridlines:p=!0}=e,{formatTick:m=(t=>t)}=e,{baseline:y=!1}=e,{flipped:x=!1}=e,{snapTicks:$=!1}=e,{ticks:v}=e,{prefix:b=""}=e,{suffix:k=""}=e,{xTick:w}=e,{yTick:M=15}=e,{dxTick:_=0}=e,{dyTick:T=0}=e,{lineColor:N="#aaa"}=e,{textColor:A="#666"}=e,{solid:C=!1}=e;return t.$$set=t=>{"gridlines"in t&&n(0,p=t.gridlines),"formatTick"in t&&n(1,m=t.formatTick),"baseline"in t&&n(2,y=t.baseline),"flipped"in t&&n(3,x=t.flipped),"snapTicks"in t&&n(22,$=t.snapTicks),"ticks"in t&&n(23,v=t.ticks),"prefix"in t&&n(4,b=t.prefix),"suffix"in t&&n(5,k=t.suffix),"xTick"in t&&n(6,w=t.xTick),"yTick"in t&&n(7,M=t.yTick),"dxTick"in t&&n(8,_=t.dxTick),"dyTick"in t&&n(9,T=t.dyTick),"lineColor"in t&&n(10,N=t.lineColor),"textColor"in t&&n(11,A=t.textColor),"solid"in t&&n(12,C=t.solid)},t.$$.update=()=>{16384&t.$$.dirty&&n(13,r="function"==typeof o.bandwidth),8413184&t.$$.dirty&&n(15,i=Array.isArray(v)?v:r?o.domain():o.ticks(v))},[p,m,y,x,b,k,w,M,_,T,N,A,C,r,o,i,a,s,u,d,g,function(t){if(!0===$){if(0===t)return"start";if(t===i.length-1)return"end"}return"middle"},$,v]}class Hc extends Mt{constructor(t){super(),wt(this,t,Wc,qc,s,{gridlines:0,formatTick:1,baseline:2,flipped:3,snapTicks:22,ticks:23,prefix:4,suffix:5,xTick:6,yTick:7,dxTick:8,dyTick:9,lineColor:10,textColor:11,solid:12})}}function Uc(t,e,n){const r=t.slice();return r[22]=e[n],r[24]=n,r}function Bc(t){let e,n,r;return{c(){e=N("line"),L(e,"x2","100%"),L(e,"y1",n=t[5]+(t[12]?t[13].bandwidth()/2:0)),L(e,"y2",r=t[5]+(t[12]?t[13].bandwidth()/2:0)),L(e,"stroke",t[9]),L(e,"class","svelte-e79qfe"),I(e,"baseline",t[11])},m(t,n){w(t,e,n)},p(t,i){12320&i&&n!==(n=t[5]+(t[12]?t[13].bandwidth()/2:0))&&L(e,"y1",n),12320&i&&r!==(r=t[5]+(t[12]?t[13].bandwidth()/2:0))&&L(e,"y2",r),512&i&&L(e,"stroke",t[9]),2048&i&&I(e,"baseline",t[11])},d(t){t&&M(e)}}}function Gc(t){let e,n=t[3](t[22])+"";return{c(){e=A(n)},m(t,n){w(t,e,n)},p(t,r){16392&r&&n!==(n=t[3](t[22])+"")&&z(e,n)},d(t){t&&M(e)}}}function Jc(t){let e,n,r,i=t[3](t[22])+"";return{c(){e=A(t[0]),n=A(i),r=A(t[1])},m(t,i){w(t,e,i),w(t,n,i),w(t,r,i)},p(t,o){1&o&&z(e,t[0]),16392&o&&i!==(i=t[3](t[22])+"")&&z(n,i),2&o&&z(r,t[1])},d(t){t&&M(e),t&&M(n),t&&M(r)}}}function Vc(t){let e,n,r,i,o,a,s,l=!1!==t[2]&&Bc(t);function c(t,e){return t[24]==t[14].length-1?Jc:Gc}let u=c(t),h=u(t);return{c(){e=N("g"),l&&l.c(),n=N("text"),h.c(),L(n,"x",t[4]),L(n,"y",r=t[5]+(t[12]?t[13].bandwidth()/2:0)),L(n,"dx",i=t[12]?3:t[6]),L(n,"dy",o=t[12]?4:t[7]),L(n,"fill",t[10]),j(n,"text-anchor",t[12]?"end":t[8]),L(e,"class",a="tick tick-"+t[22]+" svelte-e79qfe"),L(e,"transform",s="translate("+(t[16][0]+(t[12]?t[15].left:0))+", "+t[13](t[22])+")")},m(t,r){w(t,e,r),l&&l.m(e,null),k(e,n),h.m(n,null)},p(t,d){!1!==t[2]?l?l.p(t,d):(l=Bc(t),l.c(),l.m(e,n)):l&&(l.d(1),l=null),u===(u=c(t))&&h?h.p(t,d):(h.d(1),h=u(t),h&&(h.c(),h.m(n,null))),16&d&&L(n,"x",t[4]),12320&d&&r!==(r=t[5]+(t[12]?t[13].bandwidth()/2:0))&&L(n,"y",r),4160&d&&i!==(i=t[12]?3:t[6])&&L(n,"dx",i),4224&d&&o!==(o=t[12]?4:t[7])&&L(n,"dy",o),1024&d&&L(n,"fill",t[10]),4352&d&&j(n,"text-anchor",t[12]?"end":t[8]),16384&d&&a!==(a="tick tick-"+t[22]+" svelte-e79qfe")&&L(e,"class",a),126976&d&&s!==(s="translate("+(t[16][0]+(t[12]?t[15].left:0))+", "+t[13](t[22])+")")&&L(e,"transform",s)},d(t){t&&M(e),l&&l.d(),h.d()}}}function Yc(e){let n,r,i=e[14],o=[];for(let t=0;t<i.length;t+=1)o[t]=Vc(Uc(e,i,t));return{c(){n=N("g");for(let t=0;t<o.length;t+=1)o[t].c();L(n,"class","axis y-axis"),L(n,"transform",r="translate("+-e[15].left+", 0)")},m(t,e){w(t,n,e);for(let t=0;t<o.length;t+=1)o[t].m(n,null)},p(t,[e]){if(131071&e){let r;for(i=t[14],r=0;r<i.length;r+=1){const a=Uc(t,i,r);o[r]?o[r].p(a,e):(o[r]=Vc(a),o[r].c(),o[r].m(n,null))}for(;r<o.length;r+=1)o[r].d(1);o.length=i.length}32768&e&&r!==(r="translate("+-t[15].left+", 0)")&&L(n,"transform",r)},i:t,o:t,d(t){t&&M(n),_(o,t)}}}function Zc(t,e,n){let r,i,o,a,s;const{padding:l,xRange:c,xScale:u,yScale:d}=G("LayerCake");h(t,l,(t=>n(15,a=t))),h(t,c,(t=>n(16,s=t))),h(t,d,(t=>n(13,o=t)));let{ticks:f=4}=e,{prefix:g=""}=e,{suffix:p=""}=e,{gridlines:m=!0}=e,{formatTick:y=(t=>t)}=e,{xTick:x=0}=e,{yTick:$=0}=e,{dxTick:v=0}=e,{dyTick:b=-4}=e,{textAnchor:k="start"}=e,{lineColor:w="#aaa"}=e,{textColor:M="#666"}=e,{solid:_=!1}=e;return t.$$set=t=>{"ticks"in t&&n(20,f=t.ticks),"prefix"in t&&n(0,g=t.prefix),"suffix"in t&&n(1,p=t.suffix),"gridlines"in t&&n(2,m=t.gridlines),"formatTick"in t&&n(3,y=t.formatTick),"xTick"in t&&n(4,x=t.xTick),"yTick"in t&&n(5,$=t.yTick),"dxTick"in t&&n(6,v=t.dxTick),"dyTick"in t&&n(7,b=t.dyTick),"textAnchor"in t&&n(8,k=t.textAnchor),"lineColor"in t&&n(9,w=t.lineColor),"textColor"in t&&n(10,M=t.textColor),"solid"in t&&n(11,_=t.solid)},t.$$.update=()=>{8192&t.$$.dirty&&n(12,r="function"==typeof o.bandwidth),1060864&t.$$.dirty&&n(14,i=Array.isArray(f)?f:r?o.domain():o.ticks(f))},[g,p,m,y,x,$,v,b,k,w,M,_,r,o,i,a,s,l,c,d,f]}class Xc extends Mt{constructor(t){super(),wt(this,t,Zc,Yc,s,{ticks:20,prefix:0,suffix:1,gridlines:2,formatTick:3,xTick:4,yTick:5,dxTick:6,dyTick:7,textAnchor:8,lineColor:9,textColor:10,solid:11})}}function Qc(t,e,n){const r=t.slice();return r[8]=e[n],r[10]=n,r}function tu(t){let e,n,r,i,o,a=t[8]+"";return{c(){e=T("li"),n=T("div"),r=C(),i=A(a),o=C(),L(n,"class","bullet svelte-o1q0c0"),j(n,"background-color",t[1][t[10]]),j(n,"width",(!t[4]&&(t[2]||t[3]&&0!=t[10])?t[5]:t[6])+"px"),j(n,"height",(t[4]&&(t[2]||t[3]&&0!=t[10])?t[5]:t[6])+"px"),I(n,"round",t[7]),L(e,"class","svelte-o1q0c0")},m(t,a){w(t,e,a),k(e,n),k(e,r),k(e,i),k(e,o)},p(t,e){2&e&&j(n,"background-color",t[1][t[10]]),124&e&&j(n,"width",(!t[4]&&(t[2]||t[3]&&0!=t[10])?t[5]:t[6])+"px"),124&e&&j(n,"height",(t[4]&&(t[2]||t[3]&&0!=t[10])?t[5]:t[6])+"px"),128&e&&I(n,"round",t[7]),1&e&&a!==(a=t[8]+"")&&z(i,a)},d(t){t&&M(e)}}}function eu(e){let n,r=e[0],i=[];for(let t=0;t<r.length;t+=1)i[t]=tu(Qc(e,r,t));return{c(){n=T("ul");for(let t=0;t<i.length;t+=1)i[t].c();L(n,"class","legend svelte-o1q0c0")},m(t,e){w(t,n,e);for(let t=0;t<i.length;t+=1)i[t].m(n,null)},p(t,[e]){if(255&e){let o;for(r=t[0],o=0;o<r.length;o+=1){const a=Qc(t,r,o);i[o]?i[o].p(a,e):(i[o]=tu(a),i[o].c(),i[o].m(n,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=r.length}},i:t,o:t,d(t){t&&M(n),_(i,t)}}}function nu(t,e,n){let{domain:r=null}=e,{colors:i=null}=e,{line:o=!1}=e,{comparison:a=!1}=e,{horizontal:s=!0}=e,{markerWidth:l=2.5}=e,{markerLength:c=13}=e,{round:u=!1}=e;return t.$$set=t=>{"domain"in t&&n(0,r=t.domain),"colors"in t&&n(1,i=t.colors),"line"in t&&n(2,o=t.line),"comparison"in t&&n(3,a=t.comparison),"horizontal"in t&&n(4,s=t.horizontal),"markerWidth"in t&&n(5,l=t.markerWidth),"markerLength"in t&&n(6,c=t.markerLength),"round"in t&&n(7,u=t.round)},[r,i,o,a,s,l,c,u]}class ru extends Mt{constructor(t){super(),wt(this,t,nu,eu,s,{domain:0,colors:1,line:2,comparison:3,horizontal:4,markerWidth:5,markerLength:6,round:7})}}function iu(e){let n,r,i,o,a,s;return n=new Hc({}),i=new Xc({props:{gridlines:!1}}),a=new Ac({}),{c(){$t(n.$$.fragment),r=C(),$t(i.$$.fragment),o=C(),$t(a.$$.fragment)},m(t,e){vt(n,t,e),w(t,r,e),vt(i,t,e),w(t,o,e),vt(a,t,e),s=!0},p:t,i(t){s||(ht(n.$$.fragment,t),ht(i.$$.fragment,t),ht(a.$$.fragment,t),s=!0)},o(t){dt(n.$$.fragment,t),dt(i.$$.fragment,t),dt(a.$$.fragment,t),s=!1},d(t){bt(n,t),t&&M(r),bt(i,t),t&&M(o),bt(a,t)}}}function ou(t){let e,n;return e=new Si({props:{$$slots:{default:[au]},$$scope:{ctx:t}}}),{c(){$t(e.$$.fragment)},m(t,r){vt(e,t,r),n=!0},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){dt(e.$$.fragment,t),n=!1},d(t){bt(e,t)}}}function au(t){let e,n;return e=new jc({}),{c(){$t(e.$$.fragment)},m(t,r){vt(e,t,r),n=!0},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){dt(e.$$.fragment,t),n=!1},d(t){bt(e,t)}}}function su(t){let e,n,r,i;e=new Fi({props:{$$slots:{default:[iu]},$$scope:{ctx:t}}});let o=t[2]&&ou(t);return{c(){$t(e.$$.fragment),n=C(),o&&o.c(),r=S()},m(t,a){vt(e,t,a),w(t,n,a),o&&o.m(t,a),w(t,r,a),i=!0},p(t,n){const i={};64&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i),t[2]?o?4&n&&ht(o,1):(o=ou(t),o.c(),ht(o,1),o.m(r.parentNode,r)):o&&(ct(),dt(o,1,1,(()=>{o=null})),ut())},i(t){i||(ht(e.$$.fragment,t),ht(o),i=!0)},o(t){dt(e.$$.fragment,t),dt(o),i=!1},d(t){bt(e,t),t&&M(n),o&&o.d(t),t&&M(r)}}}function lu(t){let e,n,r,i,o;return n=new _i({props:{padding:{right:0,bottom:20,left:0},x:t[3],y:cu,yScale:Qi().paddingInner([.05]).round(!0),yDomain:t[0].map(t[5]),xPadding:[15,0],zScale:Xi(),zDomain:t[3],zRange:t[4],data:t[0],$$slots:{default:[su]},$$scope:{ctx:t}}}),i=new ru({props:{domain:t[3],colors:t[4]}}),{c(){e=T("div"),$t(n.$$.fragment),r=C(),$t(i.$$.fragment),L(e,"class","chart-container svelte-ivcd9i"),j(e,"height",t[1]+"px")},m(t,a){w(t,e,a),vt(n,e,null),w(t,r,a),vt(i,t,a),o=!0},p(t,[r]){const i={};1&r&&(i.yDomain=t[0].map(t[5])),1&r&&(i.data=t[0]),68&r&&(i.$$scope={dirty:r,ctx:t}),n.$set(i),(!o||2&r)&&j(e,"height",t[1]+"px")},i(t){o||(ht(n.$$.fragment,t),ht(i.$$.fragment,t),o=!0)},o(t){dt(n.$$.fragment,t),dt(i.$$.fragment,t),o=!1},d(t){t&&M(e),bt(n),t&&M(r),bt(i,t)}}}const cu="label";function uu(t,e,n){let{data:r}=e,{height:i=400}=e,{labels:o=!1}=e;const a=Object.keys(r[0]).filter((t=>t!==cu));r.forEach((t=>{a.forEach((e=>{t[e]=+t[e]}))}));return t.$$set=t=>{"data"in t&&n(0,r=t.data),"height"in t&&n(1,i=t.height),"labels"in t&&n(2,o=t.labels)},[r,i,o,a,["#DF0667","#3C388E","#2166ac","#b2182b","grey"],t=>t[cu]]}class hu extends Mt{constructor(t){super(),wt(this,t,uu,lu,s,{data:0,height:1,labels:2})}}const{document:du}=ft;function fu(t,e,n){const r=t.slice();return r[40]=e[n],r[42]=n,r}function gu(t){let e,n,r=t[6]&&pu(t);return{c(){r&&r.c(),e=S()},m(t,i){r&&r.m(t,i),w(t,e,i),n=!0},p(t,n){t[6]?r?(r.p(t,n),64&n[0]&&ht(r,1)):(r=pu(t),r.c(),ht(r,1),r.m(e.parentNode,e)):r&&(ct(),dt(r,1,1,(()=>{r=null})),ut())},i(t){n||(ht(r),n=!0)},o(t){dt(r),n=!1},d(t){r&&r.d(t),t&&M(e)}}}function pu(t){let e,n,r=t[8]&&mu(t);return{c(){r&&r.c(),e=S()},m(t,i){r&&r.m(t,i),w(t,e,i),n=!0},p(t,n){t[8]?r?(r.p(t,n),256&n[0]&&ht(r,1)):(r=mu(t),r.c(),ht(r,1),r.m(e.parentNode,e)):r&&(ct(),dt(r,1,1,(()=>{r=null})),ut())},i(t){n||(ht(r),n=!0)},o(t){dt(r),n=!1},d(t){r&&r.d(t),t&&M(e)}}}function mu(t){let e,n,r=t[3]&&yu(t);return{c(){r&&r.c(),e=S()},m(t,i){r&&r.m(t,i),w(t,e,i),n=!0},p(t,n){t[3]?r?(r.p(t,n),8&n[0]&&ht(r,1)):(r=yu(t),r.c(),ht(r,1),r.m(e.parentNode,e)):r&&(ct(),dt(r,1,1,(()=>{r=null})),ut())},i(t){n||(ht(r),n=!0)},o(t){dt(r),n=!1},d(t){r&&r.d(t),t&&M(e)}}}function yu(t){let e,n,r=t[4]&&xu(t);return{c(){r&&r.c(),e=S()},m(t,i){r&&r.m(t,i),w(t,e,i),n=!0},p(t,n){t[4]?r?(r.p(t,n),16&n[0]&&ht(r,1)):(r=xu(t),r.c(),ht(r,1),r.m(e.parentNode,e)):r&&(ct(),dt(r,1,1,(()=>{r=null})),ut())},i(t){n||(ht(r),n=!0)},o(t){dt(r),n=!1},d(t){r&&r.d(t),t&&M(e)}}}function xu(t){let e,n,r,i,a,s,l,c,u,h,d,f,g,p,m,y,x,$,v,b,_,S,R,D,F,P,I,O,q,W,H,U,B,G,J,V,Z,X,Q,tt,et,rt=wu(t[2].name)+"",it=t[12](t[2],t[5])+"",ot=(t[2].gss?t[2].gss.long:"local authority district")+"",at=[],st=new Map,lt=t[7]?"Read less":"Read more";function ft(e){t[16](e)}let mt={options:t[0],group:"typenm",search:!0};void 0!==t[1]&&(mt.selected=t[1]),h=new Ae({props:mt}),Y.push((()=>xt(h,"selected",ft))),h.$on("select",t[17]);let yt=t[9](t[4],t[2],t[5]);const kt=t=>t[42];for(let e=0;e<yt.length;e+=1){let n=fu(t,yt,e),r=kt(n);st.set(r,at[e]=$u(r,n))}function wt(t,e){return t[7]?bu:vu}let Mt=wt(t),_t=Mt(t);return{c(){e=T("div"),n=T("div"),r=T("h1"),i=A(rt),a=A(": "),s=T("span"),s.textContent="Changes over time",l=C(),c=T("div"),u=T("div"),$t(h.$$.fragment),f=C(),g=new K,p=C(),m=T("p"),y=A("Here are some of the "),x=T("span"),x.textContent="most notable changes",$=A(" from across the "),v=A(ot),b=A("."),_=C(),S=T("main");for(let t=0;t<at.length;t+=1)at[t].c();R=C(),D=T("button"),F=T("div"),P=N("svg"),_t.c(),I=C(),O=A(lt),q=C(),W=T("hr"),H=C(),U=T("h2"),U.textContent="Creating this article",B=C(),G=T("p"),G.textContent="This article was generated using some automation. Topics are selected based on the most notable changes seen in each local authority.",J=C(),V=T("p"),V.textContent="Notable changes include a high percentage point shift, a pattern of change that differs from the pattern seen at the regional or national level, and the shifting of a variable for which the area ranks considerably high or low.",Z=C(),X=T("div"),j(s,"font-weight","400"),L(r,"class","svelte-1eybmbe"),j(u,"width","640px"),j(u,"margin","50px auto"),g.a=p,L(x,"class","back-to-top svelte-1eybmbe"),j(n,"width","640px"),j(n,"margin","0 auto"),L(e,"id","sf"),L(e,"class","svelte-1eybmbe"),L(P,"height","25"),L(P,"width","50"),L(F,"class","triangle-container svelte-1eybmbe"),L(D,"class","svelte-1eybmbe"),L(W,"class","svelte-1eybmbe"),L(U,"id","create"),j(X,"height","200px"),L(S,"class","svelte-1eybmbe")},m(o,d){w(o,e,d),k(e,n),k(n,r),k(r,i),k(r,a),k(r,s),k(n,l),k(n,c),k(c,u),vt(h,u,null),k(n,f),g.m(it,n),k(n,p),k(n,m),k(m,y),k(m,x),k(m,$),k(m,v),k(m,b),w(o,_,d),w(o,S,d);for(let t=0;t<at.length;t+=1)at[t].m(S,null);k(S,R),k(S,D),k(D,F),k(F,P),_t.m(P,null),k(D,I),k(D,O),k(S,q),k(S,W),k(S,H),k(S,U),k(S,B),k(S,G),k(S,J),k(S,V),k(S,Z),k(S,X),Q=!0,tt||(et=[E(x,"click",Mu),E(D,"click",t[15])],tt=!0)},p(t,e){(!Q||4&e[0])&&rt!==(rt=wu(t[2].name)+"")&&z(i,rt);const n={};1&e[0]&&(n.options=t[0]),!d&&2&e[0]&&(d=!0,n.selected=t[1],nt((()=>d=!1))),h.$set(n),(!Q||36&e[0])&&it!==(it=t[12](t[2],t[5])+"")&&g.p(it),(!Q||4&e[0])&&ot!==(ot=(t[2].gss?t[2].gss.long:"local authority district")+"")&&z(v,ot),25140&e[0]&&(yt=t[9](t[4],t[2],t[5]),ct(),at=pt(at,e,kt,1,t,yt,st,S,gt,$u,R,fu),ut()),Mt!==(Mt=wt(t))&&(_t.d(1),_t=Mt(t),_t&&(_t.c(),_t.m(P,null))),(!Q||128&e[0])&&lt!==(lt=t[7]?"Read less":"Read more")&&z(O,lt)},i(t){if(!Q){ht(h.$$.fragment,t);for(let t=0;t<yt.length;t+=1)ht(at[t]);Q=!0}},o(t){dt(h.$$.fragment,t);for(let t=0;t<at.length;t+=1)dt(at[t]);Q=!1},d(t){t&&M(e),bt(h),t&&M(_),t&&M(S);for(let t=0;t<at.length;t+=1)at[t].d();_t.d(),tt=!1,o(et)}}}function $u(t,e){let r,i,o,a,s,l,c=e[40]+"";const u=[e[13](e[42])];var h=e[14](e[42]);function d(t){let e={};for(let t=0;t<u.length;t+=1)e=n(e,u[t]);return{props:e}}return h&&(s=new h(d())),{key:t,first:null,c(){r=S(),i=new K,o=C(),a=T("div"),s&&$t(s.$$.fragment),i.a=o,j(a,"width","100%"),this.first=r},m(t,e){w(t,r,e),i.m(c,t,e),w(t,o,e),w(t,a,e),s&&vt(s,a,null),l=!0},p(t,n){e=t,(!l||564&n[0])&&c!==(c=e[40]+"")&&i.p(c);const r=8756&n[0]?mt(u,[yt(e[13](e[42]))]):{};if(h!==(h=e[14](e[42]))){if(s){ct();const t=s;dt(t.$$.fragment,1,0,(()=>{bt(t,1)})),ut()}h?(s=new h(d()),$t(s.$$.fragment),ht(s.$$.fragment,1),vt(s,a,null)):s=null}else h&&s.$set(r)},i(t){l||(s&&ht(s.$$.fragment,t),l=!0)},o(t){s&&dt(s.$$.fragment,t),l=!1},d(t){t&&M(r),t&&i.d(),t&&M(o),t&&M(a),s&&bt(s)}}}function vu(t){let e;return{c(){e=N("polygon"),L(e,"points","25,20 15,10 25,20 35,10"),L(e,"class","triangle svelte-1eybmbe")},m(t,n){w(t,e,n)},d(t){t&&M(e)}}}function bu(t){let e;return{c(){e=N("polygon"),L(e,"points","25,10 15,20 25,10 35,20"),L(e,"class","triangle svelte-1eybmbe")},m(t,n){w(t,e,n)},d(t){t&&M(e)}}}function ku(t){let e,n,r,i,o,a,s,l,u,h=t[2]&&gu(t);return{c(){e=T("script"),r=T("script"),o=C(),a=T("div"),h&&h.c(),c(e.src,n="https://d3js.org/d3.v3.min.js")||L(e,"src","https://d3js.org/d3.v3.min.js"),L(e,"charset","utf-8"),c(r.src,i="https://unpkg.com/rosaenlg@3.0.1/dist/rollup/rosaenlg_tiny_en_US_3.0.1_comp.js")||L(r,"src","https://unpkg.com/rosaenlg@3.0.1/dist/rollup/rosaenlg_tiny_en_US_3.0.1_comp.js")},m(n,i){k(du.head,e),k(du.head,r),w(n,o,i),w(n,a,i),h&&h.m(a,null),s=!0,l||(u=E(r,"load",t[10]),l=!0)},p(t,e){t[2]?h?(h.p(t,e),4&e[0]&&ht(h,1)):(h=gu(t),h.c(),ht(h,1),h.m(a,null)):h&&(ct(),dt(h,1,1,(()=>{h=null})),ut())},i(t){s||(ht(h),s=!0)},o(t){dt(h),s=!1},d(t){M(e),M(r),t&&M(o),t&&M(a),h&&h.d(),l=!1,u()}}}function wu(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Mu(){document.getElementById("create").scrollIntoView()}function _u(t){return Number.parseFloat(Number.parseFloat(.714*t).toPrecision(2))}function Tu(t,e,n){function r(t,e){return!(new kn([t],{includeScore:!0}).search(e).length>0)}var i,o,a,s,l,c,u,h,d,f,g,p,m,y,x,$,v;const b=(t,e)=>e.some((e=>t.includes(e)));var k,w,M,_=!1;fetch("./archie.aml").then((t=>t.text())).then((t=>n(5,k=Ee.load(t)))),fetch("./puggy.pug").then((t=>t.text())).then((t=>w=t)),fetch("./standf.pug").then((t=>t.text())).then((t=>M=t));let T=!1;It("https://raw.githubusercontent.com/theojolliffe/census-data/main/laddata.csv").then((t=>{t.forEach((t=>{t.code=t[""],delete t[""]})),m=t,n(6,$=!0)}));var N={};It("https://raw.githubusercontent.com/theojolliffe/census-data/main/csv/lists/Corresponding%20Local%20Authorities-Table%201.csv").then((t=>{t.forEach((t=>{N[t.Name]=t["Region/Country"]}))}));var A={};function C(t){fetch("https://raw.githubusercontent.com/theojolliffe/census-data/main/json/place/"+t+".json").then((t=>t.json())).then((e=>{e.children=i.filter((e=>e.parent==t)),e.siblings=i.filter((t=>t.parent==e.parents[0].code)),n(2,a=e),u=a.parents[0].code,fetch("https://raw.githubusercontent.com/theojolliffe/census-data/main/json/place/"+u+".json").then((t=>t.json())).then((e=>{e.children=i.filter((e=>e.parent==t)),e.siblings=i.filter((t=>t.parent==e.parents[0].code)),n(4,h=e),console.log("rgn",h)})),x=a.data.population.value.change.all>8?"expanded":a.data.population.value.change.all>3?"grew":a.data.population.value.change.all>0?"did not change much":"shrunk",a.data.health.perc.change.good>0?y="improved":a.data.health.perc.change.good<0&&(y="deteriorated"),(d=a.stories.map((t=>t.label.split("_")))).forEach((t=>{t.length>4&&(t[3]=t[3]+"_"+t[4],t.pop())})),s=d.map((t=>parseInt(a.data[t[0]][t[1]+"_rank_local"][t[2]][t[3]]))),f=d.map((t=>parseInt(a.data[t[0]][t[1]+"_rank"][t[2]][t[3]]))),l=d.map((t=>parseInt(a.data[t[0]][t[1]+"_rank_local"][2011][t[3]]))),g=d.map((t=>parseInt(a.data[t[0]][t[1]+"_rank"][2011][t[3]])))})),fetch("https://raw.githubusercontent.com/theojolliffe/census-data/main/json/place/E92000001.json").then((t=>t.json())).then((e=>{e.children=i.filter((e=>e.parent==t)),e.siblings=i.filter((t=>t.parent==e.parents[0].code)),n(3,c=e)})),fetch("https://raw.githubusercontent.com/theojolliffe/census-data/main/json/place/W92000004.json").then((t=>t.json())).then((e=>{e.children=i.filter((e=>e.parent==t)),e.siblings=i.filter((t=>t.parent==e.parents[0].code)),p=e}))}It("https://raw.githubusercontent.com/theojolliffe/census-data/main/csv/lists/Local_Authority_District_to_County_(April_2021)_Lookup_in_England.csv").then((t=>{t.forEach((t=>{A[t.LAD21NM]=t.CTY21NM}))})),It("https://raw.githubusercontent.com/theojolliffe/census-data/main/csv/lists/Local_Authority_Districts_(May_2021)_UK_BFE_V3.csv").then((t=>{t.forEach((t=>{t.code=t.LAD21CD,t.name=t.LAD21NM})),t=t.filter((t=>"S"!=t.LAD21CD.substring(0,1)&"N"!=t.LAD21CD.substring(0,1))),n(0,i=t.sort(((t,e)=>t.LAD21NM.localeCompare(e.LAD21NM))));let e=i[Math.round(331*Math.random())].LAD21NM;e="Somerset West and Taunton",console.log(e),n(1,o=i.find((t=>t.LAD21NM==e))),console.log(o.LAD21CD),C(o.LAD21CD)}));let S={1:"expanded",2:"grew",3:"grew",4:"remained relatively stable",5:"fell"};function E(t,e){Object.keys(t).forEach((n=>{"object"==typeof t[n]?E(t[n],e):t[n]=Pt(t[n],{health:y,health:y,expanded:x,plcname:e})}))}function L(t,e,n){var i=JSON.parse(JSON.stringify(n));return E(i,e.name),console.log("topics",i),v="Wales"==e.parents[0].name?p:c,rosaenlg_en_US.render(w,{language:"en_UK",place:e,data:e.data,cou:v,eng:c,rgn:t,uncap1:Wt,regionThe:qt,parent:Wt(qt(e.parents[0].name)),parentNT:Wt(qt(e.parents[0].name,"NT")),s:d,stories:e.stories,priorities:e.Priorities,grewSyn:S,locRankCha:s,natRankCha:f,locRankCur:l,natRankCur:g,hiRank:e.hiRank,topic:function(t,e){let n;return n=e||d[t][3],i[d[t][0]][n]},topics:i,chains:Kt,country:"Wales"==e.parents[0].name?"Wales":"England",get_word:Gt,figs:Jt,otherEst:Qt,cur:Yt,cha:Zt,qui:Xt,cap:wu,cap:wu,otherRank:te,ud:ee,city:ne,drop:Ht,drop:Ht,ord:se,ageBandLU:le,eq:ce,nuword:ae,sign:re,udord:ue,near:e.nearbyArea.nearTops,simi:e.similar,adv:he,uds:de,more:_,pluralize:Le,pluralize:Le,countyLU:A,fuzz:r,prev:Vt,regionLU:N,findOne:b}).split('<div id="esc123"></div>')}W((()=>{setInterval((function(){d3.selectAll("div#visph").attr("style","\n\t\t\tbackground-color: #f6f6f6; \n\t\t\tcolor: #e1e7ea; \n\t\t\theight: 240px;\n\t\t\tpadding: 80px;\n\t\t\tfont-size: 2.8rem;\n\t\t\tfont-weight: 600;\n\t\t\tmargin-bottom: 80px;")}),1e3)}));return[i,o,a,c,h,k,$,_,T,L,()=>{n(8,T=!0)},C,function(t,e){var n=JSON.parse(JSON.stringify(e));E(n,t.name);let r=[],i=0;return t.stories.forEach((t=>{r.length<4&Math.abs(t.value)>3&&(r.push(t.label.split("_")),i+=Math.abs(t.value))})),rosaenlg_en_US.render(M,{language:"en_UK",place:t,topics:n,s:d,sf:r,changeMag:i,grewSyn:S,qui:Xt,natRankCha:f})},function(t){let e=a.stories[t].label.split("_");if(e.length>4&&(e[3]=e[3]+"_"+e[4],e.pop()),"agemed"==e[0]){function t(t,e){let n=[];return Object.keys(t).forEach((r=>{n.push({x:r,y:t[r],g:e})})),n}return{legend:!0,height:120,chartData:[[t(v.data.age10yr.perc[2001],2011),t(v.data.age10yr.perc[2011],2021)],[t(h.data.age10yr.perc[2001],2011),t(h.data.age10yr.perc[2011],2021)],[t(a.data.age10yr.perc[2001],2011),t(a.data.age10yr.perc[2011],2021)]],labels:[v.name,h.name,a.name],xKey:"value",yKey:"year"}}return a.stories[t].type.includes("size")?"population"==e[0]?"Wales"==h.name?{height:120,data:[{label:c.name,2011:_u(c.data.density.value[2001].all),2021:_u(c.data.density.value[2011].all)},{label:h.name,2011:_u(h.data.density.value[2001].all),2021:_u(h.data.density.value[2011].all)},{label:a.name,2011:_u(a.data.density.value[2001].all),2021:_u(a.data.density.value[2011].all)}]}:{height:120,data:[{label:h.name,2011:_u(h.data.density.value[2001].all),2021:_u(h.data.density.value[2011].all)},{label:a.nearbyArea.nearTops.name.name,2011:_u(a.nearbyArea.nearTops.name.data.density.value[2001].all),2021:_u(a.nearbyArea.nearTops.name.data.density.value[2011].all)},{label:a.name,2011:_u(a.data.density.value[2001].all),2021:_u(a.data.density.value[2011].all)}]}:"Wales"==h.name?{legend:!0,height:120,data:[{label:h.name,2011:h.data[e[0]][e[1]][2001][e[3]],2021:h.data[e[0]][e[1]][2011][e[3]]},{label:a.nearbyArea.nearTops.name,2011:a.nearbyArea.nearTops.data[e[0]][e[1]][2001][e[3]],2021:a.nearbyArea.nearTops.data[e[0]][e[1]][2011][e[3]]},{label:a.name,2011:a.data[e[0]][e[1]][2001][e[3]],2021:a.data[e[0]][e[1]][2011][e[3]]}]}:{legend:!0,height:120,data:[{label:c.name,2011:c.data[e[0]][e[1]][2001][e[3]],2021:c.data[e[0]][e[1]][2011][e[3]]},{label:a.parents[0].name,2011:h.data[e[0]][e[1]][2001][e[3]],2021:h.data[e[0]][e[1]][2011][e[3]]},{label:a.name,2011:a.data[e[0]][e[1]][2001][e[3]],2021:a.data[e[0]][e[1]][2011][e[3]]}]}:("population"==e[0]&&(e[0]="density",e[3]="all"),(n=(n=m.filter((t=>t.parent==a.parents[0].name&t.topic==e[0]+"_"+e[3]))).map((t=>({change:t.change,value:"density"==e[0]?.714*parseFloat(t[2011]):parseFloat(t[2011]),unique:t.lad,id:t.parent})))).forEach(((t,e)=>{t.unique==a.name?t.id=a.name:t.id==a.parents[0].name?t.id="Rest of "+Wt(qt(a.parents[0].name)):t.id="Rest of England"})),n.push({change:+v.data[e[0]][e[1]].change[e[3]],value:+v.data[e[0]][e[1]][2011][e[3]],unique:"Average across "+v.name,id:"Average across "+v.name}),{mode:"stacked",line:!1,legend:!0,data:n,xKey:"value",yKey:null,rKey:"change",r:[3,9],zKey:"id"});var n},function(t){let e=a.stories[t].label.split("_");return e.length>4&&(e[3]=e[3]+"_"+e[4],e.pop()),"agemed"==e[0]?bc:a.stories[t].type.includes("size")?hu:El},function(){n(7,_=!_),n(9,L)},function(t){n(1,o=t)},()=>{o&&C(o.code)}]}class Nu extends Mt{constructor(t){super(),wt(this,t,Tu,ku,s,{},null,[-1,-1])}}const{document:Au}=ft;function Cu(t,e,n){const r=t.slice();return r[40]=e[n],r[42]=n,r}function Su(t){let e,n,r=t[6]&&Eu(t);return{c(){r&&r.c(),e=S()},m(t,i){r&&r.m(t,i),w(t,e,i),n=!0},p(t,n){t[6]?r?(r.p(t,n),64&n[0]&&ht(r,1)):(r=Eu(t),r.c(),ht(r,1),r.m(e.parentNode,e)):r&&(ct(),dt(r,1,1,(()=>{r=null})),ut())},i(t){n||(ht(r),n=!0)},o(t){dt(r),n=!1},d(t){r&&r.d(t),t&&M(e)}}}function Eu(t){let e,n,r=t[8]&&Lu(t);return{c(){r&&r.c(),e=S()},m(t,i){r&&r.m(t,i),w(t,e,i),n=!0},p(t,n){t[8]?r?(r.p(t,n),256&n[0]&&ht(r,1)):(r=Lu(t),r.c(),ht(r,1),r.m(e.parentNode,e)):r&&(ct(),dt(r,1,1,(()=>{r=null})),ut())},i(t){n||(ht(r),n=!0)},o(t){dt(r),n=!1},d(t){r&&r.d(t),t&&M(e)}}}function Lu(t){let e,n,r=t[3]&&zu(t);return{c(){r&&r.c(),e=S()},m(t,i){r&&r.m(t,i),w(t,e,i),n=!0},p(t,n){t[3]?r?(r.p(t,n),8&n[0]&&ht(r,1)):(r=zu(t),r.c(),ht(r,1),r.m(e.parentNode,e)):r&&(ct(),dt(r,1,1,(()=>{r=null})),ut())},i(t){n||(ht(r),n=!0)},o(t){dt(r),n=!1},d(t){r&&r.d(t),t&&M(e)}}}function zu(t){let e,n,r=t[4]&&Ru(t);return{c(){r&&r.c(),e=S()},m(t,i){r&&r.m(t,i),w(t,e,i),n=!0},p(t,n){t[4]?r?(r.p(t,n),16&n[0]&&ht(r,1)):(r=Ru(t),r.c(),ht(r,1),r.m(e.parentNode,e)):r&&(ct(),dt(r,1,1,(()=>{r=null})),ut())},i(t){n||(ht(r),n=!0)},o(t){dt(r),n=!1},d(t){r&&r.d(t),t&&M(e)}}}function Ru(t){let e,n,r,i,a,s,l,c,u,h,d,f,g,p,m,y,x,$,v,b,_,S,R,D,F,P,I,O,q,W,H,U,B,G,J,V,Z,X,Q,tt,et,rt=Iu(t[2].name)+"",it=t[12](t[2],t[5])+"",ot=(t[2].gss?t[2].gss.long:"local authority district")+"",at=[],st=new Map,lt=t[7]?"Read less":"Read more";function ft(e){t[16](e)}let mt={options:t[0],group:"typenm",search:!0};void 0!==t[1]&&(mt.selected=t[1]),h=new Ae({props:mt}),Y.push((()=>xt(h,"selected",ft))),h.$on("select",t[17]);let yt=t[9](t[4],t[2],t[5]);const kt=t=>t[42];for(let e=0;e<yt.length;e+=1){let n=Cu(t,yt,e),r=kt(n);st.set(r,at[e]=ju(r,n))}function wt(t,e){return t[7]?Fu:Du}let Mt=wt(t),_t=Mt(t);return{c(){e=T("div"),n=T("div"),r=T("h1"),i=A(rt),a=A(": "),s=T("span"),s.textContent="Changes over time",l=C(),c=T("div"),u=T("div"),$t(h.$$.fragment),f=C(),g=new K,p=C(),m=T("p"),y=A("Here are some of the "),x=T("span"),x.textContent="most notable changes",$=A(" from across the "),v=A(ot),b=A("."),_=C(),S=T("main");for(let t=0;t<at.length;t+=1)at[t].c();R=C(),D=T("button"),F=T("div"),P=N("svg"),_t.c(),I=C(),O=A(lt),q=C(),W=T("hr"),H=C(),U=T("h2"),U.textContent="Creating this article",B=C(),G=T("p"),G.textContent="This article was generated using some automation. Topics are selected based on the most notable changes seen in each local authority.",J=C(),V=T("p"),V.textContent="Notable changes include a high percentage point shift, a pattern of change that differs from the pattern seen at the regional or national level, and the shifting of a variable for which the area ranks considerably high or low.",Z=C(),X=T("div"),j(s,"font-weight","400"),L(r,"class","svelte-179svd2"),j(u,"width","640px"),j(u,"margin","50px auto"),g.a=p,L(x,"class","back-to-top svelte-179svd2"),j(n,"width","640px"),j(n,"margin","0 auto"),L(e,"id","sf"),L(e,"class","svelte-179svd2"),L(P,"height","25"),L(P,"width","50"),L(F,"class","triangle-container svelte-179svd2"),L(D,"class","svelte-179svd2"),L(W,"class","svelte-179svd2"),L(U,"id","create"),j(X,"height","200px"),L(S,"class","svelte-179svd2")},m(o,d){w(o,e,d),k(e,n),k(n,r),k(r,i),k(r,a),k(r,s),k(n,l),k(n,c),k(c,u),vt(h,u,null),k(n,f),g.m(it,n),k(n,p),k(n,m),k(m,y),k(m,x),k(m,$),k(m,v),k(m,b),w(o,_,d),w(o,S,d);for(let t=0;t<at.length;t+=1)at[t].m(S,null);k(S,R),k(S,D),k(D,F),k(F,P),_t.m(P,null),k(D,I),k(D,O),k(S,q),k(S,W),k(S,H),k(S,U),k(S,B),k(S,G),k(S,J),k(S,V),k(S,Z),k(S,X),Q=!0,tt||(et=[E(x,"click",Ku),E(D,"click",t[15])],tt=!0)},p(t,e){(!Q||4&e[0])&&rt!==(rt=Iu(t[2].name)+"")&&z(i,rt);const n={};1&e[0]&&(n.options=t[0]),!d&&2&e[0]&&(d=!0,n.selected=t[1],nt((()=>d=!1))),h.$set(n),(!Q||36&e[0])&&it!==(it=t[12](t[2],t[5])+"")&&g.p(it),(!Q||4&e[0])&&ot!==(ot=(t[2].gss?t[2].gss.long:"local authority district")+"")&&z(v,ot),25140&e[0]&&(yt=t[9](t[4],t[2],t[5]),ct(),at=pt(at,e,kt,1,t,yt,st,S,gt,ju,R,Cu),ut()),Mt!==(Mt=wt(t))&&(_t.d(1),_t=Mt(t),_t&&(_t.c(),_t.m(P,null))),(!Q||128&e[0])&&lt!==(lt=t[7]?"Read less":"Read more")&&z(O,lt)},i(t){if(!Q){ht(h.$$.fragment,t);for(let t=0;t<yt.length;t+=1)ht(at[t]);Q=!0}},o(t){dt(h.$$.fragment,t);for(let t=0;t<at.length;t+=1)dt(at[t]);Q=!1},d(t){t&&M(e),bt(h),t&&M(_),t&&M(S);for(let t=0;t<at.length;t+=1)at[t].d();_t.d(),tt=!1,o(et)}}}function ju(t,e){let r,i,o,a,s,l,c=e[40]+"";const u=[e[13](e[42])];var h=e[14](e[42]);function d(t){let e={};for(let t=0;t<u.length;t+=1)e=n(e,u[t]);return{props:e}}return h&&(s=new h(d())),{key:t,first:null,c(){r=S(),i=new K,o=C(),a=T("div"),s&&$t(s.$$.fragment),i.a=o,j(a,"width","100%"),this.first=r},m(t,e){w(t,r,e),i.m(c,t,e),w(t,o,e),w(t,a,e),s&&vt(s,a,null),l=!0},p(t,n){e=t,(!l||564&n[0])&&c!==(c=e[40]+"")&&i.p(c);const r=8756&n[0]?mt(u,[yt(e[13](e[42]))]):{};if(h!==(h=e[14](e[42]))){if(s){ct();const t=s;dt(t.$$.fragment,1,0,(()=>{bt(t,1)})),ut()}h?(s=new h(d()),$t(s.$$.fragment),ht(s.$$.fragment,1),vt(s,a,null)):s=null}else h&&s.$set(r)},i(t){l||(s&&ht(s.$$.fragment,t),l=!0)},o(t){s&&dt(s.$$.fragment,t),l=!1},d(t){t&&M(r),t&&i.d(),t&&M(o),t&&M(a),s&&bt(s)}}}function Du(t){let e;return{c(){e=N("polygon"),L(e,"points","25,20 15,10 25,20 35,10"),L(e,"class","triangle svelte-179svd2")},m(t,n){w(t,e,n)},d(t){t&&M(e)}}}function Fu(t){let e;return{c(){e=N("polygon"),L(e,"points","25,10 15,20 25,10 35,20"),L(e,"class","triangle svelte-179svd2")},m(t,n){w(t,e,n)},d(t){t&&M(e)}}}function Pu(t){let e,n,r,i,o,a,s,l,u,h=t[2]&&Su(t);return{c(){e=T("script"),r=T("script"),o=C(),a=T("div"),h&&h.c(),c(e.src,n="https://d3js.org/d3.v3.min.js")||L(e,"src","https://d3js.org/d3.v3.min.js"),L(e,"charset","utf-8"),c(r.src,i="https://unpkg.com/rosaenlg@3.0.1/dist/rollup/rosaenlg_tiny_en_US_3.0.1_comp.js")||L(r,"src","https://unpkg.com/rosaenlg@3.0.1/dist/rollup/rosaenlg_tiny_en_US_3.0.1_comp.js")},m(n,i){k(Au.head,e),k(Au.head,r),w(n,o,i),w(n,a,i),h&&h.m(a,null),s=!0,l||(u=E(r,"load",t[10]),l=!0)},p(t,e){t[2]?h?(h.p(t,e),4&e[0]&&ht(h,1)):(h=Su(t),h.c(),ht(h,1),h.m(a,null)):h&&(ct(),dt(h,1,1,(()=>{h=null})),ut())},i(t){s||(ht(h),s=!0)},o(t){dt(h),s=!1},d(t){M(e),M(r),t&&M(o),t&&M(a),h&&h.d(),l=!1,u()}}}function Iu(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Ku(){document.getElementById("create").scrollIntoView()}function Ou(t){return Number.parseFloat(Number.parseFloat(.714*t).toPrecision(2))}function qu(t,e,n){function r(t,e){return!(new kn([t],{includeScore:!0}).search(e).length>0)}var i,o,a,s,l,c,u,h,d,f,g,p,m,y,x,$,v;const b=(t,e)=>e.some((e=>t.includes(e)));var k,w,M,_=!1;fetch("./archie.aml").then((t=>t.text())).then((t=>n(5,k=Ee.load(t)))),fetch("./puggy.pug").then((t=>t.text())).then((t=>w=t)),fetch("./standf.pug").then((t=>t.text())).then((t=>M=t));let T=!1;It("https://raw.githubusercontent.com/theojolliffe/census-data/main/laddata.csv").then((t=>{t.forEach((t=>{t.code=t[""],delete t[""]})),m=t,n(6,$=!0)}));var N={};It("https://raw.githubusercontent.com/theojolliffe/census-data/main/csv/lists/Corresponding%20Local%20Authorities-Table%201.csv").then((t=>{t.forEach((t=>{N[t.Name]=t["Region/Country"]}))}));var A={};function C(t){fetch("https://raw.githubusercontent.com/theojolliffe/census-data/main/json/place/"+t+".json").then((t=>t.json())).then((e=>{e.children=i.filter((e=>e.parent==t)),e.siblings=i.filter((t=>t.parent==e.parents[0].code)),n(2,a=e),u=a.parents[0].code,fetch("https://raw.githubusercontent.com/theojolliffe/census-data/main/json/place/"+u+".json").then((t=>t.json())).then((e=>{e.children=i.filter((e=>e.parent==t)),e.siblings=i.filter((t=>t.parent==e.parents[0].code)),n(4,h=e),console.log("rgn",h)})),x=a.data.population.value.change.all>8?"expanded":a.data.population.value.change.all>3?"grew":a.data.population.value.change.all>0?"did not change much":"shrunk",a.data.health.perc.change.good>0?y="improved":a.data.health.perc.change.good<0&&(y="deteriorated"),(d=a.stories.map((t=>t.label.split("_")))).forEach((t=>{t.length>4&&(t[3]=t[3]+"_"+t[4],t.pop())})),s=d.map((t=>parseInt(a.data[t[0]][t[1]+"_rank_local"][t[2]][t[3]]))),f=d.map((t=>parseInt(a.data[t[0]][t[1]+"_rank"][t[2]][t[3]]))),l=d.map((t=>parseInt(a.data[t[0]][t[1]+"_rank_local"][2011][t[3]]))),g=d.map((t=>parseInt(a.data[t[0]][t[1]+"_rank"][2011][t[3]])))})),fetch("https://raw.githubusercontent.com/theojolliffe/census-data/main/json/place/E92000001.json").then((t=>t.json())).then((e=>{e.children=i.filter((e=>e.parent==t)),e.siblings=i.filter((t=>t.parent==e.parents[0].code)),n(3,c=e)})),fetch("https://raw.githubusercontent.com/theojolliffe/census-data/main/json/place/W92000004.json").then((t=>t.json())).then((e=>{e.children=i.filter((e=>e.parent==t)),e.siblings=i.filter((t=>t.parent==e.parents[0].code)),p=e}))}It("https://raw.githubusercontent.com/theojolliffe/census-data/main/csv/lists/Local_Authority_District_to_County_(April_2021)_Lookup_in_England.csv").then((t=>{t.forEach((t=>{A[t.LAD21NM]=t.CTY21NM}))})),It("https://raw.githubusercontent.com/theojolliffe/census-data/main/csv/lists/Local_Authority_Districts_(May_2021)_UK_BFE_V3.csv").then((t=>{t.forEach((t=>{t.code=t.LAD21CD,t.name=t.LAD21NM})),t=t.filter((t=>"S"!=t.LAD21CD.substring(0,1)&"N"!=t.LAD21CD.substring(0,1))),n(0,i=t.sort(((t,e)=>t.LAD21NM.localeCompare(e.LAD21NM))));let e=i[Math.round(331*Math.random())].LAD21NM;e="Somerset West and Taunton",console.log(e),n(1,o=i.find((t=>t.LAD21NM==e))),console.log(o.LAD21CD),C(o.LAD21CD)}));let S={1:"expanded",2:"grew",3:"grew",4:"remained relatively stable",5:"fell"};function E(t,e){Object.keys(t).forEach((n=>{"object"==typeof t[n]?E(t[n],e):t[n]=Pt(t[n],{health:y,health:y,expanded:x,plcname:e})}))}function L(t,e,n){var i=JSON.parse(JSON.stringify(n));return E(i,e.name),console.log("topics",i),v="Wales"==e.parents[0].name?p:c,rosaenlg_en_US.render(w,{language:"en_UK",place:e,data:e.data,cou:v,eng:c,rgn:t,uncap1:Wt,regionThe:qt,parent:Wt(qt(e.parents[0].name)),parentNT:Wt(qt(e.parents[0].name,"NT")),s:d,stories:e.stories,priorities:e.Priorities,grewSyn:S,locRankCha:s,natRankCha:f,locRankCur:l,natRankCur:g,hiRank:e.hiRank,topic:function(t,e){let n;return n=e||d[t][3],i[d[t][0]][n]},topics:i,chains:Kt,country:"Wales"==e.parents[0].name?"Wales":"England",get_word:Gt,figs:Jt,otherEst:Qt,cur:Yt,cha:Zt,qui:Xt,cap:Iu,cap:Iu,otherRank:te,ud:ee,city:ne,drop:Ht,drop:Ht,ord:se,ageBandLU:le,eq:ce,nuword:ae,sign:re,udord:ue,near:e.nearbyArea.nearTops,simi:e.similar,adv:he,uds:de,more:_,pluralize:Le,pluralize:Le,countyLU:A,fuzz:r,prev:Vt,regionLU:N,findOne:b}).split('<div id="esc123"></div>')}W((()=>{setInterval((function(){d3.selectAll("div#visph").attr("style","\n\t\t\tbackground-color: #f6f6f6; \n\t\t\tcolor: #e1e7ea; \n\t\t\theight: 240px;\n\t\t\tpadding: 80px;\n\t\t\tfont-size: 2.8rem;\n\t\t\tfont-weight: 600;\n\t\t\tmargin-bottom: 80px;")}),1e3)}));return[i,o,a,c,h,k,$,_,T,L,()=>{n(8,T=!0)},C,function(t,e){var n=JSON.parse(JSON.stringify(e));E(n,t.name);let r=[],i=0;return t.stories.forEach((t=>{r.length<4&Math.abs(t.value)>3&&(r.push(t.label.split("_")),i+=Math.abs(t.value))})),rosaenlg_en_US.render(M,{language:"en_UK",place:t,topics:n,s:d,sf:r,changeMag:i,grewSyn:S,qui:Xt,natRankCha:f})},function(t){let e=a.stories[t].label.split("_");if(e.length>4&&(e[3]=e[3]+"_"+e[4],e.pop()),"agemed"==e[0]){function t(t,e){let n=[];return Object.keys(t).forEach((r=>{n.push({x:r,y:t[r],g:e})})),n}return{legend:!0,height:120,chartData:[[t(v.data.age10yr.perc[2001],2011),t(v.data.age10yr.perc[2011],2021)],[t(h.data.age10yr.perc[2001],2011),t(h.data.age10yr.perc[2011],2021)],[t(a.data.age10yr.perc[2001],2011),t(a.data.age10yr.perc[2011],2021)]],labels:[v.name,h.name,a.name],xKey:"value",yKey:"year"}}return a.stories[t].type.includes("size")?"population"==e[0]?"Wales"==h.name?{height:120,data:[{label:c.name,2011:Ou(c.data.density.value[2001].all),2021:Ou(c.data.density.value[2011].all)},{label:h.name,2011:Ou(h.data.density.value[2001].all),2021:Ou(h.data.density.value[2011].all)},{label:a.name,2011:Ou(a.data.density.value[2001].all),2021:Ou(a.data.density.value[2011].all)}]}:{height:120,data:[{label:h.name,2011:Ou(h.data.density.value[2001].all),2021:Ou(h.data.density.value[2011].all)},{label:a.nearbyArea.nearTops.name.name,2011:Ou(a.nearbyArea.nearTops.name.data.density.value[2001].all),2021:Ou(a.nearbyArea.nearTops.name.data.density.value[2011].all)},{label:a.name,2011:Ou(a.data.density.value[2001].all),2021:Ou(a.data.density.value[2011].all)}]}:"Wales"==h.name?{legend:!0,height:120,data:[{label:h.name,2011:h.data[e[0]][e[1]][2001][e[3]],2021:h.data[e[0]][e[1]][2011][e[3]]},{label:a.nearbyArea.nearTops.name,2011:a.nearbyArea.nearTops.data[e[0]][e[1]][2001][e[3]],2021:a.nearbyArea.nearTops.data[e[0]][e[1]][2011][e[3]]},{label:a.name,2011:a.data[e[0]][e[1]][2001][e[3]],2021:a.data[e[0]][e[1]][2011][e[3]]}]}:{legend:!0,height:120,data:[{label:c.name,2011:c.data[e[0]][e[1]][2001][e[3]],2021:c.data[e[0]][e[1]][2011][e[3]]},{label:a.parents[0].name,2011:h.data[e[0]][e[1]][2001][e[3]],2021:h.data[e[0]][e[1]][2011][e[3]]},{label:a.name,2011:a.data[e[0]][e[1]][2001][e[3]],2021:a.data[e[0]][e[1]][2011][e[3]]}]}:("population"==e[0]&&(e[0]="density",e[3]="all"),(n=(n=m.filter((t=>t.parent==a.parents[0].name&t.topic==e[0]+"_"+e[3]))).map((t=>({change:t.change,value:"density"==e[0]?.714*parseFloat(t[2011]):parseFloat(t[2011]),unique:t.lad,id:t.parent})))).forEach(((t,e)=>{t.unique==a.name?t.id=a.name:t.id==a.parents[0].name?t.id="Rest of "+Wt(qt(a.parents[0].name)):t.id="Rest of England"})),n.push({change:+v.data[e[0]][e[1]].change[e[3]],value:+v.data[e[0]][e[1]][2011][e[3]],unique:"Average across "+v.name,id:"Average across "+v.name}),{mode:"stacked",line:!1,legend:!0,data:n,xKey:"value",yKey:null,rKey:"change",r:[3,9],zKey:"id"});var n},function(t){let e=a.stories[t].label.split("_");return e.length>4&&(e[3]=e[3]+"_"+e[4],e.pop()),"agemed"==e[0]?bc:a.stories[t].type.includes("size")?hu:El},function(){n(7,_=!_),n(9,L)},function(t){n(1,o=t)},()=>{o&&C(o.code)}]}class Wu extends Mt{constructor(t){super(),wt(this,t,qu,Pu,s,{},null,[-1,-1])}}function Hu(e){let n,r,i,o;return{c(){n=T("div"),n.innerHTML="<p>Click on a phrase type (e.g. &#39;clausal modifier&#39;) to see the various phrases used across different topics.</p> \n\t<p>Click on a phrase to see it used in context.</p> \n\t<p>Note that when a phrase is selected, only the bold text is dynamic so may not provide perfect context.</p>",r=C(),i=T("iframe"),j(n,"width","80%"),j(n,"margin","auto"),L(i,"width","100%"),L(i,"height","5212"),L(i,"frameborder","0"),c(i.src,o="https://observablehq.com/embed/cc9449078bb7b9ae?cells=chart%2Csent")||L(i,"src","https://observablehq.com/embed/cc9449078bb7b9ae?cells=chart%2Csent")},m(t,e){w(t,n,e),w(t,r,e),w(t,i,e)},p:t,i:t,o:t,d(t){t&&M(n),t&&M(r),t&&M(i)}}}function Uu(t){return fetch("./archie.aml").then((t=>t.text())).then((t=>Ee.load(t))),[]}class Bu extends Mt{constructor(t){super(),wt(this,t,Uu,Hu,s,{})}}function Gu(t){let e,n;const r=t[1].default,i=d(r,t,t[0],null);return{c(){e=T("div"),i&&i.c(),L(e,"class","tabs")},m(t,r){w(t,e,r),i&&i.m(e,null),n=!0},p(t,[e]){i&&i.p&&(!n||1&e)&&p(i,r,t,t[0],n?g(r,t[0],e,null):m(t[0]),null)},i(t){n||(ht(i,t),n=!0)},o(t){dt(i,t),n=!1},d(t){t&&M(e),i&&i.d(t)}}}const Ju={};function Vu(t,e,n){let{$$slots:r={},$$scope:i}=e;const o=[],a=[],s=Mn(null),l=Mn(null);return B(Ju,{registerTab:t=>{o.push(t),s.update((e=>e||t)),H((()=>{const e=o.indexOf(t);o.splice(e,1),s.update((n=>n===t?o[e]||o[o.length-1]:n))}))},registerPanel:t=>{a.push(t),l.update((e=>e||t)),H((()=>{const e=a.indexOf(t);a.splice(e,1),l.update((n=>n===t?a[e]||a[a.length-1]:n))}))},selectTab:t=>{const e=o.indexOf(t);s.set(t),l.set(a[e])},selectedTab:s,selectedPanel:l}),t.$$set=t=>{"$$scope"in t&&n(0,i=t.$$scope)},[i,r]}class Yu extends Mt{constructor(t){super(),wt(this,t,Vu,Gu,s,{})}}function Zu(t){let e,n;const r=t[1].default,i=d(r,t,t[0],null);return{c(){e=T("div"),i&&i.c(),L(e,"class","tab-list svelte-1qgay6m")},m(t,r){w(t,e,r),i&&i.m(e,null),n=!0},p(t,[e]){i&&i.p&&(!n||1&e)&&p(i,r,t,t[0],n?g(r,t[0],e,null):m(t[0]),null)},i(t){n||(ht(i,t),n=!0)},o(t){dt(i,t),n=!1},d(t){t&&M(e),i&&i.d(t)}}}function Xu(t,e,n){let{$$slots:r={},$$scope:i}=e;return t.$$set=t=>{"$$scope"in t&&n(0,i=t.$$scope)},[i,r]}class Qu extends Mt{constructor(t){super(),wt(this,t,Xu,Zu,s,{})}}function th(t){let e;const n=t[4].default,r=d(n,t,t[3],null);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||8&i)&&p(r,n,t,t[3],e?g(n,t[3],i,null):m(t[3]),null)},i(t){e||(ht(r,t),e=!0)},o(t){dt(r,t),e=!1},d(t){r&&r.d(t)}}}function eh(t){let e,n,r=t[0]===t[1]&&th(t);return{c(){r&&r.c(),e=S()},m(t,i){r&&r.m(t,i),w(t,e,i),n=!0},p(t,[n]){t[0]===t[1]?r?(r.p(t,n),1&n&&ht(r,1)):(r=th(t),r.c(),ht(r,1),r.m(e.parentNode,e)):r&&(ct(),dt(r,1,1,(()=>{r=null})),ut())},i(t){n||(ht(r),n=!0)},o(t){dt(r),n=!1},d(t){r&&r.d(t),t&&M(e)}}}function nh(t,e,n){let r,{$$slots:i={},$$scope:o}=e;const a={},{registerPanel:s,selectedPanel:l}=G(Ju);return h(t,l,(t=>n(0,r=t))),s(a),t.$$set=t=>{"$$scope"in t&&n(3,o=t.$$scope)},[r,a,l,o,i]}class rh extends Mt{constructor(t){super(),wt(this,t,nh,eh,s,{})}}function ih(t){let e,n,r,i;const o=t[5].default,a=d(o,t,t[4],null);return{c(){e=T("button"),a&&a.c(),L(e,"class","svelte-b9uj0r"),I(e,"selected",t[0]===t[1])},m(o,s){w(o,e,s),a&&a.m(e,null),n=!0,r||(i=E(e,"click",t[6]),r=!0)},p(t,[r]){a&&a.p&&(!n||16&r)&&p(a,o,t,t[4],n?g(o,t[4],r,null):m(t[4]),null),3&r&&I(e,"selected",t[0]===t[1])},i(t){n||(ht(a,t),n=!0)},o(t){dt(a,t),n=!1},d(t){t&&M(e),a&&a.d(t),r=!1,i()}}}function oh(t,e,n){let r,{$$slots:i={},$$scope:o}=e;const a={},{registerTab:s,selectTab:l,selectedTab:c}=G(Ju);h(t,c,(t=>n(0,r=t))),s(a);return t.$$set=t=>{"$$scope"in t&&n(4,o=t.$$scope)},[r,a,l,c,o,i,()=>l(a)]}class ah extends Mt{constructor(t){super(),wt(this,t,oh,ih,s,{})}}function sh(t){let e;return{c(){e=A("Area Reports")},m(t,n){w(t,e,n)},d(t){t&&M(e)}}}function lh(t){let e;return{c(){e=A("Topic QA")},m(t,n){w(t,e,n)},d(t){t&&M(e)}}}function ch(t){let e;return{c(){e=A("Word Selection")},m(t,n){w(t,e,n)},d(t){t&&M(e)}}}function uh(t){let e,n,r,i,o,a;return e=new ah({props:{$$slots:{default:[sh]},$$scope:{ctx:t}}}),r=new ah({props:{$$slots:{default:[lh]},$$scope:{ctx:t}}}),o=new ah({props:{$$slots:{default:[ch]},$$scope:{ctx:t}}}),{c(){$t(e.$$.fragment),n=C(),$t(r.$$.fragment),i=C(),$t(o.$$.fragment)},m(t,s){vt(e,t,s),w(t,n,s),vt(r,t,s),w(t,i,s),vt(o,t,s),a=!0},p(t,n){const i={};1&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i);const a={};1&n&&(a.$$scope={dirty:n,ctx:t}),r.$set(a);const s={};1&n&&(s.$$scope={dirty:n,ctx:t}),o.$set(s)},i(t){a||(ht(e.$$.fragment,t),ht(r.$$.fragment,t),ht(o.$$.fragment,t),a=!0)},o(t){dt(e.$$.fragment,t),dt(r.$$.fragment,t),dt(o.$$.fragment,t),a=!1},d(t){bt(e,t),t&&M(n),bt(r,t),t&&M(i),bt(o,t)}}}function hh(t){let e,n;return e=new Nu({}),{c(){$t(e.$$.fragment)},m(t,r){vt(e,t,r),n=!0},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){dt(e.$$.fragment,t),n=!1},d(t){bt(e,t)}}}function dh(t){let e,n;return e=new Wu({}),{c(){$t(e.$$.fragment)},m(t,r){vt(e,t,r),n=!0},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){dt(e.$$.fragment,t),n=!1},d(t){bt(e,t)}}}function fh(t){let e,n;return e=new Bu({}),{c(){$t(e.$$.fragment)},m(t,r){vt(e,t,r),n=!0},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){dt(e.$$.fragment,t),n=!1},d(t){bt(e,t)}}}function gh(t){let e,n,r,i,o,a,s,l;return e=new Qu({props:{$$slots:{default:[uh]},$$scope:{ctx:t}}}),r=new rh({props:{$$slots:{default:[hh]},$$scope:{ctx:t}}}),o=new rh({props:{$$slots:{default:[dh]},$$scope:{ctx:t}}}),s=new rh({props:{$$slots:{default:[fh]},$$scope:{ctx:t}}}),{c(){$t(e.$$.fragment),n=C(),$t(r.$$.fragment),i=C(),$t(o.$$.fragment),a=C(),$t(s.$$.fragment)},m(t,c){vt(e,t,c),w(t,n,c),vt(r,t,c),w(t,i,c),vt(o,t,c),w(t,a,c),vt(s,t,c),l=!0},p(t,n){const i={};1&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i);const a={};1&n&&(a.$$scope={dirty:n,ctx:t}),r.$set(a);const l={};1&n&&(l.$$scope={dirty:n,ctx:t}),o.$set(l);const c={};1&n&&(c.$$scope={dirty:n,ctx:t}),s.$set(c)},i(t){l||(ht(e.$$.fragment,t),ht(r.$$.fragment,t),ht(o.$$.fragment,t),ht(s.$$.fragment,t),l=!0)},o(t){dt(e.$$.fragment,t),dt(r.$$.fragment,t),dt(o.$$.fragment,t),dt(s.$$.fragment,t),l=!1},d(t){bt(e,t),t&&M(n),bt(r,t),t&&M(i),bt(o,t),t&&M(a),bt(s,t)}}}function ph(t){let e,n,r,i;return e=new Tt({}),r=new Yu({props:{$$slots:{default:[gh]},$$scope:{ctx:t}}}),{c(){$t(e.$$.fragment),n=C(),$t(r.$$.fragment)},m(t,o){vt(e,t,o),w(t,n,o),vt(r,t,o),i=!0},p(t,[e]){const n={};1&e&&(n.$$scope={dirty:e,ctx:t}),r.$set(n)},i(t){i||(ht(e.$$.fragment,t),ht(r.$$.fragment,t),i=!0)},o(t){dt(e.$$.fragment,t),dt(r.$$.fragment,t),i=!1},d(t){bt(e,t),t&&M(n),bt(r,t)}}}return new class extends Mt{constructor(t){super(),wt(this,t,null,ph,s,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
