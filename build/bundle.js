var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function r(e){e.forEach(t)}function o(e){return"function"==typeof e}function a(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let i,l;function s(e,t){return i||(i=document.createElement("a")),i.href=t,e===i.href}function c(e,t){e.appendChild(t)}function u(e,t,n){e.insertBefore(t,n||null)}function f(e){e.parentNode.removeChild(e)}function d(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function p(e){return document.createElement(e)}function h(e){return document.createTextNode(e)}function m(){return h(" ")}function g(){return h("")}function y(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function v(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function x(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function b(e,t){e.value=null==t?"":t}function w(e,t,n,r){e.style.setProperty(t,n,r?"important":"")}function $(e,t,n){e.classList[n?"add":"remove"](t)}class k{constructor(){this.e=this.n=null}c(e){this.h(e)}m(e,t,n=null){this.e||(this.e=p(t.nodeName),this.t=t,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)u(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(f)}}function _(e){l=e}function C(){if(!l)throw new Error("Function called outside component initialization");return l}function j(){const e=C();return(t,n)=>{const r=e.$$.callbacks[t];if(r){const o=function(e,t,n=!1){const r=document.createEvent("CustomEvent");return r.initCustomEvent(e,n,!1,t),r}(t,n);r.slice().forEach((t=>{t.call(e,o)}))}}}const E=[],T=[],N=[],z=[],A=Promise.resolve();let M=!1;function O(e){N.push(e)}let R=!1;const S=new Set;function q(){if(!R){R=!0;do{for(let e=0;e<E.length;e+=1){const t=E[e];_(t),F(t.$$)}for(_(null),E.length=0;T.length;)T.pop()();for(let e=0;e<N.length;e+=1){const t=N[e];S.has(t)||(S.add(t),t())}N.length=0}while(E.length);for(;z.length;)z.pop()();M=!1,R=!1,S.clear()}}function F(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(O)}}const D=new Set;let K;function W(){K={r:0,c:[],p:K}}function P(){K.r||r(K.c),K=K.p}function U(e,t){e&&e.i&&(D.delete(e),e.i(t))}function I(e,t,n,r){if(e&&e.o){if(D.has(e))return;D.add(e),K.c.push((()=>{D.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}}const B="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function L(e){e&&e.c()}function H(e,n,a,i){const{fragment:l,on_mount:s,on_destroy:c,after_update:u}=e.$$;l&&l.m(n,a),i||O((()=>{const n=s.map(t).filter(o);c?c.push(...n):r(n),e.$$.on_mount=[]})),u.forEach(O)}function V(e,t){const n=e.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Z(e,t){-1===e.$$.dirty[0]&&(E.push(e),M||(M=!0,A.then(q)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function J(t,o,a,i,s,c,u,d=[-1]){const p=l;_(t);const h=t.$$={fragment:null,ctx:null,props:c,update:e,not_equal:s,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o.context||(p?p.$$.context:[])),callbacks:n(),dirty:d,skip_bound:!1,root:o.target||p.$$.root};u&&u(h.root);let m=!1;if(h.ctx=a?a(t,o.props||{},((e,n,...r)=>{const o=r.length?r[0]:n;return h.ctx&&s(h.ctx[e],h.ctx[e]=o)&&(!h.skip_bound&&h.bound[e]&&h.bound[e](o),m&&Z(t,e)),n})):[],h.update(),m=!0,r(h.before_update),h.fragment=!!i&&i(h.ctx),o.target){if(o.hydrate){const e=function(e){return Array.from(e.childNodes)}(o.target);h.fragment&&h.fragment.l(e),e.forEach(f)}else h.fragment&&h.fragment.c();o.intro&&U(t.$$.fragment),H(t,o.target,o.anchor,o.customElement),q()}_(p)}class Y{$destroy(){V(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}var G={},Q={};function X(e){return new Function("d","return {"+e.map((function(e,t){return JSON.stringify(e)+": d["+t+'] || ""'})).join(",")+"}")}function ee(e){var t=Object.create(null),n=[];return e.forEach((function(e){for(var r in e)r in t||n.push(t[r]=r)})),n}function te(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function ne(e){var t,n=e.getUTCHours(),r=e.getUTCMinutes(),o=e.getUTCSeconds(),a=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":((t=e.getUTCFullYear())<0?"-"+te(-t,6):t>9999?"+"+te(t,6):te(t,4))+"-"+te(e.getUTCMonth()+1,2)+"-"+te(e.getUTCDate(),2)+(a?"T"+te(n,2)+":"+te(r,2)+":"+te(o,2)+"."+te(a,3)+"Z":o?"T"+te(n,2)+":"+te(r,2)+":"+te(o,2)+"Z":r||n?"T"+te(n,2)+":"+te(r,2)+"Z":"")}var re=function(e){var t=new RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function r(e,t){var r,o=[],a=e.length,i=0,l=0,s=a<=0,c=!1;function u(){if(s)return Q;if(c)return c=!1,G;var t,r,o=i;if(34===e.charCodeAt(o)){for(;i++<a&&34!==e.charCodeAt(i)||34===e.charCodeAt(++i););return(t=i)>=a?s=!0:10===(r=e.charCodeAt(i++))?c=!0:13===r&&(c=!0,10===e.charCodeAt(i)&&++i),e.slice(o+1,t-1).replace(/""/g,'"')}for(;i<a;){if(10===(r=e.charCodeAt(t=i++)))c=!0;else if(13===r)c=!0,10===e.charCodeAt(i)&&++i;else if(r!==n)continue;return e.slice(o,t)}return s=!0,e.slice(o,a)}for(10===e.charCodeAt(a-1)&&--a,13===e.charCodeAt(a-1)&&--a;(r=u())!==Q;){for(var f=[];r!==G&&r!==Q;)f.push(r),r=u();t&&null==(f=t(f,l++))||o.push(f)}return o}function o(t,n){return t.map((function(t){return n.map((function(e){return i(t[e])})).join(e)}))}function a(t){return t.map(i).join(e)}function i(e){return null==e?"":e instanceof Date?ne(e):t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}return{parse:function(e,t){var n,o,a=r(e,(function(e,r){if(n)return n(e,r-1);o=e,n=t?function(e,t){var n=X(e);return function(r,o){return t(n(r),o,e)}}(e,t):X(e)}));return a.columns=o||[],a},parseRows:r,format:function(t,n){return null==n&&(n=ee(t)),[n.map(i).join(e)].concat(o(t,n)).join("\n")},formatBody:function(e,t){return null==t&&(t=ee(e)),o(e,t).join("\n")},formatRows:function(e){return e.map(a).join("\n")},formatRow:a,formatValue:i}}(","),oe=re.parse;function ae(e){for(var t in e){var n,r,o=e[t].trim();if(o)if("true"===o)o=!0;else if("false"===o)o=!1;else if("NaN"===o)o=NaN;else if(isNaN(n=+o)){if(!(r=o.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;ie&&r[4]&&!r[7]&&(o=o.replace(/-/g,"/").replace(/T/," ")),o=new Date(o)}else o=n;else o=null;e[t]=o}return e}const ie=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();let le=["South East","South West","East","West Midlands","East Midlands","North East","North West","Yorkshire and The Humber"],se=e=>le.includes(e)?"The "+e:e;function ce(e,t,n){const r=e.slice();return r[32]=t[n],r[35]=t,r[34]=n,r}function ue(e,t,n){const r=e.slice();return r[32]=t[n],r[33]=t,r[34]=n,r}function fe(e){let t,n,r,o,a,i,l,s=(e[0]?e[0]:"Select one")+"";return{c(){t=p("a"),n=p("span"),r=h(s),o=m(),a=p("span"),a.textContent=" ",v(n,"class","svelte-qdzmwx"),v(a,"class","button svelte-qdzmwx"),$(a,"search",e[3]),$(a,"down",!e[3]),v(t,"id","toggle"),v(t,"class","svelte-qdzmwx")},m(s,f){u(s,t,f),c(t,n),c(n,r),c(t,o),c(t,a),i||(l=y(t,"click",e[12]),i=!0)},p(e,t){1&t[0]&&s!==(s=(e[0]?e[0]:"Select one")+"")&&x(r,s),8&t[0]&&$(a,"search",e[3]),8&t[0]&&$(a,"down",!e[3])},d(e){e&&f(t),i=!1,l()}}}function de(e){let t,n,o,a,i,l,s,d,g=e[6][e[1]]+"",b=e[2]&&pe(e);return{c(){t=p("a"),n=p("span"),o=h(g),a=m(),b&&b.c(),i=m(),l=p("span"),l.textContent=" ",v(n,"class","selection svelte-qdzmwx"),v(l,"class","button close svelte-qdzmwx"),v(t,"id","toggle"),v(t,"class","selected svelte-qdzmwx")},m(r,f){u(r,t,f),c(t,n),c(n,o),c(n,a),b&&b.m(n,null),c(t,i),c(t,l),s||(d=[y(l,"click",e[14]),y(t,"click",e[12])],s=!0)},p(e,t){66&t[0]&&g!==(g=e[6][e[1]]+"")&&x(o,g),e[2]?b?b.p(e,t):(b=pe(e),b.c(),b.m(n,null)):b&&(b.d(1),b=null)},d(e){e&&f(t),b&&b.d(),s=!1,r(d)}}}function pe(e){let t,n,r=e[6][e[2]]+"";return{c(){t=p("small"),n=h(r),v(t,"class","svelte-qdzmwx")},m(e,r){u(e,t,r),c(t,n)},p(e,t){68&t[0]&&r!==(r=e[6][e[2]]+"")&&x(n,r)},d(e){e&&f(t)}}}function he(e){let t,n,o,a,i,l;function s(e,t){return e[4].length<3?ve:e[9][0]&&e[2]?ye:e[9][0]?ge:me}let d=s(e),h=d(e);return{c(){t=p("div"),n=p("input"),o=m(),a=p("ul"),h.c(),v(n,"type","text"),v(n,"placeholder",""),v(n,"autocomplete","false"),v(n,"class","svelte-qdzmwx"),v(a,"class","svelte-qdzmwx"),v(t,"id","dropdown"),w(t,"top","0"),v(t,"class","svelte-qdzmwx")},m(r,s){u(r,t,s),c(t,n),b(n,e[4]),e[23](n),c(t,o),c(t,a),h.m(a,null),e[30](t),i||(l=[y(n,"input",e[22]),y(n,"keyup",e[16])],i=!0)},p(e,t){16&t[0]&&n.value!==e[4]&&b(n,e[4]),d===(d=s(e))&&h?h.p(e,t):(h.d(1),h=d(e),h&&(h.c(),h.m(a,null)))},d(n){n&&f(t),e[23](null),h.d(),e[30](null),i=!1,r(l)}}}function me(t){let n;return{c(){n=p("li"),n.textContent="No results",v(n,"class","svelte-qdzmwx")},m(e,t){u(e,n,t)},p:e,d(e){e&&f(n)}}}function ge(e){let t,n=e[9],r=[];for(let t=0;t<n.length;t+=1)r[t]=xe(ce(e,n,t));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=g()},m(e,n){for(let t=0;t<r.length;t+=1)r[t].m(e,n);u(e,t,n)},p(e,o){if(11010&o[0]){let a;for(n=e[9],a=0;a<n.length;a+=1){const i=ce(e,n,a);r[a]?r[a].p(i,o):(r[a]=xe(i),r[a].c(),r[a].m(t.parentNode,t))}for(;a<r.length;a+=1)r[a].d(1);r.length=n.length}},d(e){d(r,e),e&&f(t)}}}function ye(e){let t,n=e[9],r=[];for(let t=0;t<n.length;t+=1)r[t]=be(ue(e,n,t));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=g()},m(e,n){for(let t=0;t<r.length;t+=1)r[t].m(e,n);u(e,t,n)},p(e,o){if(11014&o[0]){let a;for(n=e[9],a=0;a<n.length;a+=1){const i=ue(e,n,a);r[a]?r[a].p(i,o):(r[a]=be(i),r[a].c(),r[a].m(t.parentNode,t))}for(;a<r.length;a+=1)r[a].d(1);r.length=n.length}},d(e){d(r,e),e&&f(t)}}}function ve(t){let n;return{c(){n=p("li"),n.textContent="Type a name...",v(n,"class","svelte-qdzmwx")},m(e,t){u(e,n,t)},p:e,d(e){e&&f(n)}}}function xe(e){let t,n,o,a,i,l=e[32][e[1]]+"",s=e[34];function d(){return e[27](e[32])}function g(){return e[28](e[34])}const b=()=>e[29](t,s),w=()=>e[29](null,s);return{c(){t=p("li"),n=h(l),o=m(),v(t,"class","svelte-qdzmwx"),$(t,"highlight",e[8]==e[34])},m(e,r){u(e,t,r),c(t,n),c(t,o),b(),a||(i=[y(t,"click",d),y(t,"mouseover",g)],a=!0)},p(r,o){e=r,514&o[0]&&l!==(l=e[32][e[1]]+"")&&x(n,l),s!==e[34]&&(w(),s=e[34],b()),256&o[0]&&$(t,"highlight",e[8]==e[34])},d(e){e&&f(t),w(),a=!1,r(i)}}}function be(e){let t,n,o,a,i,l,s,d,g=e[32][e[1]]+"",b=e[32][e[2]]+"",w=e[34];function k(){return e[24](e[32])}function _(){return e[25](e[34])}const C=()=>e[26](t,w),j=()=>e[26](null,w);return{c(){t=p("li"),n=h(g),o=m(),a=p("small"),i=h(b),l=m(),v(a,"class","svelte-qdzmwx"),v(t,"class","svelte-qdzmwx"),$(t,"highlight",e[8]==e[34])},m(e,r){u(e,t,r),c(t,n),c(t,o),c(t,a),c(a,i),c(t,l),C(),s||(d=[y(t,"click",k),y(t,"mouseover",_)],s=!0)},p(r,o){e=r,514&o[0]&&g!==(g=e[32][e[1]]+"")&&x(n,g),516&o[0]&&b!==(b=e[32][e[2]]+"")&&x(i,b),w!==e[34]&&(j(),w=e[34],C()),256&o[0]&&$(t,"highlight",e[8]==e[34])},d(e){e&&f(t),j(),s=!1,r(d)}}}function we(t){let n,r,o,a;function i(e,t){return e[6]&&!e[3]?de:fe}let l=i(t),s=l(t),d=t[7]&&he(t);return{c(){n=p("div"),s.c(),r=m(),d&&d.c(),v(n,"id","select"),v(n,"class","svelte-qdzmwx"),$(n,"active",t[7])},m(e,i){u(e,n,i),s.m(n,null),c(n,r),d&&d.m(n,null),o||(a=y(n,"keydown",t[15]),o=!0)},p(e,t){l===(l=i(e))&&s?s.p(e,t):(s.d(1),s=l(e),s&&(s.c(),s.m(n,r))),e[7]?d?d.p(e,t):(d=he(e),d.c(),d.m(n,null)):d&&(d.d(1),d=null),128&t[0]&&$(n,"active",e[7])},i:e,o:e,d(e){e&&f(n),s.d(),d&&d.d(),o=!1,a()}}}function $e(e,t,n){let r;const o=j();let a,i,l,{options:s}=t,{selected:c=null}=t,{placeholder:u="Find an area..."}=t,{value:f="code"}=t,{label:d="name"}=t,{group:p=null}=t,{search:h=!1}=t,m=c,g=c?s.find((e=>{e[f],c[f]})):null,y=!1,v="",x=null,b=[];function w(e){n(17,c=e),n(7,y=!1),o("select",{selected:e,value:e[f]})}return e.$$set=e=>{"options"in e&&n(18,s=e.options),"selected"in e&&n(17,c=e.selected),"placeholder"in e&&n(0,u=e.placeholder),"value"in e&&n(19,f=e.value),"label"in e&&n(1,d=e.label),"group"in e&&n(2,p=e.group),"search"in e&&n(3,h=e.search)},e.$$.update=()=>{16&e.$$.dirty[0]&&n(21,r=v?new RegExp(v,"i"):null),2359298&e.$$.dirty[0]&&(n(9,a=r?s.filter((e=>r.test(e[d]))):s),n(8,x=0)),32&e.$$.dirty[0]&&(document.onclick=function(e){e.target!==i&&(n(7,y=!1),n(8,x=0))}),1966080&e.$$.dirty[0]&&m!=c&&(n(6,g=s.find((e=>e[f]==c[f]))),n(20,m=c))},[u,d,p,h,v,i,g,y,x,a,l,b,function(e){var t;e.stopPropagation(),n(4,v=""),n(7,y=!y),(t=10,new Promise((e=>setTimeout(e,t)))).then((()=>{l&&y&&l.focus()}))},w,function(e){e.stopPropagation(),n(17,c=null),n(20,m=null),n(6,g=null),o("select",{selected:null,value:null})},function(e){y&&a[0]&&Number.isInteger(x)&&(38===e.keyCode?(n(8,x-=x>0?1:0),b[x].scrollIntoView({block:"nearest",inline:"start"})):40===e.keyCode&&(n(8,x+=x<a.length-1?1:0),b[x].scrollIntoView({block:"nearest",inline:"end"})))},function(e){a[0]&&Number.isInteger(x)&&13===e.keyCode&&w(a[x])},c,s,f,m,r,function(){v=this.value,n(4,v)},function(e){T[e?"unshift":"push"]((()=>{l=e,n(10,l)}))},e=>w(e),e=>n(8,x=e),function(e,t){T[e?"unshift":"push"]((()=>{b[t]=e,n(11,b)}))},e=>w(e),e=>n(8,x=e),function(e,t){T[e?"unshift":"push"]((()=>{b[t]=e,n(11,b)}))},function(e){T[e?"unshift":"push"]((()=>{i=e,n(5,i)}))}]}class ke extends Y{constructor(e){super(),J(this,e,$e,we,a,{options:18,selected:17,placeholder:0,value:19,label:1,group:2,search:3},null,[-1,-1])}}function _e(t){let n;return{c(){n=p("div"),n.innerHTML="<strong>Warning!</strong> This is a prototype. Data likely to contain inaccuracies.",v(n,"class","warning svelte-srzfvi")},m(e,t){u(e,n,t)},p:e,i:e,o:e,d(e){e&&f(n)}}}class Ce extends Y{constructor(e){super(),J(this,e,null,_e,a,{})}}var je="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var Ee,Te,Ne=(Ee=function(e,t){(function(){var n={load:function(e,t){var n,r,o,a="\\u0000\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u200B\\u2028\\u2029\\u202F\\u205F\\u3000\\uFEFF\\u005B\\u005C\\u005D\\u007B\\u007D\\u003A",i=new RegExp(".*((\r|\n)+)"),l=new RegExp("^\\s*([^"+a+"]+)[ \t\r]*:[ \t\r]*(.*(?:\n|\r|$))"),s=new RegExp("^\\s*:[ \t\r]*(endskip|ignore|skip|end).*?(\n|\r|$)","i"),c=new RegExp("^\\s*\\*[ \t\r]*(.*(?:\n|\r|$))"),u=new RegExp("^\\s*(\\[|\\{)[ \t\r]*([+.]*)[ \t\r]*([^"+a+"]*)[ \t\r]*(?:\\]|\\}).*?(\n|\r|$)"),f={},d=f,p=[],h=void 0,m=null,g=null,y="",v=!1;for(!0!==(t=t||{}).comments&&(t.comments=!1);e;){var x;s.exec(e)?b((x=s.exec(e))[1].toLowerCase()):v||!l.exec(e)||h&&"simple"===h.arrayType?!v&&c.exec(e)&&h&&h.array&&"complex"!==h.arrayType&&"freeform"!==h.arrayType&&h.flags.indexOf("+")<0?(o=(x=c.exec(e))[1],C(),h.arrayType=h.arrayType||"simple",h.array.push(""),g=h.array,y=o,j(h.array,{replace:!0})):!v&&u.exec(e)?w((x=u.exec(e))[1],x[2],x[3]):i.exec(e)?$((x=i.exec(e))[0]):($(e),e=""):(n=(x=l.exec(e))[1],r=x[2]||"",C(),k(n),h&&h.flags.indexOf("+")>-1&&(n="value"),g=n,y=r,j(n,{replace:!0})),x&&(e=e.substring(x[0].length))}function b(t){if(v&&"endskip"!==t&&"ignore"!==t)return C();switch(t){case"end":return void(g&&j(g,{replace:!1}));case"ignore":e="";break;case"skip":v=!0;break;case"endskip":v=!1}C()}function w(e,t,n){if(C(),""==n){var r=p.pop();d=(r?r.scope:f)||f,h=p[p.length-1]}else if("["===e||"{"===e){var o=!1,a=f;if(t.indexOf(".")>-1?(k(n),o=!0,h&&(a=d)):(d=f,p=[]),h&&h.flags.indexOf("+")>-1)var i=n;else{for(var l=n.split("."),s=0;s<l.length-1;s++)a=a[l[s]]=a[l[s]]||{};i=l[l.length-1]}var c={array:null,arrayType:null,arrayFirstKey:null,flags:t,scope:d},u=h&&h.flags.indexOf("+")>-1&&t.indexOf(".")>-1;"["==e?(u&&(i="value"),c.array=a[i]=[],t.indexOf("+")>-1&&(c.arrayType="freeform"),o?p.push(c):p=[c],h=p[p.length-1]):"{"==e&&(o?(d=u?d.value={}:a[i]=a={},p.push(c)):(d=a[i]="object"==typeof a[i]?a[i]:{},p=[c]),h=p[p.length-1])}}function $(t){h&&h.flags.indexOf("+")>-1&&t.match(/[^\n\r\s]/)?h.array.push({type:"text",value:t.replace(/(^\s*)|(\s*$)/g,"")}):y+=e.substring(0,t.length)}function k(e){if(h&&h.array){if(h.arrayType=h.arrayType||"complex","simple"===h.arrayType)return;null!==h.arrayFirstKey&&h.arrayFirstKey!==e||h.array.push(d={}),h.flags.indexOf("+")>-1?d.type=e:h.arrayFirstKey=h.arrayFirstKey||e}}function _(e,n){return t.comments&&(e=(e=e.replace(/(?:^\\)?\[[^\[\]\n\r]*\](?!\])/gm,"")).replace(/\[\[([^\[\]\n\r]*)\]\]/g,"[$1]")),"append"==n&&(e=e.replace(new RegExp("^(\\s*)\\\\","gm"),"$1")),e}function C(){var e=y+"";return y="",g=null,e}function j(e,t){t=t||{};var n=g,r=C();if(t.replace?(r=_(r,"replace").replace(new RegExp("^\\s*"),""),y=new RegExp("\\s*$").exec(r)[0],g=n):r=_(r,"append"),"object"==typeof e)t.replace&&(e[e.length-1]=""),e[e.length-1]+=r.replace(new RegExp("\\s*$"),"");else{var o=e.split(".");m=d;for(var a=0;a<o.length-1;a++)"string"==typeof m[o[a]]&&(m[o[a]]={}),m=m[o[a]]=m[o[a]]||{};t.replace&&(m[o[o.length-1]]=""),m[o[o.length-1]]+=r.replace(new RegExp("\\s*$"),"")}}return C(),f}};e.exports&&(t=e.exports=n),t.archieml=n}).call(je)},Ee(Te={exports:{}},Te.exports),Te.exports);const ze=e=>{if(e<10)return["","first","second","third","fourth","fifth","sixth","seventh","eighth","ninth"][e];const t=e%10,n=e%100;return 1===t&&11!==n?e+"st":2===t&&12!==n?e+"nd":3===t&&13!==n?e+"rd":e+"th"},{document:Ae}=B;function Me(e){let t,n,r=e[5]&&Oe(e);return{c(){r&&r.c(),t=g()},m(e,o){r&&r.m(e,o),u(e,t,o),n=!0},p(e,n){e[5]?r?(r.p(e,n),32&n&&U(r,1)):(r=Oe(e),r.c(),U(r,1),r.m(t.parentNode,t)):r&&(W(),I(r,1,1,(()=>{r=null})),P())},i(e){n||(U(r),n=!0)},o(e){I(r),n=!1},d(e){r&&r.d(e),e&&f(t)}}}function Oe(e){let t,n,r=e[3]&&Re(e);return{c(){r&&r.c(),t=g()},m(e,o){r&&r.m(e,o),u(e,t,o),n=!0},p(e,n){e[3]?r?(r.p(e,n),8&n&&U(r,1)):(r=Re(e),r.c(),U(r,1),r.m(t.parentNode,t)):r&&(W(),I(r,1,1,(()=>{r=null})),P())},i(e){n||(U(r),n=!0)},o(e){I(r),n=!1},d(e){r&&r.d(e),e&&f(t)}}}function Re(e){let t,n,r=e[4]&&Se(e);return{c(){r&&r.c(),t=g()},m(e,o){r&&r.m(e,o),u(e,t,o),n=!0},p(e,n){e[4]?r?(r.p(e,n),16&n&&U(r,1)):(r=Se(e),r.c(),U(r,1),r.m(t.parentNode,t)):r&&(W(),I(r,1,1,(()=>{r=null})),P())},i(e){n||(U(r),n=!0)},o(e){I(r),n=!1},d(e){r&&r.d(e),e&&f(t)}}}function Se(e){let t,n,r,o,a,i,l,s,d,g,b,$,_,C,j,E,N,A,M,O,R,S,q,F,D,K,W,P,B,Z,J,Y,G,Q,X,ee,te,ne,re,oe=e[2].name+"",ae=e[8](e[2])+"",ie=e[2].gss+"",le=e[9](e[2])+"";function se(t){e[10](t)}let ce={options:e[0],group:"typenm",search:!0};return void 0!==e[1]&&(ce.selected=e[1]),d=new ke({props:ce}),T.push((()=>function(e,t,n){const r=e.$$.props[t];void 0!==r&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}(d,"selected",se))),d.$on("select",e[11]),{c(){t=p("div"),n=p("div"),r=p("h1"),o=h(oe),a=h(": What's changed"),i=m(),l=p("div"),s=p("div"),L(d.$$.fragment),b=m(),$=new k,_=m(),C=p("p"),j=h("Here are some of the "),E=p("span"),E.textContent="most notable changes",N=h(" from across the "),A=h(ie),M=h("."),O=m(),R=p("main"),S=new k,q=m(),F=p("hr"),D=m(),K=p("h2"),K.textContent="Creating this article",W=m(),P=p("p"),P.textContent="This article has been generated using a semi-automated system for story selection and data-to-text templating.",B=m(),Z=p("p"),Z.textContent="The system relies upon a computer programme to decide which topics are relevant to specific areas and describe the data in words.",J=m(),Y=p("p"),Y.textContent="For each local authority district, the variables that have changed the most since 2011 are selected automatically. Variables that have experienced a considerably larger or smaller change than the regional or national averages are also selected.",G=m(),Q=p("p"),Q.textContent="The decisions made by the computer programme were coded by staff in the ONS Digital Publishing team in advance of the release of Census 2021 data.",X=m(),ee=p("div"),v(r,"class","svelte-zz8eih"),w(s,"width","640px"),w(s,"margin","50px auto"),$.a=_,v(E,"class","back-to-top svelte-zz8eih"),w(n,"width","640px"),w(n,"margin","0 auto"),v(t,"id","sf"),v(t,"class","svelte-zz8eih"),S.a=q,w(F,"width","40%"),w(F,"margin","60px auto 30px auto"),v(K,"id","create"),w(ee,"height","200px"),v(R,"class","svelte-zz8eih")},m(e,f){u(e,t,f),c(t,n),c(n,r),c(r,o),c(r,a),c(n,i),c(n,l),c(l,s),H(d,s,null),c(n,b),$.m(ae,n),c(n,_),c(n,C),c(C,j),c(C,E),c(C,N),c(C,A),c(C,M),u(e,O,f),u(e,R,f),S.m(le,R),c(R,q),c(R,F),c(R,D),c(R,K),c(R,W),c(R,P),c(R,B),c(R,Z),c(R,J),c(R,Y),c(R,G),c(R,Q),c(R,X),c(R,ee),te=!0,ne||(re=y(E,"click",Ke),ne=!0)},p(e,t){(!te||4&t)&&oe!==(oe=e[2].name+"")&&x(o,oe);const n={};1&t&&(n.options=e[0]),!g&&2&t&&(g=!0,n.selected=e[1],function(e){z.push(e)}((()=>g=!1))),d.$set(n),(!te||4&t)&&ae!==(ae=e[8](e[2])+"")&&$.p(ae),(!te||4&t)&&ie!==(ie=e[2].gss+"")&&x(A,ie),(!te||4&t)&&le!==(le=e[9](e[2])+"")&&S.p(le)},i(e){te||(U(d.$$.fragment,e),te=!0)},o(e){I(d.$$.fragment,e),te=!1},d(e){e&&f(t),V(d),e&&f(O),e&&f(R),ne=!1,re()}}}function qe(e){let t,n,r,o,a,i,l,d,h,g,x;i=new Ce({});let b=e[2]&&Me(e);return{c(){t=p("script"),r=p("script"),a=m(),L(i.$$.fragment),l=m(),d=p("div"),b&&b.c(),s(t.src,n="http://d3js.org/d3.v3.min.js")||v(t,"src","http://d3js.org/d3.v3.min.js"),v(t,"charset","utf-8"),s(r.src,o="https://unpkg.com/rosaenlg@3.0.1/dist/rollup/rosaenlg_tiny_en_US_3.0.1_comp.js")||v(r,"src","https://unpkg.com/rosaenlg@3.0.1/dist/rollup/rosaenlg_tiny_en_US_3.0.1_comp.js")},m(n,o){c(Ae.head,t),c(Ae.head,r),u(n,a,o),H(i,n,o),u(n,l,o),u(n,d,o),b&&b.m(d,null),h=!0,g||(x=y(r,"load",e[6]),g=!0)},p(e,[t]){e[2]?b?(b.p(e,t),4&t&&U(b,1)):(b=Me(e),b.c(),U(b,1),b.m(d,null)):b&&(W(),I(b,1,1,(()=>{b=null})),P())},i(e){h||(U(i.$$.fragment,e),U(b),h=!0)},o(e){I(i.$$.fragment,e),I(b),h=!1},d(e){f(t),f(r),e&&f(a),V(i,e),e&&f(l),e&&f(d),b&&b.d(),g=!1,x()}}}function Fe(e){let t,n=Number.parseFloat(Number.parseFloat(e).toPrecision(2));return e-n<-e/100&&(t="under "),t=e-n<-e/200?1==Math.round(Math.random())?"almost ":"just under ":e-n>e/100?" just over ":e-n>e/200?"just over ":"about ",[t,n]}function De(e){return Math.ceil(5*e/331)}function Ke(){document.getElementById("create").scrollIntoView()}function We(e,t,n){var r,o,a;fetch("./archie.aml").then((e=>e.text())).then((e=>r=Ne.load(e))),fetch("./puggy.pug").then((e=>e.text())).then((e=>o=e)),fetch("./standf.pug").then((e=>e.text())).then((e=>a=e));const i={ew:{name:"",pl:""},wd:{name:"Ward",pl:"Wards"},lad:{name:"District",pl:"Districts"},rgn:{name:"Region",pl:"Regions"},ctry:{name:"Country",pl:"Countries"}};var l,s,c,u,f,d,p,h,m,g,y;let v=!1;function x(e){fetch("https://raw.githubusercontent.com/theojolliffe/census-data/main/json/place/"+e+".json").then((e=>e.json())).then((t=>{t.children=l.filter((t=>t.parent==e)),t.siblings=l.filter((e=>e.parent==t.parents[0].code)),n(2,c=t),(m=c.stories.map((e=>e.label.split("_")))).forEach((e=>{e.length>4&&(e[3]=e[3]+"_"+e[4],e.pop())})),console.log("s",m),p=c.parents[0].code,console.log("Place",c),u=m.map((e=>parseInt(c.data[e[0]][e[1]+"_rank_local"][e[2]][e[3]]))),g=m.map((e=>parseInt(c.data[e[0]][e[1]+"_rank"][e[2]][e[3]]))),f=m.map((e=>parseInt(c.data[e[0]][e[1]+"_rank_local"][2011][e[3]]))),y=m.map((e=>parseInt(c.data[e[0]][e[1]+"_rank"][2011][e[3]]))),fetch("https://raw.githubusercontent.com/theojolliffe/census-data/main/json/place/"+p+".json").then((e=>e.json())).then((t=>{t.children=l.filter((t=>t.parent==e)),t.siblings=l.filter((e=>e.parent==t.parents[0].code)),n(4,h=t)}))})),fetch("https://raw.githubusercontent.com/theojolliffe/census-data/main/json/place/E92000001.json").then((e=>e.json())).then((t=>{t.children=l.filter((t=>t.parent==e)),t.siblings=l.filter((e=>e.parent==t.parents[0].code)),n(3,d=t)}))}(async function(e){let t=await fetch(e),n=await t.text();return await oe(n,ae)})("https://raw.githubusercontent.com/theojolliffe/census-data/main/csv/lists/places_2020.csv").then((e=>{e.forEach((e=>{e.typepl=i[e.type].pl,e.typenm=i[e.type].name})),e=e.filter((e=>"lad"==e.type)),n(0,l=e.sort(((e,t)=>e.name.localeCompare(t.name)))),n(1,s=l.find((e=>"Manchester"==e.name))),x(s.code)}));let b={1:"ballooned",2:"grew",3:"remained relatively stable",4:"shrunk",5:"fell sharply"},w={one:1,"quarter of a million":25e4,"half a million":5e5,"three quarters of a million":75e4},$={"one in two":.5,"one in three":.333,"one in four":.25,"one in five":.2,"one in six":.167,"one in seven":.143,"one in eight":.125,"one in nine":.111,"1 in 10":.1,"1 in 11":.09,"1 in 12":.083,"1 in 13":.077,"1 in 14":.071,"1 in 15":.067,"1 in 16":.063,"1 in 17":.059,"1 in 18":.056,"1 in 19":.053,"1 in 20":.05,"2 in 10":.2,"3 in 10":.3,"4 in 10":.4,"6 in 10":.6,"7 in 10":.7,"8 in 10":.8,"9 in 10":.9,all:1};function k(e,t){let n;"frac"==t?t=$:"num"==t&&(t=w);let r,o=2e6;for(const a in t)Math.abs(e-t[a])<o&&(o=Math.abs(e-t[a]),r=a,e-t[a]==0?n="about":e-t[a]>0?n="just over":e-t[a]<0&&(n="just under"));return[n,r]}let _={good:["bad","fair"],bad:["good","fair"],white:["black","asian"],rented_private:["rented_social","owned"],inactive:["employee","unemployed","self-employed"],"self-employed":["employee","unemployed","inactive"],employee:["inactive","unemployed","self-employed"],unemployed:["employee","inactive","self-employed"],car_van:["bus","train_metro","foot","home"],bus:["car_van","train_metro","foot","home"],train_metro:["bus","car_van","foot","home"],foot:["bus","train_metro","car_van","home"],home:["bus","train_metro","foot","car_van"],OnePerson:["Married","LoneParent","Cohabiting"],Christian:["Muslim","Noreligion"],Single:["Married","Seperated"],Married:["Single","Seperated"],Seperated:["Married","Single"],"40PlushoursWeek":["20to49hoursWeek","1to19hoursWeek"],"20to49hoursWeek":["40PlushoursWeek","1to19hoursWeek"],"1to19hoursWeek":["40PlushoursWeek","20to49hoursWeek"],Kids:["NoKids","NonDepKids"],NoKids:["Kids","NonDepKids"],NonDepKids:["Kids","NoKids"],"Male1-15":["Male49plus"],Male49plus:["Male1-15"]};function j(e,t){return t="rl"==t?"_rank_local":"r"==t?"_rank":"",c.data[m[e][0]][m[e][1]+t][2011][m[e][3]]}function E(e,t){return t="rl"==t?"_rank_local":"r"==t?"_rank":"",c.data[m[e][0]][m[e][1]+t].change[m[e][3]]}!function(e){C().$$.on_mount.push(e)}((()=>{setTimeout((function(){d3.selectAll("div#visph").attr("style","\n\t\t\tbackground-color: #f6f6f6; \n\t\t\tcolor: #e1e7ea; \n\t\t\theight: 240px;\n\t\t\tpadding: 80px;\n\t\t\tfont-size: 3rem;\n\t\t\tfont-weight: 600;\n\t\t\tmargin-bottom: 80px;")}),600)}));return[l,s,c,d,h,v,()=>{n(5,v=!0)},x,function(e){let t=[],n=0;return e.stories.forEach((e=>{t.length<4&Math.abs(e.value)>4&&(t.push(e.label.split("_")),n+=Math.abs(e.value))})),rosaenlg_en_US.render(a,{language:"en_UK",place:e,topics:r,s:m,sf:t,grewSyn:b,qui:De,natRankCha:g})},function(e){const t=n=>{Object.keys(n).forEach((r=>{"object"==typeof n[r]?t(n[r]):n[r]=((e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a string, got "+typeof e);let n=1,r=e.charAt(0);const o=function(){return r},a=function(t){throw JSON.stringify({name:"Robo-journalist error",message:t,at:n,text:e})},i=function(t){return t&&t!==r&&a("Expected '"+t+"' instead of '"+r+"'"),r=e.charAt(n),n+=1,r},l=function(e){const n=e.split(".");let r=t;for(const t of n)try{r=r[t]}catch{a(`${e} is not in the data dictionary.`)}return r},s=function(e){const t=e.split(" "),n={"+":(e,t)=>e+t,"-":(e,t)=>e-t,"*":(e,t)=>e*t,"/":(e,t)=>e/t,"<":(e,t)=>e<t,">":(e,t)=>e>t,"<=":(e,t)=>e<=t,">=":(e,t)=>e>=t},r=[];for(const e of t)if(/^-?\d+$/.test(e))r.push(Number(e));else if(e in n){const t=Number(r.pop()),o=Number(r.pop());r.push(n[e](o,t))}else if("'"===e)r[r.length-1]="s"===(o=r[r.length-1])[o.length-1]?o+"'":o+"'s";else if(","===e)r[r.length-1]=r[r.length-1].toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");else if(".0"===e)r[r.length-1]=r[r.length-1].toFixed(0);else if(".1"===e)r[r.length-1]=r[r.length-1].toFixed(1);else if(".2"===e)r[r.length-1]=r[r.length-1].toFixed(2);else if("~abs"===e)r[r.length-1]=Math.abs(r[r.length-1]);else if("~ord"===e)r[r.length-1]=ze(Number(r[r.length-1]));else if("~ord'"===e){let e=ze(Number(r.pop()));"first"===e?e="":e+=" ",r.push(e)}else"^"===e.charAt(0)?r[r.length-1]=l(e.slice(1))(r[r.length-1]):r.push(l(e));var o;return 1!==r.length&&a("Invalid RPN"),r[0]},c=function(e){i("?");const t=f();i(":");const n=f();return i("}"),e?t:n},u=function(){if(i("{"),":"===r)return i(":"),i("}"),":";let e="";for(;o();){if("}"===r)return i("}"),s(e);if("?"===r)return c(s(e));e+=r,i()}a("Braces not closed")},f=function(){let e="";for(;o();){if(":"===r||"}"===r)return e;"{"!==r?(e+=r,i()):e+=u()}return e},d=f();return""!==r&&a(`Didn't expect '${r}'`),d})(n[r],{plcname:e.name})}))};function n(e){return e.charAt(0).toUpperCase()+e.slice(1)}return t(r),console.log("topics",r),rosaenlg_en_US.render(o,{language:"en_UK",place:e,data:e.data,eng:d,rgn:h,parent:(a=se(e.parents[0].name),"The"==a.slice(0,3)?a.charAt(0).toLowerCase()+a.slice(1):a),s:m,priorities:e.Priorities,grewSyn:b,locRankCha:u,natRankCha:g,locRankCur:f,natRankCur:y,hiRank:e.hiRank,topic:function(e,t){let n;return n=t||m[e][3],r[m[e][0]][n]},topics:r,chains:_,country:"England",get_word:k,figs:Fe,otherEst:function(t,n,r){"number"==typeof n&n<0?n="highest":"number"==typeof n&&(n="lowest");let o,a=Object.assign({},e.data[m[t][0]][m[t][1]+"_rank_local"][r]),i=new Set(_[m[t][3]]);for(let e of Object.keys(a))i.has(e)||delete a[e];if(Object.keys(a).length>1){if("lowest"==n){for(let[e,t]of Object.entries(a))t>0&&delete a[e];o=Object.keys(a).reduce(((e,t)=>a[e]>a[t]?e:t))}if("highest"==n){for(let[e,t]of Object.entries(a))t<0&&delete a[e];o=Object.keys(a).reduce(((e,t)=>a[e]<a[t]?e:t))}}else o=Object.keys(a);return o},cur:j,cha:E,qui:De,cap:n,cap:n});var a},function(e){n(1,s=e)},()=>{s&&x(s.code)}]}return new class extends Y{constructor(e){super(),J(this,e,We,qe,a,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
