var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function r(e){e.forEach(t)}function o(e){return"function"==typeof e}function a(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let l,i;function c(e,t){return l||(l=document.createElement("a")),l.href=t,e===l.href}function u(t,n,r){t.$$.on_destroy.push(function(t,...n){if(null==t)return e;const r=t.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}(n,r))}function d(e,t,n,r){if(e){const o=p(e,t,n,r);return e[0](o)}}function p(e,t,n,r){return e[1]&&r?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](r(t))):n.ctx}function f(e,t,n,r){if(e[2]&&r){const o=e[2](r(n));if(void 0===t.dirty)return o;if("object"==typeof o){const e=[],n=Math.max(t.dirty.length,o.length);for(let r=0;r<n;r+=1)e[r]=t.dirty[r]|o[r];return e}return t.dirty|o}return t.dirty}function h(e,t,n,r,o,a){if(o){const l=p(t,n,r,a);e.p(l,o)}}function m(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}function g(e,t){e.appendChild(t)}function $(e,t,n){e.insertBefore(t,n||null)}function b(e){e.parentNode.removeChild(e)}function y(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function v(e){return document.createElement(e)}function _(e){return document.createTextNode(e)}function x(){return _(" ")}function w(){return _("")}function k(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function j(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function C(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function N(e,t){e.value=null==t?"":t}function E(e,t,n,r){e.style.setProperty(t,n,r?"important":"")}function T(e,t,n){e.classList[n?"add":"remove"](t)}class M{constructor(){this.e=this.n=null}c(e){this.h(e)}m(e,t,n=null){this.e||(this.e=v(t.nodeName),this.t=t,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)$(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(b)}}function S(e){i=e}function O(){if(!i)throw new Error("Function called outside component initialization");return i}function R(e){O().$$.on_mount.push(e)}function q(e){O().$$.on_destroy.push(e)}function A(){const e=O();return(t,n)=>{const r=e.$$.callbacks[t];if(r){const o=function(e,t,n=!1){const r=document.createEvent("CustomEvent");return r.initCustomEvent(e,n,!1,t),r}(t,n);r.slice().forEach((t=>{t.call(e,o)}))}}}function F(e){return O().$$.context.get(e)}const P=[],z=[],K=[],W=[],D=Promise.resolve();let U=!1;function B(e){K.push(e)}function H(e){W.push(e)}let I=!1;const L=new Set;function J(){if(!I){I=!0;do{for(let e=0;e<P.length;e+=1){const t=P[e];S(t),V(t.$$)}for(S(null),P.length=0;z.length;)z.pop()();for(let e=0;e<K.length;e+=1){const t=K[e];L.has(t)||(L.add(t),t())}K.length=0}while(P.length);for(;W.length;)W.pop()();U=!1,I=!1,L.clear()}}function V(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(B)}}const Z=new Set;let Q;function Y(){Q={r:0,c:[],p:Q}}function G(){Q.r||r(Q.c),Q=Q.p}function X(e,t){e&&e.i&&(Z.delete(e),e.i(t))}function ee(e,t,n,r){if(e&&e.o){if(Z.has(e))return;Z.add(e),Q.c.push((()=>{Z.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}}const te="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function ne(e,t,n){const r=e.$$.props[t];void 0!==r&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}function re(e){e&&e.c()}function oe(e,n,a,l){const{fragment:i,on_mount:s,on_destroy:c,after_update:u}=e.$$;i&&i.m(n,a),l||B((()=>{const n=s.map(t).filter(o);c?c.push(...n):r(n),e.$$.on_mount=[]})),u.forEach(B)}function ae(e,t){const n=e.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function le(e,t){-1===e.$$.dirty[0]&&(P.push(e),U||(U=!0,D.then(J)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function ie(t,o,a,l,s,c,u,d=[-1]){const p=i;S(t);const f=t.$$={fragment:null,ctx:null,props:c,update:e,not_equal:s,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o.context||(p?p.$$.context:[])),callbacks:n(),dirty:d,skip_bound:!1,root:o.target||p.$$.root};u&&u(f.root);let h=!1;if(f.ctx=a?a(t,o.props||{},((e,n,...r)=>{const o=r.length?r[0]:n;return f.ctx&&s(f.ctx[e],f.ctx[e]=o)&&(!f.skip_bound&&f.bound[e]&&f.bound[e](o),h&&le(t,e)),n})):[],f.update(),h=!0,r(f.before_update),f.fragment=!!l&&l(f.ctx),o.target){if(o.hydrate){const e=function(e){return Array.from(e.childNodes)}(o.target);f.fragment&&f.fragment.l(e),e.forEach(b)}else f.fragment&&f.fragment.c();o.intro&&X(t.$$.fragment),oe(t,o.target,o.anchor,o.customElement),J()}S(p)}class se{$destroy(){ae(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function ce(t){let n;return{c(){n=v("div"),n.innerHTML="<strong>Warning!</strong> This is a prototype. Data likely to contain inaccuracies.",j(n,"class","warning svelte-srzfvi")},m(e,t){$(e,n,t)},p:e,i:e,o:e,d(e){e&&b(n)}}}class ue extends se{constructor(e){super(),ie(this,e,null,ce,a,{})}}var de={},pe={};function fe(e){return new Function("d","return {"+e.map((function(e,t){return JSON.stringify(e)+": d["+t+'] || ""'})).join(",")+"}")}function he(e){var t=Object.create(null),n=[];return e.forEach((function(e){for(var r in e)r in t||n.push(t[r]=r)})),n}function me(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function ge(e){var t,n=e.getUTCHours(),r=e.getUTCMinutes(),o=e.getUTCSeconds(),a=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":((t=e.getUTCFullYear())<0?"-"+me(-t,6):t>9999?"+"+me(t,6):me(t,4))+"-"+me(e.getUTCMonth()+1,2)+"-"+me(e.getUTCDate(),2)+(a?"T"+me(n,2)+":"+me(r,2)+":"+me(o,2)+"."+me(a,3)+"Z":o?"T"+me(n,2)+":"+me(r,2)+":"+me(o,2)+"Z":r||n?"T"+me(n,2)+":"+me(r,2)+"Z":"")}var $e=function(e){var t=new RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function r(e,t){var r,o=[],a=e.length,l=0,i=0,s=a<=0,c=!1;function u(){if(s)return pe;if(c)return c=!1,de;var t,r,o=l;if(34===e.charCodeAt(o)){for(;l++<a&&34!==e.charCodeAt(l)||34===e.charCodeAt(++l););return(t=l)>=a?s=!0:10===(r=e.charCodeAt(l++))?c=!0:13===r&&(c=!0,10===e.charCodeAt(l)&&++l),e.slice(o+1,t-1).replace(/""/g,'"')}for(;l<a;){if(10===(r=e.charCodeAt(t=l++)))c=!0;else if(13===r)c=!0,10===e.charCodeAt(l)&&++l;else if(r!==n)continue;return e.slice(o,t)}return s=!0,e.slice(o,a)}for(10===e.charCodeAt(a-1)&&--a,13===e.charCodeAt(a-1)&&--a;(r=u())!==pe;){for(var d=[];r!==de&&r!==pe;)d.push(r),r=u();t&&null==(d=t(d,i++))||o.push(d)}return o}function o(t,n){return t.map((function(t){return n.map((function(e){return l(t[e])})).join(e)}))}function a(t){return t.map(l).join(e)}function l(e){return null==e?"":e instanceof Date?ge(e):t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}return{parse:function(e,t){var n,o,a=r(e,(function(e,r){if(n)return n(e,r-1);o=e,n=t?function(e,t){var n=fe(e);return function(r,o){return t(n(r),o,e)}}(e,t):fe(e)}));return a.columns=o||[],a},parseRows:r,format:function(t,n){return null==n&&(n=he(t)),[n.map(l).join(e)].concat(o(t,n)).join("\n")},formatBody:function(e,t){return null==t&&(t=he(e)),o(e,t).join("\n")},formatRows:function(e){return e.map(a).join("\n")},formatRow:a,formatValue:l}}(","),be=$e.parse;function ye(e){for(var t in e){var n,r,o=e[t].trim();if(o)if("true"===o)o=!0;else if("false"===o)o=!1;else if("NaN"===o)o=NaN;else if(isNaN(n=+o)){if(!(r=o.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;ve&&r[4]&&!r[7]&&(o=o.replace(/-/g,"/").replace(/T/," ")),o=new Date(o)}else o=n;else o=null;e[t]=o}return e}const ve=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();let _e=["South East","South West","East","West Midlands","East Midlands","North East","North West"];function xe(e,t){return"East"==e&&(e+=" England"),!_e.includes(e)|"NT"==t?e:"The "+e}function we(e){return"The"==e.slice(0,3)?e.charAt(0).toLowerCase()+e.slice(1):e}function ke(e,t,n){const r=e.slice();return r[32]=t[n],r[35]=t,r[34]=n,r}function je(e,t,n){const r=e.slice();return r[32]=t[n],r[33]=t,r[34]=n,r}function Ce(e){let t,n,r,o,a,l,i,s=(e[0]?e[0]:"Select one")+"";return{c(){t=v("a"),n=v("span"),r=_(s),o=x(),a=v("span"),a.textContent=" ",j(n,"class","svelte-qdzmwx"),j(a,"class","button svelte-qdzmwx"),T(a,"search",e[3]),T(a,"down",!e[3]),j(t,"id","toggle"),j(t,"class","svelte-qdzmwx")},m(s,c){$(s,t,c),g(t,n),g(n,r),g(t,o),g(t,a),l||(i=k(t,"click",e[12]),l=!0)},p(e,t){1&t[0]&&s!==(s=(e[0]?e[0]:"Select one")+"")&&C(r,s),8&t[0]&&T(a,"search",e[3]),8&t[0]&&T(a,"down",!e[3])},d(e){e&&b(t),l=!1,i()}}}function Ne(e){let t,n,o,a,l,i,s,c,u=e[6][e[1]]+"",d=e[2]&&Ee(e);return{c(){t=v("a"),n=v("span"),o=_(u),a=x(),d&&d.c(),l=x(),i=v("span"),i.textContent=" ",j(n,"class","selection svelte-qdzmwx"),j(i,"class","button close svelte-qdzmwx"),j(t,"id","toggle"),j(t,"class","selected svelte-qdzmwx")},m(r,u){$(r,t,u),g(t,n),g(n,o),g(n,a),d&&d.m(n,null),g(t,l),g(t,i),s||(c=[k(i,"click",e[14]),k(t,"click",e[12])],s=!0)},p(e,t){66&t[0]&&u!==(u=e[6][e[1]]+"")&&C(o,u),e[2]?d?d.p(e,t):(d=Ee(e),d.c(),d.m(n,null)):d&&(d.d(1),d=null)},d(e){e&&b(t),d&&d.d(),s=!1,r(c)}}}function Ee(e){let t,n,r=e[6][e[2]]+"";return{c(){t=v("small"),n=_(r),j(t,"class","svelte-qdzmwx")},m(e,r){$(e,t,r),g(t,n)},p(e,t){68&t[0]&&r!==(r=e[6][e[2]]+"")&&C(n,r)},d(e){e&&b(t)}}}function Te(e){let t,n,o,a,l,i;function s(e,t){return e[4].length<0?Re:e[9][0]&&e[2]?Oe:e[9][0]?Se:Me}let c=s(e),u=c(e);return{c(){t=v("div"),n=v("input"),o=x(),a=v("ul"),u.c(),j(n,"type","text"),j(n,"placeholder",""),j(n,"autocomplete","false"),j(n,"class","svelte-qdzmwx"),j(a,"class","svelte-qdzmwx"),j(t,"id","dropdown"),E(t,"top","0"),j(t,"class","svelte-qdzmwx")},m(r,s){$(r,t,s),g(t,n),N(n,e[4]),e[23](n),g(t,o),g(t,a),u.m(a,null),e[30](t),l||(i=[k(n,"input",e[22]),k(n,"keyup",e[16])],l=!0)},p(e,t){16&t[0]&&n.value!==e[4]&&N(n,e[4]),c===(c=s(e))&&u?u.p(e,t):(u.d(1),u=c(e),u&&(u.c(),u.m(a,null)))},d(n){n&&b(t),e[23](null),u.d(),e[30](null),l=!1,r(i)}}}function Me(t){let n;return{c(){n=v("li"),n.textContent="No results",j(n,"class","svelte-qdzmwx")},m(e,t){$(e,n,t)},p:e,d(e){e&&b(n)}}}function Se(e){let t,n=e[9],r=[];for(let t=0;t<n.length;t+=1)r[t]=qe(ke(e,n,t));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=w()},m(e,n){for(let t=0;t<r.length;t+=1)r[t].m(e,n);$(e,t,n)},p(e,o){if(11010&o[0]){let a;for(n=e[9],a=0;a<n.length;a+=1){const l=ke(e,n,a);r[a]?r[a].p(l,o):(r[a]=qe(l),r[a].c(),r[a].m(t.parentNode,t))}for(;a<r.length;a+=1)r[a].d(1);r.length=n.length}},d(e){y(r,e),e&&b(t)}}}function Oe(e){let t,n=e[9],r=[];for(let t=0;t<n.length;t+=1)r[t]=Ae(je(e,n,t));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=w()},m(e,n){for(let t=0;t<r.length;t+=1)r[t].m(e,n);$(e,t,n)},p(e,o){if(11014&o[0]){let a;for(n=e[9],a=0;a<n.length;a+=1){const l=je(e,n,a);r[a]?r[a].p(l,o):(r[a]=Ae(l),r[a].c(),r[a].m(t.parentNode,t))}for(;a<r.length;a+=1)r[a].d(1);r.length=n.length}},d(e){y(r,e),e&&b(t)}}}function Re(t){let n;return{c(){n=v("li"),n.textContent="Type a name...",j(n,"class","svelte-qdzmwx")},m(e,t){$(e,n,t)},p:e,d(e){e&&b(n)}}}function qe(e){let t,n,o,a,l,i=e[32][e[1]]+"",s=e[34];function c(){return e[27](e[32])}function u(){return e[28](e[34])}const d=()=>e[29](t,s),p=()=>e[29](null,s);return{c(){t=v("li"),n=_(i),o=x(),j(t,"class","svelte-qdzmwx"),T(t,"highlight",e[8]==e[34])},m(e,r){$(e,t,r),g(t,n),g(t,o),d(),a||(l=[k(t,"click",c),k(t,"mouseover",u)],a=!0)},p(r,o){e=r,514&o[0]&&i!==(i=e[32][e[1]]+"")&&C(n,i),s!==e[34]&&(p(),s=e[34],d()),256&o[0]&&T(t,"highlight",e[8]==e[34])},d(e){e&&b(t),p(),a=!1,r(l)}}}function Ae(e){let t,n,o,a,l,i,s,c,u=e[32][e[1]]+"",d=e[32][e[2]]+"",p=e[34];function f(){return e[24](e[32])}function h(){return e[25](e[34])}const m=()=>e[26](t,p),y=()=>e[26](null,p);return{c(){t=v("li"),n=_(u),o=x(),a=v("small"),l=_(d),i=x(),j(a,"class","svelte-qdzmwx"),j(t,"class","svelte-qdzmwx"),T(t,"highlight",e[8]==e[34])},m(e,r){$(e,t,r),g(t,n),g(t,o),g(t,a),g(a,l),g(t,i),m(),s||(c=[k(t,"click",f),k(t,"mouseover",h)],s=!0)},p(r,o){e=r,514&o[0]&&u!==(u=e[32][e[1]]+"")&&C(n,u),516&o[0]&&d!==(d=e[32][e[2]]+"")&&C(l,d),p!==e[34]&&(y(),p=e[34],m()),256&o[0]&&T(t,"highlight",e[8]==e[34])},d(e){e&&b(t),y(),s=!1,r(c)}}}function Fe(t){let n,r,o,a;function l(e,t){return e[6]&&!e[3]?Ne:Ce}let i=l(t),s=i(t),c=t[7]&&Te(t);return{c(){n=v("div"),s.c(),r=x(),c&&c.c(),j(n,"id","select"),j(n,"class","svelte-qdzmwx"),T(n,"active",t[7])},m(e,l){$(e,n,l),s.m(n,null),g(n,r),c&&c.m(n,null),o||(a=k(n,"keydown",t[15]),o=!0)},p(e,t){i===(i=l(e))&&s?s.p(e,t):(s.d(1),s=i(e),s&&(s.c(),s.m(n,r))),e[7]?c?c.p(e,t):(c=Te(e),c.c(),c.m(n,null)):c&&(c.d(1),c=null),128&t[0]&&T(n,"active",e[7])},i:e,o:e,d(e){e&&b(n),s.d(),c&&c.d(),o=!1,a()}}}function Pe(e,t,n){let r;const o=A();let a,l,i,{options:s}=t,{selected:c=null}=t,{placeholder:u="Find an area..."}=t,{value:d="code"}=t,{label:p="name"}=t,{group:f=null}=t,{search:h=!1}=t,m=c,g=c?s.find((e=>{e[d],c[d]})):null,$=!1,b="",y=null,v=[];function _(e){n(17,c=e),n(7,$=!1),o("select",{selected:e,value:e[d]})}return e.$$set=e=>{"options"in e&&n(18,s=e.options),"selected"in e&&n(17,c=e.selected),"placeholder"in e&&n(0,u=e.placeholder),"value"in e&&n(19,d=e.value),"label"in e&&n(1,p=e.label),"group"in e&&n(2,f=e.group),"search"in e&&n(3,h=e.search)},e.$$.update=()=>{16&e.$$.dirty[0]&&n(21,r=b?new RegExp(b,"i"):null),2359298&e.$$.dirty[0]&&(n(9,a=r?s.filter((e=>r.test(e[p]))):s),n(8,y=0)),32&e.$$.dirty[0]&&(document.onclick=function(e){e.target!==l&&(n(7,$=!1),n(8,y=0))}),1966080&e.$$.dirty[0]&&m!=c&&(n(6,g=s.find((e=>e[d]==c[d]))),n(20,m=c))},[u,p,f,h,b,l,g,$,y,a,i,v,function(e){var t;e.stopPropagation(),n(4,b=""),n(7,$=!$),(t=10,new Promise((e=>setTimeout(e,t)))).then((()=>{i&&$&&i.focus()}))},_,function(e){e.stopPropagation(),n(17,c=null),n(20,m=null),n(6,g=null),o("select",{selected:null,value:null})},function(e){$&&a[0]&&Number.isInteger(y)&&(38===e.keyCode?(n(8,y-=y>0?1:0),v[y].scrollIntoView({block:"nearest",inline:"start"})):40===e.keyCode&&(n(8,y+=y<a.length-1?1:0),v[y].scrollIntoView({block:"nearest",inline:"end"})))},function(e){a[0]&&Number.isInteger(y)&&13===e.keyCode&&_(a[y])},c,s,d,m,r,function(){b=this.value,n(4,b)},function(e){z[e?"unshift":"push"]((()=>{i=e,n(10,i)}))},e=>_(e),e=>n(8,y=e),function(e,t){z[e?"unshift":"push"]((()=>{v[t]=e,n(11,v)}))},e=>_(e),e=>n(8,y=e),function(e,t){z[e?"unshift":"push"]((()=>{v[t]=e,n(11,v)}))},function(e){z[e?"unshift":"push"]((()=>{l=e,n(5,l)}))}]}class ze extends se{constructor(e){super(),ie(this,e,Pe,Fe,a,{options:18,selected:17,placeholder:0,value:19,label:1,group:2,search:3},null,[-1,-1])}}var Ke="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var We,De,Ue=(We=function(e,t){(function(){var n={load:function(e,t){var n,r,o,a="\\u0000\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u200B\\u2028\\u2029\\u202F\\u205F\\u3000\\uFEFF\\u005B\\u005C\\u005D\\u007B\\u007D\\u003A",l=new RegExp(".*((\r|\n)+)"),i=new RegExp("^\\s*([^"+a+"]+)[ \t\r]*:[ \t\r]*(.*(?:\n|\r|$))"),s=new RegExp("^\\s*:[ \t\r]*(endskip|ignore|skip|end).*?(\n|\r|$)","i"),c=new RegExp("^\\s*\\*[ \t\r]*(.*(?:\n|\r|$))"),u=new RegExp("^\\s*(\\[|\\{)[ \t\r]*([+.]*)[ \t\r]*([^"+a+"]*)[ \t\r]*(?:\\]|\\}).*?(\n|\r|$)"),d={},p=d,f=[],h=void 0,m=null,g=null,$="",b=!1;for(!0!==(t=t||{}).comments&&(t.comments=!1);e;){var y;s.exec(e)?v((y=s.exec(e))[1].toLowerCase()):b||!i.exec(e)||h&&"simple"===h.arrayType?!b&&c.exec(e)&&h&&h.array&&"complex"!==h.arrayType&&"freeform"!==h.arrayType&&h.flags.indexOf("+")<0?(o=(y=c.exec(e))[1],j(),h.arrayType=h.arrayType||"simple",h.array.push(""),g=h.array,$=o,C(h.array,{replace:!0})):!b&&u.exec(e)?_((y=u.exec(e))[1],y[2],y[3]):l.exec(e)?x((y=l.exec(e))[0]):(x(e),e=""):(n=(y=i.exec(e))[1],r=y[2]||"",j(),w(n),h&&h.flags.indexOf("+")>-1&&(n="value"),g=n,$=r,C(n,{replace:!0})),y&&(e=e.substring(y[0].length))}function v(t){if(b&&"endskip"!==t&&"ignore"!==t)return j();switch(t){case"end":return void(g&&C(g,{replace:!1}));case"ignore":e="";break;case"skip":b=!0;break;case"endskip":b=!1}j()}function _(e,t,n){if(j(),""==n){var r=f.pop();p=(r?r.scope:d)||d,h=f[f.length-1]}else if("["===e||"{"===e){var o=!1,a=d;if(t.indexOf(".")>-1?(w(n),o=!0,h&&(a=p)):(p=d,f=[]),h&&h.flags.indexOf("+")>-1)var l=n;else{for(var i=n.split("."),s=0;s<i.length-1;s++)a=a[i[s]]=a[i[s]]||{};l=i[i.length-1]}var c={array:null,arrayType:null,arrayFirstKey:null,flags:t,scope:p},u=h&&h.flags.indexOf("+")>-1&&t.indexOf(".")>-1;"["==e?(u&&(l="value"),c.array=a[l]=[],t.indexOf("+")>-1&&(c.arrayType="freeform"),o?f.push(c):f=[c],h=f[f.length-1]):"{"==e&&(o?(p=u?p.value={}:a[l]=a={},f.push(c)):(p=a[l]="object"==typeof a[l]?a[l]:{},f=[c]),h=f[f.length-1])}}function x(t){h&&h.flags.indexOf("+")>-1&&t.match(/[^\n\r\s]/)?h.array.push({type:"text",value:t.replace(/(^\s*)|(\s*$)/g,"")}):$+=e.substring(0,t.length)}function w(e){if(h&&h.array){if(h.arrayType=h.arrayType||"complex","simple"===h.arrayType)return;null!==h.arrayFirstKey&&h.arrayFirstKey!==e||h.array.push(p={}),h.flags.indexOf("+")>-1?p.type=e:h.arrayFirstKey=h.arrayFirstKey||e}}function k(e,n){return t.comments&&(e=(e=e.replace(/(?:^\\)?\[[^\[\]\n\r]*\](?!\])/gm,"")).replace(/\[\[([^\[\]\n\r]*)\]\]/g,"[$1]")),"append"==n&&(e=e.replace(new RegExp("^(\\s*)\\\\","gm"),"$1")),e}function j(){var e=$+"";return $="",g=null,e}function C(e,t){t=t||{};var n=g,r=j();if(t.replace?(r=k(r,"replace").replace(new RegExp("^\\s*"),""),$=new RegExp("\\s*$").exec(r)[0],g=n):r=k(r,"append"),"object"==typeof e)t.replace&&(e[e.length-1]=""),e[e.length-1]+=r.replace(new RegExp("\\s*$"),"");else{var o=e.split(".");m=p;for(var a=0;a<o.length-1;a++)"string"==typeof m[o[a]]&&(m[o[a]]={}),m=m[o[a]]=m[o[a]]||{};t.replace&&(m[o[o.length-1]]=""),m[o[o.length-1]]+=r.replace(new RegExp("\\s*$"),"")}}return j(),d}};e.exports&&(t=e.exports=n),t.archieml=n}).call(Ke)},We(De={exports:{}},De.exports),De.exports);const Be=e=>{if(e<10)return["","first","second","third","fourth","fifth","sixth","seventh","eighth","ninth"][e];const t=e%10,n=e%100;return 1===t&&11!==n?e+"st":2===t&&12!==n?e+"nd":3===t&&13!==n?e+"rd":e+"th"},He=e=>"s"===e[e.length-1]?e+"'":e+"'s",Ie=(e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a string, got "+typeof e);let n=1,r=e.charAt(0);const o=function(){return r},a=function(t){throw JSON.stringify({name:"Robo-journalist error",message:t,at:n,text:e})},l=function(t){return t&&t!==r&&a("Expected '"+t+"' instead of '"+r+"'"),r=e.charAt(n),n+=1,r},i=function(e){const n=e.split(".");let r=t;for(const t of n)try{r=r[t]}catch{a(`${e} is not in the data dictionary.`)}return r},s=function(e){const t=e.split(" "),n={"+":(e,t)=>e+t,"-":(e,t)=>e-t,"*":(e,t)=>e*t,"/":(e,t)=>e/t,"<":(e,t)=>e<t,">":(e,t)=>e>t,"<=":(e,t)=>e<=t,">=":(e,t)=>e>=t},r=[];for(const e of t)if(/^-?\d+$/.test(e))r.push(Number(e));else if(e in n){const t=Number(r.pop()),o=Number(r.pop());r.push(n[e](o,t))}else if("'"===e)r[r.length-1]=He(r[r.length-1]);else if(","===e)r[r.length-1]=r[r.length-1].toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");else if(".0"===e)r[r.length-1]=r[r.length-1].toFixed(0);else if(".1"===e)r[r.length-1]=r[r.length-1].toFixed(1);else if(".2"===e)r[r.length-1]=r[r.length-1].toFixed(2);else if("~abs"===e)r[r.length-1]=Math.abs(r[r.length-1]);else if("~ord"===e)r[r.length-1]=Be(Number(r[r.length-1]));else if("~ord'"===e){let e=Be(Number(r.pop()));"first"===e?e="":e+=" ",r.push(e)}else"^"===e.charAt(0)?r[r.length-1]=i(e.slice(1))(r[r.length-1]):r.push(i(e));return 1!==r.length&&a("Invalid RPN"),r[0]},c=function(e){l("?");const t=d();l(":");const n=d();return l("}"),e?t:n},u=function(){if(l("{"),":"===r)return l(":"),l("}"),":";let e="";for(;o();){if("}"===r)return l("}"),s(e);if("?"===r)return c(s(e));e+=r,l()}a("Braces not closed")},d=function(){let e="";for(;o();){if(":"===r||"}"===r)return e;"{"!==r?(e+=r,l()):e+=u()}return e},p=d();return""!==r&&a(`Didn't expect '${r}'`),p},{document:Le}=te;function Je(e){let t,n,r=e[6]&&Ve(e);return{c(){r&&r.c(),t=w()},m(e,o){r&&r.m(e,o),$(e,t,o),n=!0},p(e,n){e[6]?r?(r.p(e,n),64&n[0]&&X(r,1)):(r=Ve(e),r.c(),X(r,1),r.m(t.parentNode,t)):r&&(Y(),ee(r,1,1,(()=>{r=null})),G())},i(e){n||(X(r),n=!0)},o(e){ee(r),n=!1},d(e){r&&r.d(e),e&&b(t)}}}function Ve(e){let t,n,r=e[3]&&Ze(e);return{c(){r&&r.c(),t=w()},m(e,o){r&&r.m(e,o),$(e,t,o),n=!0},p(e,n){e[3]?r?(r.p(e,n),8&n[0]&&X(r,1)):(r=Ze(e),r.c(),X(r,1),r.m(t.parentNode,t)):r&&(Y(),ee(r,1,1,(()=>{r=null})),G())},i(e){n||(X(r),n=!0)},o(e){ee(r),n=!1},d(e){r&&r.d(e),e&&b(t)}}}function Ze(e){let t,n,r=e[4]&&Qe(e);return{c(){r&&r.c(),t=w()},m(e,o){r&&r.m(e,o),$(e,t,o),n=!0},p(e,n){e[4]?r?(r.p(e,n),16&n[0]&&X(r,1)):(r=Qe(e),r.c(),X(r,1),r.m(t.parentNode,t)):r&&(Y(),ee(r,1,1,(()=>{r=null})),G())},i(e){n||(X(r),n=!0)},o(e){ee(r),n=!1},d(e){r&&r.d(e),e&&b(t)}}}function Qe(e){let t,n,r,o,a,l,i,s,c,u,d,p,f,h,m,y,w,N,T,S,O,R,q,A,F,P,K,W,D,U,B,I,L,J,V,Z,Q,Y,G,te,le=e[2].name+"",ie=e[9](e[2],e[5])+"",se=(e[2].gss?e[2].gss.long:"local authority district")+"",ce=e[10](e[2],e[5])+"";function ue(t){e[11](t)}let de={options:e[0],group:"typenm",search:!0};return void 0!==e[1]&&(de.selected=e[1]),u=new ze({props:de}),z.push((()=>ne(u,"selected",ue))),u.$on("select",e[12]),{c(){t=v("div"),n=v("div"),r=v("h1"),o=_(le),a=_(": "),l=v("span"),l.textContent="What's changed",i=x(),s=v("div"),c=v("div"),re(u.$$.fragment),p=x(),f=new M,h=x(),m=v("p"),y=_("Here are some of the "),w=v("span"),w.textContent="most notable changes",N=_(" from across the "),T=_(se),S=_("."),O=x(),R=v("main"),q=new M,A=x(),F=v("hr"),P=x(),K=v("h2"),K.textContent="Creating this article",W=x(),D=v("p"),D.textContent="This article has been generated using a semi-automated system for story selection and data-to-text templating.",U=x(),B=v("p"),B.textContent="The system relies upon a computer programme to decide which topics are relevant to specific areas and describe the data in words.",I=x(),L=v("p"),L.textContent="For each local authority district, the variables that have changed the most since 2011 are selected automatically. Variables that have experienced a considerably larger or smaller change than the regional or national averages are also selected.",J=x(),V=v("p"),V.textContent="The decisions made by the computer programme were coded by staff in the ONS Digital Publishing team in advance of the release of Census 2021 data.",Z=x(),Q=v("div"),E(l,"font-weight","400"),j(r,"class","svelte-15qyx5z"),E(c,"width","640px"),E(c,"margin","50px auto"),f.a=h,j(w,"class","back-to-top svelte-15qyx5z"),E(n,"width","640px"),E(n,"margin","0 auto"),j(t,"id","sf"),j(t,"class","svelte-15qyx5z"),q.a=A,E(F,"width","40%"),E(F,"margin","60px auto 30px auto"),j(K,"id","create"),E(Q,"height","200px"),j(R,"class","svelte-15qyx5z")},m(e,d){$(e,t,d),g(t,n),g(n,r),g(r,o),g(r,a),g(r,l),g(n,i),g(n,s),g(s,c),oe(u,c,null),g(n,p),f.m(ie,n),g(n,h),g(n,m),g(m,y),g(m,w),g(m,N),g(m,T),g(m,S),$(e,O,d),$(e,R,d),q.m(ce,R),g(R,A),g(R,F),g(R,P),g(R,K),g(R,W),g(R,D),g(R,U),g(R,B),g(R,I),g(R,L),g(R,J),g(R,V),g(R,Z),g(R,Q),Y=!0,G||(te=k(w,"click",rt),G=!0)},p(e,t){(!Y||4&t[0])&&le!==(le=e[2].name+"")&&C(o,le);const n={};1&t[0]&&(n.options=e[0]),!d&&2&t[0]&&(d=!0,n.selected=e[1],H((()=>d=!1))),u.$set(n),(!Y||36&t[0])&&ie!==(ie=e[9](e[2],e[5])+"")&&f.p(ie),(!Y||4&t[0])&&se!==(se=(e[2].gss?e[2].gss.long:"local authority district")+"")&&C(T,se),(!Y||36&t[0])&&ce!==(ce=e[10](e[2],e[5])+"")&&q.p(ce)},i(e){Y||(X(u.$$.fragment,e),Y=!0)},o(e){ee(u.$$.fragment,e),Y=!1},d(e){e&&b(t),ae(u),e&&b(O),e&&b(R),G=!1,te()}}}function Ye(e){let t,n,r,o,a,l,i,s,u,d=e[2]&&Je(e);return{c(){t=v("script"),r=v("script"),a=x(),l=v("div"),d&&d.c(),c(t.src,n="https://d3js.org/d3.v3.min.js")||j(t,"src","https://d3js.org/d3.v3.min.js"),j(t,"charset","utf-8"),c(r.src,o="https://unpkg.com/rosaenlg@3.0.1/dist/rollup/rosaenlg_tiny_en_US_3.0.1_comp.js")||j(r,"src","https://unpkg.com/rosaenlg@3.0.1/dist/rollup/rosaenlg_tiny_en_US_3.0.1_comp.js")},m(n,o){g(Le.head,t),g(Le.head,r),$(n,a,o),$(n,l,o),d&&d.m(l,null),i=!0,s||(u=k(r,"load",e[7]),s=!0)},p(e,t){e[2]?d?(d.p(e,t),4&t[0]&&X(d,1)):(d=Je(e),d.c(),X(d,1),d.m(l,null)):d&&(Y(),ee(d,1,1,(()=>{d=null})),G())},i(e){i||(X(d),i=!0)},o(e){ee(d),i=!1},d(e){b(t),b(r),e&&b(a),e&&b(l),d&&d.d(),s=!1,u()}}}function Ge(e){let t,n=Number.parseFloat(Number.parseFloat(e).toPrecision(3));return e-n<-e/100&&(t="under "),t=e-n<-e/800?1==Math.round(Math.random())?"almost ":"just under ":e-n>e/100?" just over ":e-n>e/800?"just over ":"",[t,n]}function Xe(e,t,n,r){return r="rl"==r?"_rank_local":"r"==r?"_rank":"",t.data[e[n][0]][e[n][1]+r][2011][e[n][3]]}function et(e,t,n,r){return r="rl"==r?"_rank_local":"r"==r?"_rank":"",t.data[e[n][0]][e[n][1]+r].change[e[n][3]]}function tt(e){return Math.ceil(5*e/331)}function nt(e,t,n){return e<0?n:t}function rt(){document.getElementById("create").scrollIntoView()}function ot(e,t,n){var r,o,a,l,i,s,c,u,d,p,f,h,m,g;fetch("./archie.aml").then((e=>e.text())).then((e=>n(5,h=Ue.load(e)))),fetch("./puggy.pug").then((e=>e.text())).then((e=>m=e)),fetch("./standf.pug").then((e=>e.text())).then((e=>g=e));const $={ew:{name:"",pl:""},wd:{name:"Ward",pl:"Wards"},lad:{name:"District",pl:"Districts"},rgn:{name:"Region",pl:"Regions"},ctry:{name:"Country",pl:"Countries"}};let b=!1;function y(e){fetch("https://raw.githubusercontent.com/theojolliffe/census-data/main/json/place/"+e+".json").then((e=>e.json())).then((t=>{t.children=r.filter((t=>t.parent==e)),t.siblings=r.filter((e=>e.parent==t.parents[0].code)),n(2,a=t),(d=a.stories.map((e=>e.label.split("_")))).forEach((e=>{e.length>4&&(e[3]=e[3]+"_"+e[4],e.pop())})),c=a.parents[0].code,console.log("Place",a),console.log("s",d),l=d.map((e=>parseInt(a.data[e[0]][e[1]+"_rank_local"][e[2]][e[3]]))),p=d.map((e=>parseInt(a.data[e[0]][e[1]+"_rank"][e[2]][e[3]]))),i=d.map((e=>parseInt(a.data[e[0]][e[1]+"_rank_local"][2011][e[3]]))),f=d.map((e=>parseInt(a.data[e[0]][e[1]+"_rank"][2011][e[3]]))),fetch("https://raw.githubusercontent.com/theojolliffe/census-data/main/json/place/"+c+".json").then((e=>e.json())).then((t=>{t.children=r.filter((t=>t.parent==e)),t.siblings=r.filter((e=>e.parent==t.parents[0].code)),n(4,u=t)}))})),fetch("https://raw.githubusercontent.com/theojolliffe/census-data/main/json/place/E92000001.json").then((e=>e.json())).then((t=>{t.children=r.filter((t=>t.parent==e)),t.siblings=r.filter((e=>e.parent==t.parents[0].code)),n(3,s=t)}))}(async function(e){let t=await fetch(e),n=await t.text();return await be(n,ye)})("https://raw.githubusercontent.com/theojolliffe/census-data/main/csv/lists/places_2020.csv").then((e=>{e.forEach((e=>{e.typepl=$[e.type].pl,e.typenm=$[e.type].name})),e=e.filter((e=>"lad"==e.type)),n(0,r=e.sort(((e,t)=>e.name.localeCompare(t.name))));let t=r[Math.round(336*Math.random())].name;t="Bridgend",console.log("defaultLoc",t),n(1,o=r.find((e=>e.name==t))),console.log("selected.code",o.code),y(o.code)}));let v={1:"expanded",2:"grew",3:"grew",4:"remained relatively stable",5:"fell"},_={"quarter of a million":25e4,"half a million":5e5,"three quarters of a million":75e4,"one million":1e6},x={"one in two":.5,"one in three":.333,"one in four":.25,"one in five":.2,"one in six":.167,"one in seven":.143,"one in eight":.125,"one in nine":.111,"1 in 10":.1,"1 in 11":.09,"1 in 12":.083,"1 in 13":.077,"1 in 14":.071,"1 in 15":.067,"1 in 16":.063,"1 in 17":.059,"1 in 18":.056,"1 in 19":.053,"1 in 20":.05,"2 in 10":.2,"3 in 10":.3,"4 in 10":.4,"6 in 10":.6,"7 in 10":.7,"8 in 10":.8,"9 in 10":.9,all:1};function w(e,t){let n;"frac"==t?t=x:"num"==t&&(t=_);let r,o=2e6;for(const a in t)Math.abs(e-t[a])<o&&(o=Math.abs(e-t[a]),r=a,e-t[a]==0?n="about":e-t[a]>0?n="just over":e-t[a]<0&&(n="just under"));return[n,r]}let k={good:["bad","fair"],bad:["good","fair"],white:["black","asian"],black:["white","asian"],asian:["white","black"],rented_private:["rented_social","owned"],rented_social:["rented_private","owned"],owned:["rented_private","rented_social"],student:["employee","unemployed","self-employed"],"self-employed":["employee","unemployed","student"],employee:["unemployed","self-employed","student"],unemployed:["employee","self-employed","student"],car_van:["bus","train_metro","foot","home"],bus:["car_van","train_metro","foot","home"],train_metro:["bus","car_van","foot","home"],foot:["bus","train_metro","car_van","home"],home:["bus","train_metro","foot","car_van"],OnePerson:["Cohabiting","Married"],Cohabiting:["OnePerson","Married"],LoneParent:["Married","Cohabiting"],Christian:["Muslim","Noreligion"],Muslim:["Christian","Noreligion"],Noreligion:["Christian","Muslim"],Buddhist:["Hindu","Sikh"],Hindu:["Sikh","Buddhist"],Jewish:["Christian","Muslim"],Sikh:["Hindu","Buddhist"],Single:["Married","Seperated"],Married:["Single","Seperated"],Seperated:["Married","Single"],"40PlushoursWeek":["20to49hoursWeek","1to19hoursWeek"],"20to49hoursWeek":["40PlushoursWeek","1to19hoursWeek"],"1to19hoursWeek":["40PlushoursWeek","20to49hoursWeek"],Kids:["NoKids","NonDepKids"],NoKids:["Kids","NonDepKids"],NonDepKids:["Kids","NoKids"],"Male1-15":["Male49plus"],Male49plus:["Male1-15"],"Female1-15":["Female49plus"],Female49plus:["Female1-15"]};function j(e,t,n,r,o){"number"==typeof r&r<0?r="highest":"number"==typeof r&&(r="lowest");let a,l=Object.assign({},t.data[e[n][0]][e[n][1]+"_rank_local"][o]),i=new Set(k[e[n][3]]);for(let e of Object.keys(l))i.has(e)||delete l[e];if(Object.keys(l).length>1){if("lowest"==r){for(let[e,t]of Object.entries(l))t>0&&delete l[e];a=l.length>0?Object.keys(l).reduce(((e,t)=>l[e]>l[t]?e:t)):void 0}if("highest"==r){for(let[e,t]of Object.entries(l))t<0&&delete l[e];a=l.length>0?Object.keys(l).reduce(((e,t)=>l[e]<l[t]?e:t)):void 0}}else a=Object.keys(l);return a}function C(e,t,n,r="r"){let o="";return"rl"==r&&(o="_local"),t.data[e[n][0]][e[n][1]+"_rank"+o].change[j(e,t,n,et(e,t,n,r),"change")]}var N;function E(e,t){Object.keys(e).forEach((n=>{"object"==typeof e[n]?E(e[n],t):e[n]=Ie(e[n],{plcname:t})}))}N="London"==parent?"city":"region",R((()=>{setInterval((function(){d3.selectAll("div#visph").attr("style","\n\t\t\tbackground-color: #f6f6f6; \n\t\t\tcolor: #e1e7ea; \n\t\t\theight: 240px;\n\t\t\tpadding: 80px;\n\t\t\tfont-size: 2.8rem;\n\t\t\tfont-weight: 600;\n\t\t\tmargin-bottom: 80px;")}),1e3)}));return[r,o,a,s,u,h,b,()=>{n(6,b=!0)},y,function(e,t){var n=JSON.parse(JSON.stringify(t));E(n,e.name);let r=[],o=0;return e.stories.forEach((e=>{r.length<4&Math.abs(e.value)>3&&(r.push(e.label.split("_")),o+=Math.abs(e.value))})),rosaenlg_en_US.render(g,{language:"en_UK",place:e,topics:n,s:d,sf:r,changeMag:o,grewSyn:v,qui:tt,natRankCha:p})},function(e,t){var n=JSON.parse(JSON.stringify(t));function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}return console.log("topics",n),console.log("et ",e.name),E(n,e.name),rosaenlg_en_US.render(m,{language:"en_UK",place:e,data:e.data,eng:s,rgn:u,parent:we(xe(e.parents[0].name)),parentNT:we(xe(e.parents[0].name,"NT")),s:d,priorities:e.Priorities,grewSyn:v,locRankCha:l,natRankCha:p,locRankCur:i,natRankCur:f,hiRank:e.hiRank,topic:function(e,t){let r;return r=t||d[e][3],n[d[e][0]][r]},topics:n,chains:k,country:"England",get_word:w,figs:Ge,otherEst:j,cur:Xe,cha:et,qui:tt,cap:r,cap:r,otherRank:C,ud:nt,city:N})},function(e){n(1,o=e)},()=>{o&&y(o.code)}]}class at extends se{constructor(e){super(),ie(this,e,ot,Ye,a,{},null,[-1,-1])}}const{document:lt}=te;function it(e){let t,n=e[17]&&st(e);return{c(){n&&n.c(),t=w()},m(e,r){n&&n.m(e,r),$(e,t,r)},p(e,r){e[17]?n?n.p(e,r):(n=st(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&b(t)}}}function st(e){let t,n=e[7]&&ct(e);return{c(){n&&n.c(),t=w()},m(e,r){n&&n.m(e,r),$(e,t,r)},p(e,r){e[7]?n?n.p(e,r):(n=ct(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&b(t)}}}function ct(e){let t,n=e[8]&&ut(e);return{c(){n&&n.c(),t=w()},m(e,r){n&&n.m(e,r),$(e,t,r)},p(e,r){e[8]?n?n.p(e,r):(n=ut(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&b(t)}}}function ut(e){let t,n,r,o,a,l,i,s,c,u,d,p,f,h,m,y,w,k,N,T,S,O,R,q,A,F,P,z,K,W,D,U,B,H,I,L,J,V,Z,Q,Y,G,X,ee,te,ne,re,oe,ae=e[0].label+"",le=e[1].name+"",ie=e[21](e[1],e[9],e[11])+"",se=e[2].name+"",ce=e[21](e[2],e[9],e[12])+"",ue=e[3].name+"",de=e[21](e[3],e[9],e[13])+"",pe=e[4].name+"",fe=e[21](e[4],e[9],e[14])+"",he=e[5].name+"",me=e[21](e[5],e[9],e[15])+"",ge=e[6].name+"",$e=e[21](e[6],e[9],e[16])+"";return{c(){t=v("div"),n=v("h1"),r=_(ae),o=x(),a=v("main"),l=v("h2"),i=_(le),s=x(),c=new M,u=x(),d=v("h2"),p=_(se),f=x(),h=new M,m=x(),y=v("h2"),w=_(ue),k=x(),N=new M,T=x(),S=v("h2"),O=_(pe),R=x(),q=new M,A=x(),F=v("h2"),P=_(he),z=x(),K=new M,W=x(),D=v("h2"),U=_(ge),B=x(),H=new M,I=x(),L=v("hr"),J=x(),V=v("h2"),V.textContent="Creating this article",Z=x(),Q=v("p"),Q.textContent="This article has been generated using a semi-automated system for story selection and data-to-text templating.",Y=x(),G=v("p"),G.textContent="The system relies upon a computer programme to decide which topics are relevant to specific areas and describe the data in words.",X=x(),ee=v("p"),ee.textContent="For each local authority district, the variables that have changed the most since 2011 are selected automatically. Variables that have experienced a considerably larger or smaller change than the regional or national averages are also selected.",te=x(),ne=v("p"),ne.textContent="The decisions made by the computer programme were coded by staff in the ONS Digital Publishing team in advance of the release of Census 2021 data.",re=x(),oe=v("div"),j(n,"class","svelte-15qyx5z"),E(t,"width","640px"),E(t,"margin","0 auto"),E(l,"text-decoration","underline"),c.a=u,E(d,"text-decoration","underline"),h.a=m,E(y,"text-decoration","underline"),N.a=T,E(S,"text-decoration","underline"),q.a=A,E(F,"text-decoration","underline"),K.a=W,E(D,"text-decoration","underline"),H.a=I,E(L,"width","40%"),E(L,"margin","60px auto 30px auto"),j(V,"id","create"),E(oe,"height","200px"),j(a,"class","svelte-15qyx5z")},m(e,b){$(e,t,b),g(t,n),g(n,r),$(e,o,b),$(e,a,b),g(a,l),g(l,i),g(a,s),c.m(ie,a),g(a,u),g(a,d),g(d,p),g(a,f),h.m(ce,a),g(a,m),g(a,y),g(y,w),g(a,k),N.m(de,a),g(a,T),g(a,S),g(S,O),g(a,R),q.m(fe,a),g(a,A),g(a,F),g(F,P),g(a,z),K.m(me,a),g(a,W),g(a,D),g(D,U),g(a,B),H.m($e,a),g(a,I),g(a,L),g(a,J),g(a,V),g(a,Z),g(a,Q),g(a,Y),g(a,G),g(a,X),g(a,ee),g(a,te),g(a,ne),g(a,re),g(a,oe)},p(e,t){1&t[0]&&ae!==(ae=e[0].label+"")&&C(r,ae),2&t[0]&&le!==(le=e[1].name+"")&&C(i,le),2562&t[0]&&ie!==(ie=e[21](e[1],e[9],e[11])+"")&&c.p(ie),4&t[0]&&se!==(se=e[2].name+"")&&C(p,se),4612&t[0]&&ce!==(ce=e[21](e[2],e[9],e[12])+"")&&h.p(ce),8&t[0]&&ue!==(ue=e[3].name+"")&&C(w,ue),8712&t[0]&&de!==(de=e[21](e[3],e[9],e[13])+"")&&N.p(de),16&t[0]&&pe!==(pe=e[4].name+"")&&C(O,pe),16912&t[0]&&fe!==(fe=e[21](e[4],e[9],e[14])+"")&&q.p(fe),32&t[0]&&he!==(he=e[5].name+"")&&C(P,he),33312&t[0]&&me!==(me=e[21](e[5],e[9],e[15])+"")&&K.p(me),64&t[0]&&ge!==(ge=e[6].name+"")&&C(U,ge),66112&t[0]&&$e!==($e=e[21](e[6],e[9],e[16])+"")&&H.p($e)},d(e){e&&b(t),e&&b(o),e&&b(a)}}}function dt(e){let t,n,r,o,a,l,i,s,u,d,p,f,h,m;function y(t){e[22](t)}let _={options:e[18],placeholder:"Search a topic",value:"value",label:"label",search:!0};void 0!==e[0]&&(_.selected=e[0]),s=new ze({props:_}),z.push((()=>ne(s,"selected",y))),s.$on("select",e[23]);let w=e[10]&&it(e);return{c(){t=v("script"),r=v("script"),a=x(),l=v("div"),i=v("div"),re(s.$$.fragment),d=x(),p=v("div"),w&&w.c(),c(t.src,n="https://d3js.org/d3.v3.min.js")||j(t,"src","https://d3js.org/d3.v3.min.js"),j(t,"charset","utf-8"),c(r.src,o="https://unpkg.com/rosaenlg@3.0.1/dist/rollup/rosaenlg_tiny_en_US_3.0.1_comp.js")||j(r,"src","https://unpkg.com/rosaenlg@3.0.1/dist/rollup/rosaenlg_tiny_en_US_3.0.1_comp.js"),E(i,"width","640px"),E(i,"margin","50px auto")},m(n,o){g(lt.head,t),g(lt.head,r),$(n,a,o),$(n,l,o),g(l,i),oe(s,i,null),$(n,d,o),$(n,p,o),w&&w.m(p,null),f=!0,h||(m=k(r,"load",e[19]),h=!0)},p(e,t){const n={};!u&&1&t[0]&&(u=!0,n.selected=e[0],H((()=>u=!1))),s.$set(n),e[10]?w?w.p(e,t):(w=it(e),w.c(),w.m(p,null)):w&&(w.d(1),w=null)},i(e){f||(X(s.$$.fragment,e),f=!0)},o(e){ee(s.$$.fragment,e),f=!1},d(e){b(t),b(r),e&&b(a),e&&b(l),ae(s),e&&b(d),e&&b(p),w&&w.d(),h=!1,m()}}}function pt(e){let t,n=Number.parseFloat(Number.parseFloat(e).toPrecision(3));return e-n<-e/100&&(t="under "),t=e-n<-e/800?1==Math.round(Math.random())?"almost ":"just under ":e-n>e/100?" just over ":e-n>e/800?"just over ":"",[t,n]}function ft(e,t,n,r){return r="rl"==r?"_rank_local":"r"==r?"_rank":"",t.data[e[n][0]][e[n][1]+r][2011][e[n][3]]}function ht(e,t,n,r){return r="rl"==r?"_rank_local":"r"==r?"_rank":"",t.data[e[n][0]][e[n][1]+r].change[e[n][3]]}function mt(e){return Math.ceil(5*e/331)}function gt(e,t,n){return e<0?n:t}function $t(e,t,n){var r,o,a,l,i,c,u,d,p,f,h,m,g,$,b,y;var v,_;fetch("https://raw.githubusercontent.com/theojolliffe/census-data/main/json/place/E07000093.json").then((e=>e.json())).then((e=>{n(1,o=e)})),fetch("https://raw.githubusercontent.com/theojolliffe/census-data/main/json/place/E08000003.json").then((e=>e.json())).then((e=>{n(2,a=e)})),fetch("https://raw.githubusercontent.com/theojolliffe/census-data/main/json/place/E07000032.json").then((e=>e.json())).then((e=>{n(3,l=e)})),fetch("https://raw.githubusercontent.com/theojolliffe/census-data/main/json/place/E09000007.json").then((e=>e.json())).then((e=>{n(4,i=e)})),fetch("https://raw.githubusercontent.com/theojolliffe/census-data/main/json/place/W06000002.json").then((e=>e.json())).then((e=>{n(5,c=e)})),fetch("https://raw.githubusercontent.com/theojolliffe/census-data/main/json/place/E07000113.json").then((e=>e.json())).then((e=>{n(6,u=e)})),fetch("https://raw.githubusercontent.com/theojolliffe/census-data/main/json/place/E92000001.json").then((e=>e.json())).then((e=>{n(7,d=e)})),fetch("https://raw.githubusercontent.com/theojolliffe/census-data/main/json/place/E12000005.json").then((e=>e.json())).then((e=>{n(8,p=e)})),fetch("./archie.aml").then((e=>e.text())).then((e=>n(9,v=Ue.load(e)))),fetch("./puggy.pug").then((e=>e.text())).then((e=>_=e)),fetch("./standf.pug").then((e=>e.text())).then((e=>e));let x=!1;let w={1:"expanded",2:"grew",3:"grew",4:"remained relatively stable",5:"fell"};function k(e){n(11,h=o.stories.filter((e=>e.label.split("_")[0]+"_"+e.label.split("_")[1]+"_"+e.label.split("_")[2]=="marital_perc_change"))[0].label.split("_")),h.length>4&&(n(11,h[3]=h[3]+"_"+h[4],h),h.pop()),console.log("S1",h),n(11,h=[h]),n(12,m=a.stories.filter((e=>e.label.split("_")[0]+"_"+e.label.split("_")[1]+"_"+e.label.split("_")[2]=="marital_perc_change"))[0].label.split("_")),m.length>4&&(n(12,m[3]=m[3]+"_"+m[4],m),m.pop()),n(12,m=[m]),n(13,g=l.stories.filter((e=>e.label.split("_")[0]+"_"+e.label.split("_")[1]+"_"+e.label.split("_")[2]=="marital_perc_change"))[0].label.split("_")),g.length>4&&(n(13,g[3]=g[3]+"_"+g[4],g),g.pop()),n(13,g=[g]),n(14,$=i.stories.filter((e=>e.label.split("_")[0]+"_"+e.label.split("_")[1]+"_"+e.label.split("_")[2]=="marital_perc_change"))[0].label.split("_")),$.length>4&&(n(14,$[3]=$[3]+"_"+$[4],$),$.pop()),n(14,$=[$]),n(15,b=c.stories.filter((e=>e.label.split("_")[0]+"_"+e.label.split("_")[1]+"_"+e.label.split("_")[2]=="marital_perc_change"))[0].label.split("_")),b.length>4&&(n(15,b[3]=b[3]+"_"+b[4],b),b.pop()),n(15,b=[b]),n(16,y=u.stories.filter((e=>e.label.split("_")[0]+"_"+e.label.split("_")[1]+"_"+e.label.split("_")[2]=="marital_perc_change"))[0].label.split("_")),y.length>4&&(n(16,y[3]=y[3]+"_"+y[4],y),y.pop()),n(16,y=[y]),n(10,f=!0),console.log("coooddee",e),console.log("s1",h)}let j={"quarter of a million":25e4,"half a million":5e5,"three quarters of a million":75e4,"one million":1e6},C={"one in two":.5,"one in three":.333,"one in four":.25,"one in five":.2,"one in six":.167,"one in seven":.143,"one in eight":.125,"one in nine":.111,"1 in 10":.1,"1 in 11":.09,"1 in 12":.083,"1 in 13":.077,"1 in 14":.071,"1 in 15":.067,"1 in 16":.063,"1 in 17":.059,"1 in 18":.056,"1 in 19":.053,"1 in 20":.05,"2 in 10":.2,"3 in 10":.3,"4 in 10":.4,"6 in 10":.6,"7 in 10":.7,"8 in 10":.8,"9 in 10":.9,all:1};function N(e,t){let n;"frac"==t?t=C:"num"==t&&(t=j);let r,o=2e6;for(const a in t)Math.abs(e-t[a])<o&&(o=Math.abs(e-t[a]),r=a,e-t[a]==0?n="about":e-t[a]>0?n="just over":e-t[a]<0&&(n="just under"));return[n,r]}let E={good:["bad","fair"],bad:["good","fair"],white:["black","asian"],black:["white","asian"],asian:["white","black"],rented_private:["rented_social","owned"],rented_social:["rented_private","owned"],owned:["rented_private","rented_social"],student:["employee","unemployed","self-employed"],"self-employed":["employee","unemployed","student"],employee:["unemployed","self-employed","student"],unemployed:["employee","self-employed","student"],car_van:["bus","train_metro","foot","home"],bus:["car_van","train_metro","foot","home"],train_metro:["bus","car_van","foot","home"],foot:["bus","train_metro","car_van","home"],home:["bus","train_metro","foot","car_van"],OnePerson:["Cohabiting","Married"],Cohabiting:["OnePerson","Married"],LoneParent:["Married","Cohabiting"],Christian:["Muslim","Noreligion"],Muslim:["Christian","Noreligion"],Noreligion:["Christian","Muslim"],Buddhist:["Hindu","Sikh"],Hindu:["Sikh","Buddhist"],Jewish:["Christian","Muslim"],Sikh:["Hindu","Buddhist"],Single:["Married","Seperated"],Married:["Single","Seperated"],Seperated:["Married","Single"],"40PlushoursWeek":["20to49hoursWeek","1to19hoursWeek"],"20to49hoursWeek":["40PlushoursWeek","1to19hoursWeek"],"1to19hoursWeek":["40PlushoursWeek","20to49hoursWeek"],Kids:["NoKids","NonDepKids"],NoKids:["Kids","NonDepKids"],NonDepKids:["Kids","NoKids"],"Male1-15":["Male49plus"],Male49plus:["Male1-15"],"Female1-15":["Female49plus"],Female49plus:["Female1-15"]};function T(e,t,n,r,o){"number"==typeof r&r<0?r="highest":"number"==typeof r&&(r="lowest");let a,l=Object.assign({},t.data[e[n][0]][e[n][1]+"_rank_local"][o]),i=new Set(E[e[n][3]]);for(let e of Object.keys(l))i.has(e)||delete l[e];if(Object.keys(l).length>1){if("lowest"==r){for(let[e,t]of Object.entries(l))t>0&&delete l[e];a=l.length>0?Object.keys(l).reduce(((e,t)=>l[e]>l[t]?e:t)):void 0}if("highest"==r){for(let[e,t]of Object.entries(l))t<0&&delete l[e];a=l.length>0?Object.keys(l).reduce(((e,t)=>l[e]<l[t]?e:t)):void 0}}else a=Object.keys(l);return a}function M(e,t="r"){let n="";return"rl"==t&&(n="_local"),place.data[s[e][0]][s[e][1]+"_rank"+n].change[T(e,ht(e,t),"change")]}var S;function O(e,t){Object.keys(e).forEach((n=>{"object"==typeof e[n]?O(e[n],t):e[n]=Ie(e[n],{plcname:t,expanded:undefined,health:undefined,child:undefined,wochild:undefined,ndchild:undefined,single:undefined,married:undefined})}))}S="London"==parent?"city":"region",R((()=>{setInterval((function(){d3.selectAll("div#visph").attr("style","\n\t\t\tbackground-color: #f6f6f6; \n\t\t\tcolor: #e1e7ea; \n\t\t\theight: 240px;\n\t\t\tpadding: 80px;\n\t\t\tfont-size: 2.8rem;\n\t\t\tfont-weight: 600;\n\t\t\tmargin-bottom: 80px;")}),1e3)}));return[r,o,a,l,i,c,u,d,p,v,f,h,m,g,$,b,y,x,[{label:"Average age",value:"agemed_value_change"},{label:"Care provision",value:"care_perc_change"},{label:"Employment status",value:"economic_perc_change"},{label:"Ethnicity",value:"ethnicity_perc_change"},{label:"Health",value:"health_perc_change"},{label:"Hours worked",value:"hoursworked_perc_change"},{label:"Households with children",value:"children_perc_change"},{label:"Households by family",value:"household_perc_change"},{label:"Marital status",value:"marital_perc_change"},{label:"Population",value:"population_value_change"},{label:"Religion",value:"religion_value_change"},{label:"Tenure",value:"tenure_perc_change"}],()=>{n(17,x=!0)},k,function(e,t,n){var r=JSON.parse(JSON.stringify(t));function o(e){return e.charAt(0).toUpperCase()+e.slice(1)}return console.log("topics",r),console.log("et ",e.name),O(r,e.name),rosaenlg_en_US.render(_,{language:"en_UK",place:e,data:e.data,eng:d,rgn:p,parent:we(xe(e.parents[0].name)),parentNT:we(xe(e.parents[0].name,"NT")),s:n,priorities:e.Priorities,grewSyn:w,locRankCha:undefined,natRankCha:undefined,locRankCur:undefined,natRankCur:undefined,hiRank:e.hiRank,topic:function(e,t){let o;return o=t||n[e][3],r[n[e][0]][o]},topics:r,chains:E,country:"England",get_word:N,figs:pt,otherEst:T,cur:ft,cha:ht,qui:mt,cap:o,cap:o,otherRank:M,ud:gt,city:S})},function(e){n(0,r=e)},()=>{r&&k(r.value)}]}class bt extends se{constructor(e){super(),ie(this,e,$t,dt,a,{},null,[-1,-1])}}const yt=[];function vt(t,n=e){let r;const o=new Set;function l(e){if(a(t,e)&&(t=e,r)){const e=!yt.length;for(const e of o)e[1](),yt.push(e,t);if(e){for(let e=0;e<yt.length;e+=2)yt[e][0](yt[e+1]);yt.length=0}}}return{set:l,update:function(e){l(e(t))},subscribe:function(a,i=e){const s=[a,i];return o.add(s),1===o.size&&(r=n(l)||e),a(t),()=>{o.delete(s),0===o.size&&(r(),r=null)}}}}function _t(e){let t,n;const r=e[1].default,o=d(r,e,e[0],null);return{c(){t=v("div"),o&&o.c(),j(t,"class","tabs")},m(e,r){$(e,t,r),o&&o.m(t,null),n=!0},p(e,[t]){o&&o.p&&(!n||1&t)&&h(o,r,e,e[0],n?f(r,e[0],t,null):m(e[0]),null)},i(e){n||(X(o,e),n=!0)},o(e){ee(o,e),n=!1},d(e){e&&b(t),o&&o.d(e)}}}const xt={};function wt(e,t,n){let{$$slots:r={},$$scope:o}=t;const a=[],l=[],i=vt(null),s=vt(null);var c,u;return c=xt,u={registerTab:e=>{a.push(e),i.update((t=>t||e)),q((()=>{const t=a.indexOf(e);a.splice(t,1),i.update((n=>n===e?a[t]||a[a.length-1]:n))}))},registerPanel:e=>{l.push(e),s.update((t=>t||e)),q((()=>{const t=l.indexOf(e);l.splice(t,1),s.update((n=>n===e?l[t]||l[l.length-1]:n))}))},selectTab:e=>{const t=a.indexOf(e);i.set(e),s.set(l[t])},selectedTab:i,selectedPanel:s},O().$$.context.set(c,u),e.$$set=e=>{"$$scope"in e&&n(0,o=e.$$scope)},[o,r]}class kt extends se{constructor(e){super(),ie(this,e,wt,_t,a,{})}}function jt(e){let t,n;const r=e[1].default,o=d(r,e,e[0],null);return{c(){t=v("div"),o&&o.c(),j(t,"class","tab-list svelte-1qgay6m")},m(e,r){$(e,t,r),o&&o.m(t,null),n=!0},p(e,[t]){o&&o.p&&(!n||1&t)&&h(o,r,e,e[0],n?f(r,e[0],t,null):m(e[0]),null)},i(e){n||(X(o,e),n=!0)},o(e){ee(o,e),n=!1},d(e){e&&b(t),o&&o.d(e)}}}function Ct(e,t,n){let{$$slots:r={},$$scope:o}=t;return e.$$set=e=>{"$$scope"in e&&n(0,o=e.$$scope)},[o,r]}class Nt extends se{constructor(e){super(),ie(this,e,Ct,jt,a,{})}}function Et(e){let t;const n=e[4].default,r=d(n,e,e[3],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||8&o)&&h(r,n,e,e[3],t?f(n,e[3],o,null):m(e[3]),null)},i(e){t||(X(r,e),t=!0)},o(e){ee(r,e),t=!1},d(e){r&&r.d(e)}}}function Tt(e){let t,n,r=e[0]===e[1]&&Et(e);return{c(){r&&r.c(),t=w()},m(e,o){r&&r.m(e,o),$(e,t,o),n=!0},p(e,[n]){e[0]===e[1]?r?(r.p(e,n),1&n&&X(r,1)):(r=Et(e),r.c(),X(r,1),r.m(t.parentNode,t)):r&&(Y(),ee(r,1,1,(()=>{r=null})),G())},i(e){n||(X(r),n=!0)},o(e){ee(r),n=!1},d(e){r&&r.d(e),e&&b(t)}}}function Mt(e,t,n){let r,{$$slots:o={},$$scope:a}=t;const l={},{registerPanel:i,selectedPanel:s}=F(xt);return u(e,s,(e=>n(0,r=e))),i(l),e.$$set=e=>{"$$scope"in e&&n(3,a=e.$$scope)},[r,l,s,a,o]}class St extends se{constructor(e){super(),ie(this,e,Mt,Tt,a,{})}}function Ot(e){let t,n,r,o;const a=e[5].default,l=d(a,e,e[4],null);return{c(){t=v("button"),l&&l.c(),j(t,"class","svelte-b9uj0r"),T(t,"selected",e[0]===e[1])},m(a,i){$(a,t,i),l&&l.m(t,null),n=!0,r||(o=k(t,"click",e[6]),r=!0)},p(e,[r]){l&&l.p&&(!n||16&r)&&h(l,a,e,e[4],n?f(a,e[4],r,null):m(e[4]),null),3&r&&T(t,"selected",e[0]===e[1])},i(e){n||(X(l,e),n=!0)},o(e){ee(l,e),n=!1},d(e){e&&b(t),l&&l.d(e),r=!1,o()}}}function Rt(e,t,n){let r,{$$slots:o={},$$scope:a}=t;const l={},{registerTab:i,selectTab:s,selectedTab:c}=F(xt);u(e,c,(e=>n(0,r=e))),i(l);return e.$$set=e=>{"$$scope"in e&&n(4,a=e.$$scope)},[r,l,s,c,a,o,()=>s(l)]}class qt extends se{constructor(e){super(),ie(this,e,Rt,Ot,a,{})}}function At(e){let t;return{c(){t=_("Area Reports")},m(e,n){$(e,t,n)},d(e){e&&b(t)}}}function Ft(e){let t;return{c(){t=_("Topic QA")},m(e,n){$(e,t,n)},d(e){e&&b(t)}}}function Pt(e){let t,n,r,o;return t=new qt({props:{$$slots:{default:[At]},$$scope:{ctx:e}}}),r=new qt({props:{$$slots:{default:[Ft]},$$scope:{ctx:e}}}),{c(){re(t.$$.fragment),n=x(),re(r.$$.fragment)},m(e,a){oe(t,e,a),$(e,n,a),oe(r,e,a),o=!0},p(e,n){const o={};1&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const a={};1&n&&(a.$$scope={dirty:n,ctx:e}),r.$set(a)},i(e){o||(X(t.$$.fragment,e),X(r.$$.fragment,e),o=!0)},o(e){ee(t.$$.fragment,e),ee(r.$$.fragment,e),o=!1},d(e){ae(t,e),e&&b(n),ae(r,e)}}}function zt(e){let t,n;return t=new at({}),{c(){re(t.$$.fragment)},m(e,r){oe(t,e,r),n=!0},i(e){n||(X(t.$$.fragment,e),n=!0)},o(e){ee(t.$$.fragment,e),n=!1},d(e){ae(t,e)}}}function Kt(e){let t,n;return t=new bt({}),{c(){re(t.$$.fragment)},m(e,r){oe(t,e,r),n=!0},i(e){n||(X(t.$$.fragment,e),n=!0)},o(e){ee(t.$$.fragment,e),n=!1},d(e){ae(t,e)}}}function Wt(e){let t,n,r,o,a,l;return t=new Nt({props:{$$slots:{default:[Pt]},$$scope:{ctx:e}}}),r=new St({props:{$$slots:{default:[zt]},$$scope:{ctx:e}}}),a=new St({props:{$$slots:{default:[Kt]},$$scope:{ctx:e}}}),{c(){re(t.$$.fragment),n=x(),re(r.$$.fragment),o=x(),re(a.$$.fragment)},m(e,i){oe(t,e,i),$(e,n,i),oe(r,e,i),$(e,o,i),oe(a,e,i),l=!0},p(e,n){const o={};1&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const l={};1&n&&(l.$$scope={dirty:n,ctx:e}),r.$set(l);const i={};1&n&&(i.$$scope={dirty:n,ctx:e}),a.$set(i)},i(e){l||(X(t.$$.fragment,e),X(r.$$.fragment,e),X(a.$$.fragment,e),l=!0)},o(e){ee(t.$$.fragment,e),ee(r.$$.fragment,e),ee(a.$$.fragment,e),l=!1},d(e){ae(t,e),e&&b(n),ae(r,e),e&&b(o),ae(a,e)}}}function Dt(e){let t,n,r,o;return t=new ue({}),r=new kt({props:{$$slots:{default:[Wt]},$$scope:{ctx:e}}}),{c(){re(t.$$.fragment),n=x(),re(r.$$.fragment)},m(e,a){oe(t,e,a),$(e,n,a),oe(r,e,a),o=!0},p(e,[t]){const n={};1&t&&(n.$$scope={dirty:t,ctx:e}),r.$set(n)},i(e){o||(X(t.$$.fragment,e),X(r.$$.fragment,e),o=!0)},o(e){ee(t.$$.fragment,e),ee(r.$$.fragment,e),o=!1},d(e){ae(t,e),e&&b(n),ae(r,e)}}}return new class extends se{constructor(e){super(),ie(this,e,null,Dt,a,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
