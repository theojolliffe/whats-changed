var app=function(){"use strict";function e(){}const t=e=>e;function n(e,t){for(const n in t)e[n]=t[n];return e}function r(e){return e()}function i(){return Object.create(null)}function o(e){e.forEach(r)}function s(e){return"function"==typeof e}function a(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let l;function c(e,t){return l||(l=document.createElement("a")),l.href=t,e===l.href}function u(t,...n){if(null==t)return e;const r=t.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function h(e,t,n){e.$$.on_destroy.push(u(t,n))}function d(e,t,n,r){if(e){const i=f(e,t,n,r);return e[0](i)}}function f(e,t,r,i){return e[1]&&i?n(r.ctx.slice(),e[1](i(t))):r.ctx}function g(e,t,n,r){if(e[2]&&r){const i=e[2](r(n));if(void 0===t.dirty)return i;if("object"==typeof i){const e=[],n=Math.max(t.dirty.length,i.length);for(let r=0;r<n;r+=1)e[r]=t.dirty[r]|i[r];return e}return t.dirty|i}return t.dirty}function p(e,t,n,r,i,o){if(i){const s=f(t,n,r,o);e.p(s,i)}}function m(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}const y="undefined"!=typeof window;let x=y?()=>window.performance.now():()=>Date.now(),$=y?e=>requestAnimationFrame(e):e;const v=new Set;function b(e){v.forEach((t=>{t.c(e)||(v.delete(t),t.f())})),0!==v.size&&$(b)}function w(e,t){e.appendChild(t)}function k(e,t,n){e.insertBefore(t,n||null)}function E(e){e.parentNode.removeChild(e)}function M(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function _(e){return document.createElement(e)}function T(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function N(e){return document.createTextNode(e)}function C(){return N(" ")}function A(){return N("")}function S(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function z(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function L(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function R(e,t){e.value=null==t?"":t}function j(e,t,n,r){e.style.setProperty(t,n,r?"important":"")}let D,F;function P(){if(void 0===D){D=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(e){D=!0}}return D}function q(e,t,n){e.classList[n?"add":"remove"](t)}class O{constructor(){this.e=this.n=null}c(e){this.h(e)}m(e,t,n=null){this.e||(this.e=_(t.nodeName),this.t=t,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)k(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(E)}}function I(e){F=e}function K(){if(!F)throw new Error("Function called outside component initialization");return F}function W(e){K().$$.on_destroy.push(e)}function H(){const e=K();return(t,n)=>{const r=e.$$.callbacks[t];if(r){const i=function(e,t,n=!1){const r=document.createEvent("CustomEvent");return r.initCustomEvent(e,n,!1,t),r}(t,n);r.slice().forEach((t=>{t.call(e,i)}))}}}function U(e,t){K().$$.context.set(e,t)}function B(e){return K().$$.context.get(e)}function G(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e.call(this,t)))}const J=[],V=[],Y=[],Z=[],X=Promise.resolve();let Q=!1;function ee(e){Y.push(e)}function te(e){Z.push(e)}let ne=!1;const re=new Set;function ie(){if(!ne){ne=!0;do{for(let e=0;e<J.length;e+=1){const t=J[e];I(t),oe(t.$$)}for(I(null),J.length=0;V.length;)V.pop()();for(let e=0;e<Y.length;e+=1){const t=Y[e];re.has(t)||(re.add(t),t())}Y.length=0}while(J.length);for(;Z.length;)Z.pop()();Q=!1,ne=!1,re.clear()}}function oe(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ee)}}const se=new Set;let ae;function le(){ae={r:0,c:[],p:ae}}function ce(){ae.r||o(ae.c),ae=ae.p}function ue(e,t){e&&e.i&&(se.delete(e),e.i(t))}function he(e,t,n,r){if(e&&e.o){if(se.has(e))return;se.add(e),ae.c.push((()=>{se.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}}const de="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function fe(e,t){e.d(1),t.delete(e.key)}function ge(e,t){he(e,1,1,(()=>{t.delete(e.key)}))}function pe(e,t,n,r,i,o,s,a,l,c,u,h){let d=e.length,f=o.length,g=d;const p={};for(;g--;)p[e[g].key]=g;const m=[],y=new Map,x=new Map;for(g=f;g--;){const e=h(i,o,g),a=n(e);let l=s.get(a);l?r&&l.p(e,t):(l=c(a,e),l.c()),y.set(a,m[g]=l),a in p&&x.set(a,Math.abs(g-p[a]))}const $=new Set,v=new Set;function b(e){ue(e,1),e.m(a,u),s.set(e.key,e),u=e.first,f--}for(;d&&f;){const t=m[f-1],n=e[d-1],r=t.key,i=n.key;t===n?(u=t.first,d--,f--):y.has(i)?!s.has(r)||$.has(r)?b(t):v.has(i)?d--:x.get(r)>x.get(i)?(v.add(r),b(t)):($.add(i),d--):(l(n,s),d--)}for(;d--;){const t=e[d];y.has(t.key)||l(t,s)}for(;f;)b(m[f-1]);return m}function me(e,t,n){const r=e.$$.props[t];void 0!==r&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}function ye(e){e&&e.c()}function xe(e,t,n,i){const{fragment:a,on_mount:l,on_destroy:c,after_update:u}=e.$$;a&&a.m(t,n),i||ee((()=>{const t=l.map(r).filter(s);c?c.push(...t):o(t),e.$$.on_mount=[]})),u.forEach(ee)}function $e(e,t){const n=e.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function ve(e,t){-1===e.$$.dirty[0]&&(J.push(e),Q||(Q=!0,X.then(ie)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function be(t,n,r,s,a,l,c,u=[-1]){const h=F;I(t);const d=t.$$={fragment:null,ctx:null,props:l,update:e,not_equal:a,bound:i(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(h?h.$$.context:[])),callbacks:i(),dirty:u,skip_bound:!1,root:n.target||h.$$.root};c&&c(d.root);let f=!1;if(d.ctx=r?r(t,n.props||{},((e,n,...r)=>{const i=r.length?r[0]:n;return d.ctx&&a(d.ctx[e],d.ctx[e]=i)&&(!d.skip_bound&&d.bound[e]&&d.bound[e](i),f&&ve(t,e)),n})):[],d.update(),f=!0,o(d.before_update),d.fragment=!!s&&s(d.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);d.fragment&&d.fragment.l(e),e.forEach(E)}else d.fragment&&d.fragment.c();n.intro&&ue(t.$$.fragment),xe(t,n.target,n.anchor,n.customElement),ie()}I(h)}class we{$destroy(){$e(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function ke(t){let n;return{c(){n=_("div"),n.innerHTML="<strong>Warning!</strong> This prototype uses 2011 data in lieu of the latest Census 2021 data. Data are likely to contain inaccuracies.",z(n,"class","warning svelte-srzfvi")},m(e,t){k(e,n,t)},p:e,i:e,o:e,d(e){e&&E(n)}}}class Ee extends we{constructor(e){super(),be(this,e,null,ke,a,{})}}var Me={},_e={};function Te(e){return new Function("d","return {"+e.map((function(e,t){return JSON.stringify(e)+": d["+t+'] || ""'})).join(",")+"}")}function Ne(e){var t=Object.create(null),n=[];return e.forEach((function(e){for(var r in e)r in t||n.push(t[r]=r)})),n}function Ce(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function Ae(e){var t,n=e.getUTCHours(),r=e.getUTCMinutes(),i=e.getUTCSeconds(),o=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":((t=e.getUTCFullYear())<0?"-"+Ce(-t,6):t>9999?"+"+Ce(t,6):Ce(t,4))+"-"+Ce(e.getUTCMonth()+1,2)+"-"+Ce(e.getUTCDate(),2)+(o?"T"+Ce(n,2)+":"+Ce(r,2)+":"+Ce(i,2)+"."+Ce(o,3)+"Z":i?"T"+Ce(n,2)+":"+Ce(r,2)+":"+Ce(i,2)+"Z":r||n?"T"+Ce(n,2)+":"+Ce(r,2)+"Z":"")}var Se=function(e){var t=new RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function r(e,t){var r,i=[],o=e.length,s=0,a=0,l=o<=0,c=!1;function u(){if(l)return _e;if(c)return c=!1,Me;var t,r,i=s;if(34===e.charCodeAt(i)){for(;s++<o&&34!==e.charCodeAt(s)||34===e.charCodeAt(++s););return(t=s)>=o?l=!0:10===(r=e.charCodeAt(s++))?c=!0:13===r&&(c=!0,10===e.charCodeAt(s)&&++s),e.slice(i+1,t-1).replace(/""/g,'"')}for(;s<o;){if(10===(r=e.charCodeAt(t=s++)))c=!0;else if(13===r)c=!0,10===e.charCodeAt(s)&&++s;else if(r!==n)continue;return e.slice(i,t)}return l=!0,e.slice(i,o)}for(10===e.charCodeAt(o-1)&&--o,13===e.charCodeAt(o-1)&&--o;(r=u())!==_e;){for(var h=[];r!==Me&&r!==_e;)h.push(r),r=u();t&&null==(h=t(h,a++))||i.push(h)}return i}function i(t,n){return t.map((function(t){return n.map((function(e){return s(t[e])})).join(e)}))}function o(t){return t.map(s).join(e)}function s(e){return null==e?"":e instanceof Date?Ae(e):t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}return{parse:function(e,t){var n,i,o=r(e,(function(e,r){if(n)return n(e,r-1);i=e,n=t?function(e,t){var n=Te(e);return function(r,i){return t(n(r),i,e)}}(e,t):Te(e)}));return o.columns=i||[],o},parseRows:r,format:function(t,n){return null==n&&(n=Ne(t)),[n.map(s).join(e)].concat(i(t,n)).join("\n")},formatBody:function(e,t){return null==t&&(t=Ne(e)),i(e,t).join("\n")},formatRows:function(e){return e.map(o).join("\n")},formatRow:o,formatValue:s}}(","),ze=Se.parse;function Le(e){for(var t in e){var n,r,i=e[t].trim();if(i)if("true"===i)i=!0;else if("false"===i)i=!1;else if("NaN"===i)i=NaN;else if(isNaN(n=+i)){if(!(r=i.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;Re&&r[4]&&!r[7]&&(i=i.replace(/-/g,"/").replace(/T/," ")),i=new Date(i)}else i=n;else i=null;e[t]=i}return e}const Re=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours(),je=e=>{if(e<10)return["","first","second","third","fourth","fifth","sixth","seventh","eighth","ninth"][e];const t=e%10,n=e%100;return 1===t&&11!==n?e+"st":2===t&&12!==n?e+"nd":3===t&&13!==n?e+"rd":e+"th"},De=(e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a string, got "+typeof e);let n=1,r=e.charAt(0);const i=function(){return r},o=function(t){throw JSON.stringify({name:"Robo-journalist error",message:t,at:n,text:e})},s=function(t){return t&&t!==r&&o("Expected '"+t+"' instead of '"+r+"'"),r=e.charAt(n),n+=1,r},a=function(e){const n=e.split(".");let r=t;for(const t of n)try{r=r[t]}catch{o(`${e} is not in the data dictionary.`)}return r},l=function(e){const t=e.split(" "),n={"+":(e,t)=>e+t,"-":(e,t)=>e-t,"*":(e,t)=>e*t,"/":(e,t)=>e/t,"<":(e,t)=>e<t,">":(e,t)=>e>t,"<=":(e,t)=>e<=t,">=":(e,t)=>e>=t},r=[];for(const e of t)if(/^-?\d+$/.test(e))r.push(Number(e));else if(e in n){const t=Number(r.pop()),i=Number(r.pop());r.push(n[e](i,t))}else if("'"===e)r[r.length-1]="s"===(i=r[r.length-1])[i.length-1]?i+"'":i+"'s";else if(","===e)r[r.length-1]=r[r.length-1].toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");else if(".0"===e)r[r.length-1]=r[r.length-1].toFixed(0);else if(".1"===e)r[r.length-1]=r[r.length-1].toFixed(1);else if(".2"===e)r[r.length-1]=r[r.length-1].toFixed(2);else if("~abs"===e)r[r.length-1]=Math.abs(r[r.length-1]);else if("~ord"===e)r[r.length-1]=je(Number(r[r.length-1]));else if("~ord'"===e){let e=je(Number(r.pop()));"first"===e?e="":e+=" ",r.push(e)}else"^"===e.charAt(0)?r[r.length-1]=a(e.slice(1))(r[r.length-1]):r.push(a(e));var i;return 1!==r.length&&o("Invalid RPN"),r[0]},c=function(e){s("?");const t=h();s(":");const n=h();return s("}"),e?t:n},u=function(){if(s("{"),":"===r)return s(":"),s("}"),":";let e="";for(;i();){if("}"===r)return s("}"),l(e);if("?"===r)return c(l(e));e+=r,s()}o("Braces not closed")},h=function(){let e="";for(;i();){if(":"===r||"}"===r)return e;"{"!==r?(e+=r,s()):e+=u()}return e},d=h();return""!==r&&o(`Didn't expect '${r}'`),d};async function Fe(e){let t=await fetch(e),n=await t.text();return await ze(n,Le)}let Pe={good:["bad","fair"],bad:["good","fair"],white:["black","asian"],black:["white","asian"],asian:["white","black"],rented_private:["rented_social","owned"],rented_social:["rented_private","owned"],owned:["rented_private","rented_social"],student:["employee","unemployed","self-employed"],"self-employed":["employee","unemployed","student"],employee:["unemployed","self-employed","student"],unemployed:["employee","self-employed","student"],car_van:["bus","train_metro","foot","home"],bus:["car_van","train_metro","foot","home"],train_metro:["bus","car_van","foot","home"],foot:["bus","train_metro","car_van","home"],home:["bus","train_metro","foot","car_van"],OnePerson:["Cohabiting","Married"],Cohabiting:["OnePerson","Married"],LoneParent:["Married","Cohabiting"],Christian:["Muslim","Noreligion"],Muslim:["Christian","Noreligion"],Noreligion:["Christian","Muslim"],Buddhist:["Hindu","Sikh"],Hindu:["Sikh","Buddhist"],Jewish:["Christian","Muslim"],Sikh:["Hindu","Buddhist"],Single:["Married","Seperated"],Married:["Single","Seperated"],Seperated:["Married","Single"],"40PlushoursWeek":["20to49hoursWeek","1to19hoursWeek"],"20to49hoursWeek":["40PlushoursWeek","1to19hoursWeek"],"1to19hoursWeek":["40PlushoursWeek","20to49hoursWeek"],Kids:["NoKids","NonDepKids"],NoKids:["Kids","NonDepKids"],NonDepKids:["Kids","NoKids"],"Male1-15":["Male49plus"],Male49plus:["Male1-15"],"Female1-15":["Female49plus"],Female49plus:["Female1-15"]},qe=["South East","South West","East","West Midlands","East Midlands","North East","North West"];function Oe(e,t){return"East"==e&&(e+=" England"),!qe.includes(e)|"NT"==t?e:"The "+e}function Ie(e){return"The"==e.slice(0,3)?e.charAt(0).toLowerCase()+e.slice(1):e}function Ke(e,t,n){return{1:"",2:"second-",3:"third-",4:"fourth-",5:"fifth-"}[Math.abs(e)]+(e<0?t:n)}let We={"quarter of a million":25e4,"half a million":5e5,"three quarters of a million":75e4,"one million":1e6},He={"one in two":.5,"one in three":.333,"one in four":.25,"one in five":.2,"one in six":.167,"one in seven":.143,"one in eight":.125,"one in nine":.111,"1 in 10":.1,"1 in 11":.09,"1 in 12":.083,"1 in 13":.077,"1 in 14":.071,"1 in 15":.067,"1 in 16":.063,"1 in 17":.059,"1 in 18":.056,"1 in 19":.053,"1 in 20":.05,"2 in 10":.2,"3 in 10":.3,"4 in 10":.4,"6 in 10":.6,"7 in 10":.7,"8 in 10":.8,"9 in 10":.9,all:1};function Ue(e,t){let n;"frac"==t?t=He:"num"==t&&(t=We);let r,i=2e6;for(const o in t)Math.abs(e-t[o])<i&&(i=Math.abs(e-t[o]),r=o,e-t[o]==0?n="about":e-t[o]>0?n="just over":e-t[o]<0&&(n="just under"));return[n,r]}function Be(e,t){3!=t&&(t=2);let n,r=Number.parseFloat(Number.parseFloat(e).toPrecision(t));return e-r<-e/100&&(n="under "),n=e-r<-e/800?1==Math.round(Math.random())?"almost ":"just under ":e-r>e/100?" just over ":e-r>e/800?"just over ":"about",[n,r]}function Ge(e,t,n,r){return r="rl"==r?"_rank_local":"r"==r?"_rank":"",t.data[e[n][0]][e[n][1]+r][2001][e[n][3]]}function Je(e,t,n,r){return r="rl"==r?"_rank_local":"r"==r?"_rank":"",t.data[e[n][0]][e[n][1]+r][2011][e[n][3]]}function Ve(e,t,n,r){let i;r="rl"==r?"_rank_local":"r"==r?"_rank":"";try{i=Math.round(10*t.data[e[n][0]][e[n][1]+r].change[e[n][3]])/10}catch(e){console.log(e.message)}return i}function Ye(e){return Math.ceil(5*e/331)}function Ze(e,t,n,r,i){"number"==typeof r&r<0?r="highest":"number"==typeof r&&(r="lowest");let o,s=Object.assign({},t.data[e[n][0]][e[n][1]+"_rank_local"][i]),a=new Set(Pe[e[n][3]]);for(let e of Object.keys(s))a.has(e)||delete s[e];if(Object.keys(s).length>1){if("lowest"==r){for(let[e,t]of Object.entries(s))t>0&&delete s[e];o=s.length>0?Object.keys(s).reduce(((e,t)=>s[e]>s[t]?e:t)):void 0}if("highest"==r){for(let[e,t]of Object.entries(s))t<0&&delete s[e];o=s.length>0?Object.keys(s).reduce(((e,t)=>s[e]<s[t]?e:t)):void 0}}else o=Object.keys(s);return o}function Xe(e,t,n,r="r"){let i="";return"rl"==r&&(i="_local"),t.data[e[n][0]][e[n][1]+"_rank"+i].change[Ze(e,t,n,Ve(e,t,n,r),"change")]}function Qe(e,t,n){return e<0?n:t}var et;function tt(e,t){return Math.sign(e)==Math.sign(t)}et="London"==parent?"city":"region";var nt=["","","second-","third-","fourth-","fifth-","sixth-","seventh-","eighth-","ninth-"],rt=["no","one","two","three","four","five","six","seven","eight","nine"];function it(e){return e<10?rt[e]:e}function ot(e){let t;return t=Math.abs(e)<10?nt[Math.abs(e)]:function(e){let t;if(12==e)t="twelfth";else if(e>10&e<20)t=e+"th";else{let n=Math.round(e)%10;t=1==n?e+"st":2==n?e+"nd":3==n?e+"rd":e+"th"}return t}(Math.abs(e))+"-",t}var st={"0-9":["children under the age of nine years","under nine years"],"10-19":["people between the ages of 10 and 19 years","between 10 and 19 years"],"20-29":["people between the ages of 20 and 29 years","between 20 and 29 years"],"30-39":["people between the ages of 30 and 39 years","between 30 and 39 years"],"40-49":["people between the ages of 40 and 49 years","between 40 and 49 years"],"50-59":["people between the ages of 50 and 59 years","between 50 and 59 years"],"60-69":["people between the ages of 60 and 69 years","between 60 and 69 years"],"70-79":["people between the ages of 70 and 79 years","between 70 and 79 years"],"80plus":["people aged 80 years or over","over the age of 80 years"]};function at(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===t.length&&e.every(((e,n)=>e===t[n]))}function lt(e,t,n){let r=Qe(e,t,n);return ot(e)+r}function ct(e,t){let n,r=(e-t)/t*100;return n=Math.abs(r)>7?"considerably":Math.abs(r)>3?"somewhat":"slightly",n}function ut(e,t,n,r){return e<-1?n:e>1?t:r}function ht(e,t,n){const r=e.slice();return r[37]=t[n],r[40]=t,r[39]=n,r}function dt(e,t,n){const r=e.slice();return r[37]=t[n],r[38]=t,r[39]=n,r}function ft(e){let t,n,r,i,o,s,a,l=(e[0]?e[0]:"Select one")+"";return{c(){t=_("a"),n=_("span"),r=N(l),i=C(),o=_("span"),o.textContent=" ",z(n,"class","svelte-qdzmwx"),z(o,"class","button svelte-qdzmwx"),q(o,"search",e[3]),q(o,"down",!e[3]),z(t,"id","toggle"),z(t,"class","svelte-qdzmwx")},m(l,c){k(l,t,c),w(t,n),w(n,r),w(t,i),w(t,o),s||(a=S(t,"click",e[13]),s=!0)},p(e,t){1&t[0]&&l!==(l=(e[0]?e[0]:"Select one")+"")&&L(r,l),8&t[0]&&q(o,"search",e[3]),8&t[0]&&q(o,"down",!e[3])},d(e){e&&E(t),s=!1,a()}}}function gt(e){let t,n,r,i,s,a,l,c,u=e[6][e[1]]+"",h=e[2]&&pt(e);return{c(){t=_("a"),n=_("span"),r=N(u),i=C(),h&&h.c(),s=C(),a=_("span"),a.textContent=" ",z(n,"class","selection svelte-qdzmwx"),z(a,"class","button close svelte-qdzmwx"),z(t,"id","toggle"),z(t,"class","selected svelte-qdzmwx")},m(o,u){k(o,t,u),w(t,n),w(n,r),w(n,i),h&&h.m(n,null),w(t,s),w(t,a),l||(c=[S(a,"click",e[15]),S(t,"click",e[13])],l=!0)},p(e,t){66&t[0]&&u!==(u=e[6][e[1]]+"")&&L(r,u),e[2]?h?h.p(e,t):(h=pt(e),h.c(),h.m(n,null)):h&&(h.d(1),h=null)},d(e){e&&E(t),h&&h.d(),l=!1,o(c)}}}function pt(e){let t,n,r=e[6][e[2]]+"";return{c(){t=_("small"),n=N(r),z(t,"class","svelte-qdzmwx")},m(e,r){k(e,t,r),w(t,n)},p(e,t){68&t[0]&&r!==(r=e[6][e[2]]+"")&&L(n,r)},d(e){e&&E(t)}}}function mt(e){let t,n,r,i,s,a;function l(e,t){return e[4].length<0?vt:e[9][0]&&e[2]?$t:e[9][0]?xt:yt}let c=l(e),u=c(e);return{c(){t=_("div"),n=_("input"),r=C(),i=_("ul"),u.c(),z(n,"type","text"),z(n,"placeholder",""),z(n,"autocomplete","false"),z(n,"class","svelte-qdzmwx"),z(i,"class","svelte-qdzmwx"),z(t,"id","dropdown"),j(t,"top","0"),z(t,"class","svelte-qdzmwx")},m(o,l){k(o,t,l),w(t,n),R(n,e[4]),e[25](n),w(t,r),w(t,i),u.m(i,null),e[35](t),s||(a=[S(n,"input",e[24]),S(n,"keyup",e[17])],s=!0)},p(e,t){16&t[0]&&n.value!==e[4]&&R(n,e[4]),c===(c=l(e))&&u?u.p(e,t):(u.d(1),u=c(e),u&&(u.c(),u.m(i,null)))},d(n){n&&E(t),e[25](null),u.d(),e[35](null),s=!1,o(a)}}}function yt(t){let n;return{c(){n=_("li"),n.textContent="No results",z(n,"class","svelte-qdzmwx")},m(e,t){k(e,n,t)},p:e,d(e){e&&E(n)}}}function xt(e){let t,n=e[9],r=[];for(let t=0;t<n.length;t+=1)r[t]=bt(ht(e,n,t));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=A()},m(e,n){for(let t=0;t<r.length;t+=1)r[t].m(e,n);k(e,t,n)},p(e,i){if(19202&i[0]){let o;for(n=e[9],o=0;o<n.length;o+=1){const s=ht(e,n,o);r[o]?r[o].p(s,i):(r[o]=bt(s),r[o].c(),r[o].m(t.parentNode,t))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(e){M(r,e),e&&E(t)}}}function $t(e){let t,n=e[9],r=[];for(let t=0;t<n.length;t+=1)r[t]=kt(dt(e,n,t));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=A()},m(e,n){for(let t=0;t<r.length;t+=1)r[t].m(e,n);k(e,t,n)},p(e,i){if(23298&i[0]){let o;for(n=e[9],o=0;o<n.length;o+=1){const s=dt(e,n,o);r[o]?r[o].p(s,i):(r[o]=kt(s),r[o].c(),r[o].m(t.parentNode,t))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(e){M(r,e),e&&E(t)}}}function vt(t){let n;return{c(){n=_("li"),n.textContent="Type a name...",z(n,"class","svelte-qdzmwx")},m(e,t){k(e,n,t)},p:e,d(e){e&&E(n)}}}function bt(e){let t,n,r,i,s,a=e[37][e[1]]+"",l=e[39];function c(){return e[32](e[37])}function u(){return e[33](e[39])}const h=()=>e[34](t,l),d=()=>e[34](null,l);return{c(){t=_("li"),n=N(a),r=C(),z(t,"class","svelte-qdzmwx"),q(t,"highlight",e[8]==e[39])},m(e,o){k(e,t,o),w(t,n),w(t,r),h(),i||(s=[S(t,"click",c),S(t,"mouseover",u)],i=!0)},p(r,i){e=r,514&i[0]&&a!==(a=e[37][e[1]]+"")&&L(n,a),l!==e[39]&&(d(),l=e[39],h()),256&i[0]&&q(t,"highlight",e[8]==e[39])},d(e){e&&E(t),d(),i=!1,o(s)}}}function wt(e){let t,n=console.log("--666-----option",e[37][e[1]],e[12].find(r))+"";function r(...t){return e[26](e[37],...t)}return{c(){t=N(n)},m(e,n){k(e,t,n)},p(i,o){e=i,4610&o[0]&&n!==(n=console.log("--666-----option",e[37][e[1]],e[12].find(r))+"")&&L(t,n)},d(e){e&&E(t)}}}function kt(e){let t,n,r,i,s,a,l,c,u,h=!e[12].find(p),d=e[37][e[1]]+"",f=e[12].find(y)["Supergroup name"]+", "+e[12].find(x)["Region/Country"],g=e[39];function p(...t){return e[23](e[37],...t)}let m=h&&wt(e);function y(...t){return e[27](e[37],...t)}function x(...t){return e[28](e[37],...t)}function $(){return e[29](e[37])}function v(){return e[30](e[39])}const b=()=>e[31](n,g),M=()=>e[31](null,g);return{c(){m&&m.c(),t=C(),n=_("li"),r=N(d),i=C(),s=_("small"),a=N(f),l=C(),z(s,"class","svelte-qdzmwx"),z(n,"class","svelte-qdzmwx"),q(n,"highlight",e[8]==e[39])},m(e,o){m&&m.m(e,o),k(e,t,o),k(e,n,o),w(n,r),w(n,i),w(n,s),w(s,a),w(n,l),b(),c||(u=[S(n,"click",$),S(n,"mouseover",v)],c=!0)},p(i,o){e=i,4610&o[0]&&(h=!e[12].find(p)),h?m?m.p(e,o):(m=wt(e),m.c(),m.m(t.parentNode,t)):m&&(m.d(1),m=null),514&o[0]&&d!==(d=e[37][e[1]]+"")&&L(r,d),4610&o[0]&&f!==(f=e[12].find(y)["Supergroup name"]+", "+e[12].find(x)["Region/Country"])&&L(a,f),g!==e[39]&&(M(),g=e[39],b()),256&o[0]&&q(n,"highlight",e[8]==e[39])},d(e){m&&m.d(e),e&&E(t),e&&E(n),M(),c=!1,o(u)}}}function Et(t){let n,r,i,o;function s(e,t){return e[6]&&!e[3]?gt:ft}let a=s(t),l=a(t),c=t[7]&&mt(t);return{c(){n=_("div"),l.c(),r=C(),c&&c.c(),z(n,"id","select"),z(n,"class","svelte-qdzmwx"),q(n,"active",t[7])},m(e,s){k(e,n,s),l.m(n,null),w(n,r),c&&c.m(n,null),i||(o=S(n,"keydown",t[16]),i=!0)},p(e,t){a===(a=s(e))&&l?l.p(e,t):(l.d(1),l=a(e),l&&(l.c(),l.m(n,r))),e[7]?c?c.p(e,t):(c=mt(e),c.c(),c.m(n,null)):c&&(c.d(1),c=null),128&t[0]&&q(n,"active",e[7])},i:e,o:e,d(e){e&&E(n),l.d(),c&&c.d(),i=!1,o()}}}function Mt(e,t,n){let r;const i=H();let o,s,a,l,{options:c}=t,{selected:u=null}=t,{placeholder:h="Find an area..."}=t,{value:d="code"}=t,{label:f="name"}=t,{group:g=null}=t,{search:p=!1}=t,m=u,y=u?c.find((e=>{e[d],u[d]})):null,x=!1,$="",v=null,b=[];function w(e){n(18,u=e),n(7,x=!1),i("select",{selected:e,value:e[d]})}Fe("https://raw.githubusercontent.com/theojolliffe/census-data/main/csv/lists/Corresponding%20Local%20Authorities-Table%201.csv").then((e=>{e.forEach((e=>{})),n(12,l=e)}));return e.$$set=e=>{"options"in e&&n(19,c=e.options),"selected"in e&&n(18,u=e.selected),"placeholder"in e&&n(0,h=e.placeholder),"value"in e&&n(20,d=e.value),"label"in e&&n(1,f=e.label),"group"in e&&n(2,g=e.group),"search"in e&&n(3,p=e.search)},e.$$.update=()=>{16&e.$$.dirty[0]&&n(22,r=$?new RegExp($,"i"):null),4718594&e.$$.dirty[0]&&(n(9,o=r?c.filter((e=>r.test(e[f]))):c),n(8,v=0)),32&e.$$.dirty[0]&&(document.onclick=function(e){e.target!==s&&(n(7,x=!1),n(8,v=0))}),3932160&e.$$.dirty[0]&&m!=u&&(n(6,y=c.find((e=>e[d]==u[d]))),n(21,m=u))},[h,f,g,p,$,s,y,x,v,o,a,b,l,function(e){var t;e.stopPropagation(),n(4,$=""),n(7,x=!x),(t=10,new Promise((e=>setTimeout(e,t)))).then((()=>{a&&x&&a.focus()}))},w,function(e){e.stopPropagation(),n(18,u=null),n(21,m=null),n(6,y=null),i("select",{selected:null,value:null})},function(e){x&&o[0]&&Number.isInteger(v)&&(38===e.keyCode?(n(8,v-=v>0?1:0),b[v].scrollIntoView({block:"nearest",inline:"start"})):40===e.keyCode&&(n(8,v+=v<o.length-1?1:0),b[v].scrollIntoView({block:"nearest",inline:"end"})))},function(e){o[0]&&Number.isInteger(v)&&13===e.keyCode&&w(o[v])},u,c,d,m,r,(e,t)=>t.Name==e[f],function(){$=this.value,n(4,$)},function(e){V[e?"unshift":"push"]((()=>{a=e,n(10,a)}))},(e,t)=>t.Name==e[f],(e,t)=>t.Name==e[f],(e,t)=>t.Name==e[f],e=>w(e),e=>n(8,v=e),function(e,t){V[e?"unshift":"push"]((()=>{b[t]=e,n(11,b)}))},e=>w(e),e=>n(8,v=e),function(e,t){V[e?"unshift":"push"]((()=>{b[t]=e,n(11,b)}))},function(e){V[e?"unshift":"push"]((()=>{s=e,n(5,s)}))}]}class _t extends we{constructor(e){super(),be(this,e,Mt,Et,a,{options:19,selected:18,placeholder:0,value:20,label:1,group:2,search:3},null,[-1,-1])}}var Tt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Nt(e){var t={exports:{}};return e(t,t.exports),t.exports}var Ct=Nt((function(e,t){(function(){var n={load:function(e,t){var n="\\u0000\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u200B\\u2028\\u2029\\u202F\\u205F\\u3000\\uFEFF\\u005B\\u005C\\u005D\\u007B\\u007D\\u003A",r=new RegExp(".*((\r|\n)+)"),i=new RegExp("^\\s*([^"+n+"]+)[ \t\r]*:[ \t\r]*(.*(?:\n|\r|$))"),o=new RegExp("^\\s*:[ \t\r]*(endskip|ignore|skip|end).*?(\n|\r|$)","i"),s=new RegExp("^\\s*\\*[ \t\r]*(.*(?:\n|\r|$))"),a=new RegExp("^\\s*(\\[|\\{)[ \t\r]*([+.]*)[ \t\r]*([^"+n+"]*)[ \t\r]*(?:\\]|\\}).*?(\n|\r|$)"),l={},c=l,u=[],h=void 0,d=null,f=null,g="",p=!1;for(!0!==(t=t||{}).comments&&(t.comments=!1);e;){var m;o.exec(e)?$((m=o.exec(e))[1].toLowerCase()):p||!i.exec(e)||h&&"simple"===h.arrayType?!p&&s.exec(e)&&h&&h.array&&"complex"!==h.arrayType&&"freeform"!==h.arrayType&&h.flags.indexOf("+")<0?x((m=s.exec(e))[1]):!p&&a.exec(e)?v((m=a.exec(e))[1],m[2],m[3]):r.exec(e)?b((m=r.exec(e))[0]):(b(e),e=""):y((m=i.exec(e))[1],m[2]||""),m&&(e=e.substring(m[0].length))}function y(e,t){E(),w(e),h&&h.flags.indexOf("+")>-1&&(e="value"),f=e,g=t,M(e,{replace:!0})}function x(e){E(),h.arrayType=h.arrayType||"simple",h.array.push(""),f=h.array,g=e,M(h.array,{replace:!0})}function $(t){if(p&&"endskip"!==t&&"ignore"!==t)return E();switch(t){case"end":return void(f&&M(f,{replace:!1}));case"ignore":e="";break;case"skip":p=!0;break;case"endskip":p=!1}E()}function v(e,t,n){if(E(),""==n){var r=u.pop();c=(r?r.scope:l)||l,h=u[u.length-1]}else if("["===e||"{"===e){var i=!1,o=l;if(t.indexOf(".")>-1?(w(n),i=!0,h&&(o=c)):(c=l,u=[]),h&&h.flags.indexOf("+")>-1)var s=n;else{for(var a=n.split("."),d=0;d<a.length-1;d++)o=o[a[d]]=o[a[d]]||{};s=a[a.length-1]}var f={array:null,arrayType:null,arrayFirstKey:null,flags:t,scope:c},g=h&&h.flags.indexOf("+")>-1&&t.indexOf(".")>-1;"["==e?(g&&(s="value"),f.array=o[s]=[],t.indexOf("+")>-1&&(f.arrayType="freeform"),i?u.push(f):u=[f],h=u[u.length-1]):"{"==e&&(i?(c=g?c.value={}:o[s]=o={},u.push(f)):(c=o[s]="object"==typeof o[s]?o[s]:{},u=[f]),h=u[u.length-1])}}function b(t){h&&h.flags.indexOf("+")>-1&&t.match(/[^\n\r\s]/)?h.array.push({type:"text",value:t.replace(/(^\s*)|(\s*$)/g,"")}):g+=e.substring(0,t.length)}function w(e){if(h&&h.array){if(h.arrayType=h.arrayType||"complex","simple"===h.arrayType)return;null!==h.arrayFirstKey&&h.arrayFirstKey!==e||h.array.push(c={}),h.flags.indexOf("+")>-1?c.type=e:h.arrayFirstKey=h.arrayFirstKey||e}}function k(e,n){return t.comments&&(e=(e=e.replace(/(?:^\\)?\[[^\[\]\n\r]*\](?!\])/gm,"")).replace(/\[\[([^\[\]\n\r]*)\]\]/g,"[$1]")),"append"==n&&(e=e.replace(new RegExp("^(\\s*)\\\\","gm"),"$1")),e}function E(){var e=g+"";return g="",f=null,e}function M(e,t){t=t||{};var n=f,r=E();if(t.replace?(r=k(r,"replace").replace(new RegExp("^\\s*"),""),g=new RegExp("\\s*$").exec(r)[0],f=n):r=k(r,"append"),"object"==typeof e)t.replace&&(e[e.length-1]=""),e[e.length-1]+=r.replace(new RegExp("\\s*$"),"");else{var i=e.split(".");d=c;for(var o=0;o<i.length-1;o++)"string"==typeof d[i[o]]&&(d[i[o]]={}),d=d[i[o]]=d[i[o]]||{};t.replace&&(d[i[i.length-1]]=""),d[i[i.length-1]]+=r.replace(new RegExp("\\s*$"),"")}}return E(),l}};e.exports&&(t=e.exports=n),t.archieml=n}).call(Tt)})),At=Nt((function(e,t){!function(t,n){e.exports=n()}(0,(function(){var e=[],t=[],n={},r={},i={};function o(e){return"string"==typeof e?new RegExp("^"+e+"$","i"):e}function s(e,t){return e===t?t:e===e.toLowerCase()?t.toLowerCase():e===e.toUpperCase()?t.toUpperCase():e[0]===e[0].toUpperCase()?t.charAt(0).toUpperCase()+t.substr(1).toLowerCase():t.toLowerCase()}function a(e,t){return e.replace(/\$(\d{1,2})/g,(function(e,n){return t[n]||""}))}function l(e,t){return e.replace(t[0],(function(n,r){var i=a(t[1],arguments);return s(""===n?e[r-1]:n,i)}))}function c(e,t,r){if(!e.length||n.hasOwnProperty(e))return t;for(var i=r.length;i--;){var o=r[i];if(o[0].test(t))return l(t,o)}return t}function u(e,t,n){return function(r){var i=r.toLowerCase();return t.hasOwnProperty(i)?s(r,i):e.hasOwnProperty(i)?s(r,e[i]):c(i,r,n)}}function h(e,t,n,r){return function(r){var i=r.toLowerCase();return!!t.hasOwnProperty(i)||!e.hasOwnProperty(i)&&c(i,i,n)===i}}function d(e,t,n){return(n?t+" ":"")+(1===t?d.singular(e):d.plural(e))}return d.plural=u(i,r,e),d.isPlural=h(i,r,e),d.singular=u(r,i,t),d.isSingular=h(r,i,t),d.addPluralRule=function(t,n){e.push([o(t),n])},d.addSingularRule=function(e,n){t.push([o(e),n])},d.addUncountableRule=function(e){"string"!=typeof e?(d.addPluralRule(e,"$0"),d.addSingularRule(e,"$0")):n[e.toLowerCase()]=!0},d.addIrregularRule=function(e,t){t=t.toLowerCase(),e=e.toLowerCase(),i[e]=t,r[t]=e},[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["passerby","passersby"]].forEach((function(e){return d.addIrregularRule(e[0],e[1])})),[[/s?$/i,"s"],[/[^\u0000-\u007F]$/i,"$0"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|t[lm]as|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[ejzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/\b((?:tit)?m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]].forEach((function(e){return d.addPluralRule(e[0],e[1])})),[[/s$/i,""],[/(ss)$/i,"$1"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/\b([pl]|zomb|(?:neck|cross)?t|coll|faer|food|gen|goon|group|lass|talk|goal|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/\b((?:tit)?m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|t[lm]as|gas|(?:her|at|gr)o|[aeiou]ris)(?:es)?$/i,"$1"],[/(analy|diagno|parenthe|progno|synop|the|empha|cri|ne)(?:sis|ses)$/i,"$1sis"],[/(movie|twelve|abuse|e[mn]u)s$/i,"$1"],[/(test)(?:is|es)$/i,"$1is"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]].forEach((function(e){return d.addSingularRule(e[0],e[1])})),["adulthood","advice","agenda","aid","aircraft","alcohol","ammo","analytics","anime","athletics","audio","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","cod","commerce","cooperation","corps","debris","diabetes","digestion","elk","energy","equipment","excretion","expertise","firmware","flounder","fun","gallows","garbage","graffiti","hardware","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","mud","manga","news","only","personnel","pike","plankton","pliers","police","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","software","species","staff","swine","tennis","traffic","transportation","trout","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/pok[eé]mon$/i,/[^aeiou]ese$/i,/deer$/i,/fish$/i,/measles$/i,/o[iu]s$/i,/pox$/i,/sheep$/i].forEach(d.addUncountableRule),d}))}));function St(e){return Array.isArray?Array.isArray(e):"[object Array]"===Pt(e)}function zt(e){return"string"==typeof e}function Lt(e){return"number"==typeof e}function Rt(e){return!0===e||!1===e||function(e){return jt(e)&&null!==e}(e)&&"[object Boolean]"==Pt(e)}function jt(e){return"object"==typeof e}function Dt(e){return null!=e}function Ft(e){return!e.trim().length}function Pt(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const qt=Object.prototype.hasOwnProperty;class Ot{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach((e=>{let n=It(e);t+=n.weight,this._keys.push(n),this._keyMap[n.id]=n,t+=n.weight})),this._keys.forEach((e=>{e.weight/=t}))}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function It(e){let t=null,n=null,r=null,i=1;if(zt(e)||St(e))r=e,t=Kt(e),n=Wt(e);else{if(!qt.call(e,"name"))throw new Error((e=>`Missing ${e} property in key`)("name"));const o=e.name;if(r=o,qt.call(e,"weight")&&(i=e.weight,i<=0))throw new Error((e=>`Property 'weight' in key '${e}' must be a positive integer`)(o));t=Kt(o),n=Wt(o)}return{path:t,id:n,weight:i,src:r}}function Kt(e){return St(e)?e:e.split(".")}function Wt(e){return St(e)?e.join("."):e}var Ht={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1,includeMatches:!1,findAllMatches:!1,minMatchCharLength:1,location:0,threshold:.6,distance:100,...{useExtendedSearch:!1,getFn:function(e,t){let n=[],r=!1;const i=(e,t,o)=>{if(Dt(e))if(t[o]){const s=e[t[o]];if(!Dt(s))return;if(o===t.length-1&&(zt(s)||Lt(s)||Rt(s)))n.push(function(e){return null==e?"":function(e){if("string"==typeof e)return e;let t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(e)}(s));else if(St(s)){r=!0;for(let e=0,n=s.length;e<n;e+=1)i(s[e],t,o+1)}else t.length&&i(s,t,o+1)}else n.push(e)};return i(e,zt(t)?t.split("."):t,0),r?n:n[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1}};const Ut=/[^ ]+/g;class Bt{constructor({getFn:e=Ht.getFn,fieldNormWeight:t=Ht.fieldNormWeight}={}){this.norm=function(e=1,t=3){const n=new Map,r=Math.pow(10,t);return{get(t){const i=t.match(Ut).length;if(n.has(i))return n.get(i);const o=1/Math.pow(i,.5*e),s=parseFloat(Math.round(o*r)/r);return n.set(i,s),s},clear(){n.clear()}}}(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach(((e,t)=>{this._keysMap[e.id]=t}))}create(){!this.isCreated&&this.docs.length&&(this.isCreated=!0,zt(this.docs[0])?this.docs.forEach(((e,t)=>{this._addString(e,t)})):this.docs.forEach(((e,t)=>{this._addObject(e,t)})),this.norm.clear())}add(e){const t=this.size();zt(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,n=this.size();t<n;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!Dt(e)||Ft(e))return;let n={v:e,i:t,n:this.norm.get(e)};this.records.push(n)}_addObject(e,t){let n={i:t,$:{}};this.keys.forEach(((t,r)=>{let i=this.getFn(e,t.path);if(Dt(i))if(St(i)){let e=[];const t=[{nestedArrIndex:-1,value:i}];for(;t.length;){const{nestedArrIndex:n,value:r}=t.pop();if(Dt(r))if(zt(r)&&!Ft(r)){let t={v:r,i:n,n:this.norm.get(r)};e.push(t)}else St(r)&&r.forEach(((e,n)=>{t.push({nestedArrIndex:n,value:e})}))}n.$[r]=e}else if(!Ft(i)){let e={v:i,n:this.norm.get(i)};n.$[r]=e}})),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function Gt(e,t,{getFn:n=Ht.getFn,fieldNormWeight:r=Ht.fieldNormWeight}={}){const i=new Bt({getFn:n,fieldNormWeight:r});return i.setKeys(e.map(It)),i.setSources(t),i.create(),i}function Jt(e,{errors:t=0,currentLocation:n=0,expectedLocation:r=0,distance:i=Ht.distance,ignoreLocation:o=Ht.ignoreLocation}={}){const s=t/e.length;if(o)return s;const a=Math.abs(r-n);return i?s+a/i:a?1:s}const Vt=32;function Yt(e,t,n,{location:r=Ht.location,distance:i=Ht.distance,threshold:o=Ht.threshold,findAllMatches:s=Ht.findAllMatches,minMatchCharLength:a=Ht.minMatchCharLength,includeMatches:l=Ht.includeMatches,ignoreLocation:c=Ht.ignoreLocation}={}){if(t.length>Vt)throw new Error(`Pattern length exceeds max of ${Vt}.`);const u=t.length,h=e.length,d=Math.max(0,Math.min(r,h));let f=o,g=d;const p=a>1||l,m=p?Array(h):[];let y;for(;(y=e.indexOf(t,g))>-1;){let e=Jt(t,{currentLocation:y,expectedLocation:d,distance:i,ignoreLocation:c});if(f=Math.min(e,f),g=y+u,p){let e=0;for(;e<u;)m[y+e]=1,e+=1}}g=-1;let x=[],$=1,v=u+h;const b=1<<u-1;for(let r=0;r<u;r+=1){let o=0,a=v;for(;o<a;){Jt(t,{errors:r,currentLocation:d+a,expectedLocation:d,distance:i,ignoreLocation:c})<=f?o=a:v=a,a=Math.floor((v-o)/2+o)}v=a;let l=Math.max(1,d-a+1),y=s?h:Math.min(d+a,h)+u,w=Array(y+2);w[y+1]=(1<<r)-1;for(let o=y;o>=l;o-=1){let s=o-1,a=n[e.charAt(s)];if(p&&(m[s]=+!!a),w[o]=(w[o+1]<<1|1)&a,r&&(w[o]|=(x[o+1]|x[o])<<1|1|x[o+1]),w[o]&b&&($=Jt(t,{errors:r,currentLocation:s,expectedLocation:d,distance:i,ignoreLocation:c}),$<=f)){if(f=$,g=s,g<=d)break;l=Math.max(1,2*d-g)}}if(Jt(t,{errors:r+1,currentLocation:d,expectedLocation:d,distance:i,ignoreLocation:c})>f)break;x=w}const w={isMatch:g>=0,score:Math.max(.001,$)};if(p){const e=function(e=[],t=Ht.minMatchCharLength){let n=[],r=-1,i=-1,o=0;for(let s=e.length;o<s;o+=1){let s=e[o];s&&-1===r?r=o:s||-1===r||(i=o-1,i-r+1>=t&&n.push([r,i]),r=-1)}return e[o-1]&&o-r>=t&&n.push([r,o-1]),n}(m,a);e.length?l&&(w.indices=e):w.isMatch=!1}return w}function Zt(e){let t={};for(let n=0,r=e.length;n<r;n+=1){const i=e.charAt(n);t[i]=(t[i]||0)|1<<r-n-1}return t}class Xt{constructor(e,{location:t=Ht.location,threshold:n=Ht.threshold,distance:r=Ht.distance,includeMatches:i=Ht.includeMatches,findAllMatches:o=Ht.findAllMatches,minMatchCharLength:s=Ht.minMatchCharLength,isCaseSensitive:a=Ht.isCaseSensitive,ignoreLocation:l=Ht.ignoreLocation}={}){if(this.options={location:t,threshold:n,distance:r,includeMatches:i,findAllMatches:o,minMatchCharLength:s,isCaseSensitive:a,ignoreLocation:l},this.pattern=a?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;const c=(e,t)=>{this.chunks.push({pattern:e,alphabet:Zt(e),startIndex:t})},u=this.pattern.length;if(u>Vt){let e=0;const t=u%Vt,n=u-t;for(;e<n;)c(this.pattern.substr(e,Vt),e),e+=Vt;if(t){const e=u-Vt;c(this.pattern.substr(e),e)}}else c(this.pattern,0)}searchIn(e){const{isCaseSensitive:t,includeMatches:n}=this.options;if(t||(e=e.toLowerCase()),this.pattern===e){let t={isMatch:!0,score:0};return n&&(t.indices=[[0,e.length-1]]),t}const{location:r,distance:i,threshold:o,findAllMatches:s,minMatchCharLength:a,ignoreLocation:l}=this.options;let c=[],u=0,h=!1;this.chunks.forEach((({pattern:t,alphabet:d,startIndex:f})=>{const{isMatch:g,score:p,indices:m}=Yt(e,t,d,{location:r+f,distance:i,threshold:o,findAllMatches:s,minMatchCharLength:a,includeMatches:n,ignoreLocation:l});g&&(h=!0),u+=p,g&&m&&(c=[...c,...m])}));let d={isMatch:h,score:h?u/this.chunks.length:1};return h&&n&&(d.indices=c),d}}class Qt{constructor(e){this.pattern=e}static isMultiMatch(e){return en(e,this.multiRegex)}static isSingleMatch(e){return en(e,this.singleRegex)}search(){}}function en(e,t){const n=e.match(t);return n?n[1]:null}class tn extends Qt{constructor(e,{location:t=Ht.location,threshold:n=Ht.threshold,distance:r=Ht.distance,includeMatches:i=Ht.includeMatches,findAllMatches:o=Ht.findAllMatches,minMatchCharLength:s=Ht.minMatchCharLength,isCaseSensitive:a=Ht.isCaseSensitive,ignoreLocation:l=Ht.ignoreLocation}={}){super(e),this._bitapSearch=new Xt(e,{location:t,threshold:n,distance:r,includeMatches:i,findAllMatches:o,minMatchCharLength:s,isCaseSensitive:a,ignoreLocation:l})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class nn extends Qt{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t,n=0;const r=[],i=this.pattern.length;for(;(t=e.indexOf(this.pattern,n))>-1;)n=t+i,r.push([t,n-1]);const o=!!r.length;return{isMatch:o,score:o?0:1,indices:r}}}const rn=[class extends Qt{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},nn,class extends Qt{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},class extends Qt{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},class extends Qt{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},class extends Qt{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}},class extends Qt{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const t=-1===e.indexOf(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},tn],on=rn.length,sn=/ +(?=([^\"]*\"[^\"]*\")*[^\"]*$)/;const an=new Set([tn.type,nn.type]);class ln{constructor(e,{isCaseSensitive:t=Ht.isCaseSensitive,includeMatches:n=Ht.includeMatches,minMatchCharLength:r=Ht.minMatchCharLength,ignoreLocation:i=Ht.ignoreLocation,findAllMatches:o=Ht.findAllMatches,location:s=Ht.location,threshold:a=Ht.threshold,distance:l=Ht.distance}={}){this.query=null,this.options={isCaseSensitive:t,includeMatches:n,minMatchCharLength:r,findAllMatches:o,ignoreLocation:i,location:s,threshold:a,distance:l},this.pattern=t?e:e.toLowerCase(),this.query=function(e,t={}){return e.split("|").map((e=>{let n=e.trim().split(sn).filter((e=>e&&!!e.trim())),r=[];for(let e=0,i=n.length;e<i;e+=1){const i=n[e];let o=!1,s=-1;for(;!o&&++s<on;){const e=rn[s];let n=e.isMultiMatch(i);n&&(r.push(new e(n,t)),o=!0)}if(!o)for(s=-1;++s<on;){const e=rn[s];let n=e.isSingleMatch(i);if(n){r.push(new e(n,t));break}}}return r}))}(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:r}=this.options;e=r?e:e.toLowerCase();let i=0,o=[],s=0;for(let r=0,a=t.length;r<a;r+=1){const a=t[r];o.length=0,i=0;for(let t=0,r=a.length;t<r;t+=1){const r=a[t],{isMatch:l,indices:c,score:u}=r.search(e);if(!l){s=0,i=0,o.length=0;break}if(i+=1,s+=u,n){const e=r.constructor.type;an.has(e)?o=[...o,...c]:o.push(c)}}if(i){let e={isMatch:!0,score:s/i};return n&&(e.indices=o),e}}return{isMatch:!1,score:1}}}const cn=[];function un(e,t){for(let n=0,r=cn.length;n<r;n+=1){let r=cn[n];if(r.condition(e,t))return new r(e,t)}return new Xt(e,t)}const hn="$and",dn="$or",fn="$path",gn="$val",pn=e=>!(!e[hn]&&!e[dn]),mn=e=>({[hn]:Object.keys(e).map((t=>({[t]:e[t]})))});function yn(e,t,{auto:n=!0}={}){const r=e=>{let i=Object.keys(e);const o=(e=>!!e[fn])(e);if(!o&&i.length>1&&!pn(e))return r(mn(e));if((e=>!St(e)&&jt(e)&&!pn(e))(e)){const r=o?e[fn]:i[0],s=o?e[gn]:e[r];if(!zt(s))throw new Error((e=>`Invalid value for key ${e}`)(r));const a={keyId:Wt(r),pattern:s};return n&&(a.searcher=un(s,t)),a}let s={children:[],operator:i[0]};return i.forEach((t=>{const n=e[t];St(n)&&n.forEach((e=>{s.children.push(r(e))}))})),s};return pn(e)||(e=mn(e)),r(e)}function xn(e,t){const n=e.matches;t.matches=[],Dt(n)&&n.forEach((e=>{if(!Dt(e.indices)||!e.indices.length)return;const{indices:n,value:r}=e;let i={indices:n,value:r};e.key&&(i.key=e.key.src),e.idx>-1&&(i.refIndex=e.idx),t.matches.push(i)}))}function $n(e,t){t.score=e.score}class vn{constructor(e,t={},n){this.options={...Ht,...t},this.options.useExtendedSearch,this._keyStore=new Ot(this.options.keys),this.setCollection(e,n)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof Bt))throw new Error("Incorrect 'index' type");this._myIndex=t||Gt(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){Dt(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=(()=>!1)){const t=[];for(let n=0,r=this._docs.length;n<r;n+=1){const i=this._docs[n];e(i,n)&&(this.removeAt(n),n-=1,r-=1,t.push(i))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){const{includeMatches:n,includeScore:r,shouldSort:i,sortFn:o,ignoreFieldNorm:s}=this.options;let a=zt(e)?zt(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return function(e,{ignoreFieldNorm:t=Ht.ignoreFieldNorm}){e.forEach((e=>{let n=1;e.matches.forEach((({key:e,norm:r,score:i})=>{const o=e?e.weight:null;n*=Math.pow(0===i&&o?Number.EPSILON:i,(o||1)*(t?1:r))})),e.score=n}))}(a,{ignoreFieldNorm:s}),i&&a.sort(o),Lt(t)&&t>-1&&(a=a.slice(0,t)),function(e,t,{includeMatches:n=Ht.includeMatches,includeScore:r=Ht.includeScore}={}){const i=[];return n&&i.push(xn),r&&i.push($n),e.map((e=>{const{idx:n}=e,r={item:t[n],refIndex:n};return i.length&&i.forEach((t=>{t(e,r)})),r}))}(a,this._docs,{includeMatches:n,includeScore:r})}_searchStringList(e){const t=un(e,this.options),{records:n}=this._myIndex,r=[];return n.forEach((({v:e,i:n,n:i})=>{if(!Dt(e))return;const{isMatch:o,score:s,indices:a}=t.searchIn(e);o&&r.push({item:e,idx:n,matches:[{score:s,value:e,norm:i,indices:a}]})})),r}_searchLogical(e){const t=yn(e,this.options),n=(e,t,r)=>{if(!e.children){const{keyId:n,searcher:i}=e,o=this._findMatches({key:this._keyStore.get(n),value:this._myIndex.getValueForItemAtKeyId(t,n),searcher:i});return o&&o.length?[{idx:r,item:t,matches:o}]:[]}const i=[];for(let o=0,s=e.children.length;o<s;o+=1){const s=e.children[o],a=n(s,t,r);if(a.length)i.push(...a);else if(e.operator===hn)return[]}return i},r=this._myIndex.records,i={},o=[];return r.forEach((({$:e,i:r})=>{if(Dt(e)){let s=n(t,e,r);s.length&&(i[r]||(i[r]={idx:r,item:e,matches:[]},o.push(i[r])),s.forEach((({matches:e})=>{i[r].matches.push(...e)})))}})),o}_searchObjectList(e){const t=un(e,this.options),{keys:n,records:r}=this._myIndex,i=[];return r.forEach((({$:e,i:r})=>{if(!Dt(e))return;let o=[];n.forEach(((n,r)=>{o.push(...this._findMatches({key:n,value:e[r],searcher:t}))})),o.length&&i.push({idx:r,item:e,matches:o})})),i}_findMatches({key:e,value:t,searcher:n}){if(!Dt(t))return[];let r=[];if(St(t))t.forEach((({v:t,i:i,n:o})=>{if(!Dt(t))return;const{isMatch:s,score:a,indices:l}=n.searchIn(t);s&&r.push({score:a,key:e,value:t,idx:i,norm:o,indices:l})}));else{const{v:i,n:o}=t,{isMatch:s,score:a,indices:l}=n.searchIn(i);s&&r.push({score:a,key:e,value:i,norm:o,indices:l})}return r}}vn.version="6.5.3",vn.createIndex=Gt,vn.parseIndex=function(e,{getFn:t=Ht.getFn,fieldNormWeight:n=Ht.fieldNormWeight}={}){const{keys:r,records:i}=e,o=new Bt({getFn:t,fieldNormWeight:n});return o.setKeys(r),o.setIndexRecords(i),o},vn.config=Ht,vn.parseQuery=yn,function(...e){cn.push(...e)}(ln);const bn=[];function wn(t,n=e){let r;const i=new Set;function o(e){if(a(t,e)&&(t=e,r)){const e=!bn.length;for(const e of i)e[1](),bn.push(e,t);if(e){for(let e=0;e<bn.length;e+=2)bn[e][0](bn[e+1]);bn.length=0}}}return{set:o,update:function(e){o(e(t))},subscribe:function(s,a=e){const l=[s,a];return i.add(l),1===i.size&&(r=n(o)||e),s(t),()=>{i.delete(l),0===i.size&&(r(),r=null)}}}}function kn(t,n,r){const i=!Array.isArray(t),a=i?[t]:t,l=n.length<2;return c=t=>{let r=!1;const c=[];let h=0,d=e;const f=()=>{if(h)return;d();const r=n(i?c[0]:c,t);l?t(r):d=s(r)?r:e},g=a.map(((e,t)=>u(e,(e=>{c[t]=e,h&=~(1<<t),r&&f()}),(()=>{h|=1<<t}))));return r=!0,f(),function(){o(g),d()}},{subscribe:wn(r,c).subscribe};var c}function En(e){return 0===(t=e)||t?Array.isArray(e)?t=>e.map((e=>"function"!=typeof e?t[e]:e(t))):"function"!=typeof e?t=>t[e]:e:null;var t}function Mn(e,t={}){return function(e){const t={};for(const n of e){if(Object(n)!==n)throw new TypeError("iterable for fromEntries should yield objects");const{0:e,1:r}=n;Object.defineProperty(t,e,{configurable:!0,enumerable:!0,writable:!0,value:r})}return t}(Object.entries(e).filter((([e,n])=>void 0!==n&&void 0===t[e])))}function _n(e,t){if(!Array.isArray(e))throw new TypeError("The first argument of calcExtents() must be an array.");if(Array.isArray(t)||null==t)throw new TypeError("The second argument of calcExtents() must be an object with field names as keys as accessor functions as values.");const n={},r=Object.keys(t),i=r.length;let o,s,a,l,c,u,h,d;const f=e.length;for(o=0;o<i;o+=1){for(l=r[o],h=t[l],c=null,u=null,s=0;s<f;s+=1)if(d=h(e[s]),Array.isArray(d)){const e=d.length;for(a=0;a<e;a+=1)void 0!==d[a]&&null!==d[a]&&!1===Number.isNaN(d[a])&&((null===c||d[a]<c)&&(c=d[a]),(null===u||d[a]>u)&&(u=d[a]))}else null!=d&&!1===Number.isNaN(d)&&((null===c||d<c)&&(c=d),(null===u||d>u)&&(u=d));n[l]=[c,u]}return n}function Tn(e=[],t){return!0===Array.isArray(t)?t.map(((t,n)=>null===t?e[n]:t)):e}function Nn(e){return function([t,n]){return t?Tn(t[e],n):n}}function Cn(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function An(e){let t=e,n=e;function r(e,t,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){const o=r+i>>>1;n(e[o],t)<0?r=o+1:i=o}return r}return 1===e.length&&(t=(t,n)=>e(t)-n,n=function(e){return(t,n)=>Cn(e(t),n)}(e)),{left:r,center:function(e,n,i,o){null==i&&(i=0),null==o&&(o=e.length);const s=r(e,n,i,o-1);return s>i&&t(e[s-1],n)>-t(e[s],n)?s-1:s},right:function(e,t,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){const o=r+i>>>1;n(e[o],t)>0?i=o:r=o+1}return r}}}const Sn=An(Cn).right;An((function(e){return null===e?NaN:+e})).center;var zn=Sn,Ln=Math.sqrt(50),Rn=Math.sqrt(10),jn=Math.sqrt(2);function Dn(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=Ln?10:o>=Rn?5:o>=jn?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=Ln?10:o>=Rn?5:o>=jn?2:1)}function Fn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function Pn(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function qn(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function On(){}var In=.7,Kn=1/In,Wn="\\s*([+-]?\\d+)\\s*",Hn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Un="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Bn=/^#([0-9a-f]{3,8})$/,Gn=new RegExp("^rgb\\("+[Wn,Wn,Wn]+"\\)$"),Jn=new RegExp("^rgb\\("+[Un,Un,Un]+"\\)$"),Vn=new RegExp("^rgba\\("+[Wn,Wn,Wn,Hn]+"\\)$"),Yn=new RegExp("^rgba\\("+[Un,Un,Un,Hn]+"\\)$"),Zn=new RegExp("^hsl\\("+[Hn,Un,Un]+"\\)$"),Xn=new RegExp("^hsla\\("+[Hn,Un,Un,Hn]+"\\)$"),Qn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function er(){return this.rgb().formatHex()}function tr(){return this.rgb().formatRgb()}function nr(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Bn.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?rr(t):3===n?new ar(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?ir(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?ir(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Gn.exec(e))?new ar(t[1],t[2],t[3],1):(t=Jn.exec(e))?new ar(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Vn.exec(e))?ir(t[1],t[2],t[3],t[4]):(t=Yn.exec(e))?ir(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Zn.exec(e))?hr(t[1],t[2]/100,t[3]/100,1):(t=Xn.exec(e))?hr(t[1],t[2]/100,t[3]/100,t[4]):Qn.hasOwnProperty(e)?rr(Qn[e]):"transparent"===e?new ar(NaN,NaN,NaN,0):null}function rr(e){return new ar(e>>16&255,e>>8&255,255&e,1)}function ir(e,t,n,r){return r<=0&&(e=t=n=NaN),new ar(e,t,n,r)}function or(e){return e instanceof On||(e=nr(e)),e?new ar((e=e.rgb()).r,e.g,e.b,e.opacity):new ar}function sr(e,t,n,r){return 1===arguments.length?or(e):new ar(e,t,n,null==r?1:r)}function ar(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function lr(){return"#"+ur(this.r)+ur(this.g)+ur(this.b)}function cr(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function ur(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function hr(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new fr(e,t,n,r)}function dr(e){if(e instanceof fr)return new fr(e.h,e.s,e.l,e.opacity);if(e instanceof On||(e=nr(e)),!e)return new fr;if(e instanceof fr)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(s=t===o?(n-r)/a+6*(n<r):n===o?(r-t)/a+2:(t-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new fr(s,a,l,e.opacity)}function fr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function gr(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}Pn(On,nr,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:er,formatHex:er,formatHsl:function(){return dr(this).formatHsl()},formatRgb:tr,toString:tr}),Pn(ar,sr,qn(On,{brighter:function(e){return e=null==e?Kn:Math.pow(Kn,e),new ar(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?In:Math.pow(In,e),new ar(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:lr,formatHex:lr,formatRgb:cr,toString:cr})),Pn(fr,(function(e,t,n,r){return 1===arguments.length?dr(e):new fr(e,t,n,null==r?1:r)}),qn(On,{brighter:function(e){return e=null==e?Kn:Math.pow(Kn,e),new fr(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?In:Math.pow(In,e),new fr(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new ar(gr(e>=240?e-240:e+120,i,r),gr(e,i,r),gr(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var pr=e=>()=>e;function mr(e){return 1==(e=+e)?yr:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):pr(isNaN(t)?n:t)}}function yr(e,t){var n=t-e;return n?function(e,t){return function(n){return e+n*t}}(e,n):pr(isNaN(e)?t:e)}var xr=function e(t){var n=mr(t);function r(e,t){var r=n((e=sr(e)).r,(t=sr(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),s=yr(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=s(t),e+""}}return r.gamma=e,r}(1);function $r(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(o){for(n=0;n<r;++n)i[n]=e[n]*(1-o)+t[n]*o;return i}}function vr(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),s=new Array(r);for(n=0;n<i;++n)o[n]=Tr(e[n],t[n]);for(;n<r;++n)s[n]=t[n];return function(e){for(n=0;n<i;++n)s[n]=o[n](e);return s}}function br(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function wr(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function kr(e,t){var n,r={},i={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?r[n]=Tr(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var Er=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Mr=new RegExp(Er.source,"g");function _r(e,t){var n,r,i,o=Er.lastIndex=Mr.lastIndex=0,s=-1,a=[],l=[];for(e+="",t+="";(n=Er.exec(e))&&(r=Mr.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),a[s]?a[s]+=i:a[++s]=i),(n=n[0])===(r=r[0])?a[s]?a[s]+=r:a[++s]=r:(a[++s]=null,l.push({i:s,x:wr(n,r)})),o=Mr.lastIndex;return o<t.length&&(i=t.slice(o),a[s]?a[s]+=i:a[++s]=i),a.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)a[(n=l[r]).i]=n.x(e);return a.join("")})}function Tr(e,t){var n,r,i=typeof t;return null==t||"boolean"===i?pr(t):("number"===i?wr:"string"===i?(n=nr(t))?(t=n,xr):_r:t instanceof nr?xr:t instanceof Date?br:(r=t,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(t)?vr:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?kr:wr:$r))(e,t)}function Nr(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Cr(e){return+e}var Ar=[0,1];function Sr(e){return e}function zr(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function Lr(e,t,n){var r=e[0],i=e[1],o=t[0],s=t[1];return i<r?(r=zr(i,r),o=n(s,o)):(r=zr(r,i),o=n(o,s)),function(e){return o(r(e))}}function Rr(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=zr(e[s],e[s+1]),o[s]=n(t[s],t[s+1]);return function(t){var n=zn(e,t,1,r)-1;return o[n](i[n](t))}}function jr(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Dr(){var e,t,n,r,i,o,s=Ar,a=Ar,l=Tr,c=Sr;function u(){var e,t,n,l=Math.min(s.length,a.length);return c!==Sr&&(e=s[0],t=s[l-1],e>t&&(n=e,e=t,t=n),c=function(n){return Math.max(e,Math.min(t,n))}),r=l>2?Rr:Lr,i=o=null,h}function h(t){return null==t||isNaN(t=+t)?n:(i||(i=r(s.map(e),a,l)))(e(c(t)))}return h.invert=function(n){return c(t((o||(o=r(a,s.map(e),wr)))(n)))},h.domain=function(e){return arguments.length?(s=Array.from(e,Cr),u()):s.slice()},h.range=function(e){return arguments.length?(a=Array.from(e),u()):a.slice()},h.rangeRound=function(e){return a=Array.from(e),l=Nr,u()},h.clamp=function(e){return arguments.length?(c=!!e||Sr,u()):c!==Sr},h.interpolate=function(e){return arguments.length?(l=e,u()):l},h.unknown=function(e){return arguments.length?(n=e,h):n},function(n,r){return e=n,t=r,u()}}function Fr(){return Dr()(Sr,Sr)}function Pr(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function qr(e){return(e=Pr(Math.abs(e)))?e[1]:NaN}var Or,Ir=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Kr(e){if(!(t=Ir.exec(e)))throw new Error("invalid format: "+e);var t;return new Wr({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function Wr(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function Hr(e,t){var n=Pr(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Kr.prototype=Wr.prototype,Wr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Ur={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Hr(100*e,t),r:Hr,s:function(e,t){var n=Pr(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(Or=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Pr(e,Math.max(0,t+o-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Br(e){return e}var Gr,Jr,Vr,Yr=Array.prototype.map,Zr=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Xr(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?Br:(t=Yr.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,o=[],s=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(e.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",s=void 0===e.decimal?".":e.decimal+"",a=void 0===e.numerals?Br:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(Yr.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"−":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function h(e){var t=(e=Kr(e)).fill,n=e.align,h=e.sign,d=e.symbol,f=e.zero,g=e.width,p=e.comma,m=e.precision,y=e.trim,x=e.type;"n"===x?(p=!0,x="g"):Ur[x]||(void 0===m&&(m=12),y=!0,x="g"),(f||"0"===t&&"="===n)&&(f=!0,t="0",n="=");var $="$"===d?i:"#"===d&&/[boxX]/.test(x)?"0"+x.toLowerCase():"",v="$"===d?o:/[%p]/.test(x)?l:"",b=Ur[x],w=/[defgprs%]/.test(x);function k(e){var i,o,l,d=$,k=v;if("c"===x)k=b(e)+k,e="";else{var E=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:b(Math.abs(e),m),y&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),E&&0==+e&&"+"!==h&&(E=!1),d=(E?"("===h?h:c:"-"===h||"("===h?"":h)+d,k=("s"===x?Zr[8+Or/3]:"")+k+(E&&"("===h?")":""),w)for(i=-1,o=e.length;++i<o;)if(48>(l=e.charCodeAt(i))||l>57){k=(46===l?s+e.slice(i+1):e.slice(i))+k,e=e.slice(0,i);break}}p&&!f&&(e=r(e,1/0));var M=d.length+e.length+k.length,_=M<g?new Array(g-M+1).join(t):"";switch(p&&f&&(e=r(_+e,_.length?g-k.length:1/0),_=""),n){case"<":e=d+e+k+_;break;case"=":e=d+_+e+k;break;case"^":e=_.slice(0,M=_.length>>1)+d+e+k+_.slice(M);break;default:e=_+d+e+k}return a(e)}return m=void 0===m?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),k.toString=function(){return e+""},k}return{format:h,formatPrefix:function(e,t){var n=h(((e=Kr(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(qr(t)/3))),i=Math.pow(10,-r),o=Zr[8+r/3];return function(e){return n(i*e)+o}}}}function Qr(e,t,n,r){var i,o=function(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=Ln?i*=10:o>=Rn?i*=5:o>=jn&&(i*=2),t<e?-i:i}(e,t,n);switch((r=Kr(null==r?",f":r)).type){case"s":var s=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(qr(t)/3)))-qr(Math.abs(e)))}(o,s))||(r.precision=i),Vr(r,s);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,qr(t)-qr(e))+1}(o,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(e){return Math.max(0,-qr(Math.abs(e)))}(o))||(r.precision=i-2*("%"===r.type))}return Jr(r)}function ei(e){var t=e.domain;return e.ticks=function(e){var n=t();return function(e,t,n){var r,i,o,s,a=-1;if(n=+n,(e=+e)==(t=+t)&&n>0)return[e];if((r=t<e)&&(i=e,e=t,t=i),0===(s=Dn(e,t,n))||!isFinite(s))return[];if(s>0){let n=Math.round(e/s),r=Math.round(t/s);for(n*s<e&&++n,r*s>t&&--r,o=new Array(i=r-n+1);++a<i;)o[a]=(n+a)*s}else{s=-s;let n=Math.round(e*s),r=Math.round(t*s);for(n/s<e&&++n,r/s>t&&--r,o=new Array(i=r-n+1);++a<i;)o[a]=(n+a)/s}return r&&o.reverse(),o}(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return Qr(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,o=t(),s=0,a=o.length-1,l=o[s],c=o[a],u=10;for(c<l&&(i=l,l=c,c=i,i=s,s=a,a=i);u-- >0;){if((i=Dn(l,c,n))===r)return o[s]=l,o[a]=c,t(o);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}r=i}return e},e}function ti(){var e=Fr();return e.copy=function(){return jr(e,ti())},Fn.apply(e,arguments),ei(e)}function ni(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function ri(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function ii(e){return e<0?-e*e:e*e}function oi(e){var t=e(Sr,Sr),n=1;function r(){return 1===n?e(Sr,Sr):.5===n?e(ri,ii):e(ni(n),ni(1/n))}return t.exponent=function(e){return arguments.length?(n=+e,r()):n},ei(t)}function si(){var e=oi(Dr());return e.copy=function(){return jr(e,si()).exponent(e.exponent())},Fn.apply(e,arguments),e}Gr=Xr({thousands:",",grouping:[3],currency:["$",""]}),Jr=Gr.format,Vr=Gr.formatPrefix;var ai={x:ti,y:ti,z:ti,r:function(){return si.apply(null,arguments).exponent(.5)}};function li(e){return e}function ci(e){return t=>Math.log(e*t)}function ui(e){return t=>e*Math.exp(t)}function hi(e){return t=>Math.sign(t)*Math.expm1(Math.abs(t))*e}function di(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function fi(e,t){if("function"!=typeof e.range)throw new Error("Scale method `range` must be a function");if("function"!=typeof e.domain)throw new Error("Scale method `domain` must be a function");if(!Array.isArray(t))return e.domain();2!==e.domain().length&&console.warn("[LayerCake] The scale is expected to have a domain of length 2 to use padding. Are you sure you want to use padding? Your scale's domain is:",e.domain()),2!==e.range().length&&console.warn("[LayerCake] The scale is expected to have a range of length 2 to use padding. Are you sure you want to use padding? Your scale's range is:",e.range());const{lift:n,ground:r}=function(e){const t=function(e){return e.constant?"symlog":e.base?"log":e.exponent?.5===e.exponent()?"sqrt":"pow":"other"}(e);if("log"===t){const n=Math.sign(e.domain()[0]);return{lift:ci(n),ground:ui(n),scaleType:t}}if("pow"===t){const e=1;return{lift:di(e),ground:di(1/e),scaleType:t}}if("sqrt"===t){const e=.5;return{lift:di(e),ground:di(1/e),scaleType:t}}if("symlog"===t){const e=1;return{lift:(n=e,e=>Math.sign(e)*Math.log1p(Math.abs(e/n))),ground:hi(e),scaleType:t}}var n;return{lift:li,ground:li,scaleType:t}}(e),i=e.domain()[0],o="[object Date]"===Object.prototype.toString.call(i),[s,a]=e.domain().map((e=>n(o?e.getTime():e))),[l,c]=e.range(),u=t[0]||0,h=t[1]||0,d=(a-s)/(Math.abs(c-l)-u-h);return[s-u*d,h*d+a].map((e=>r(o?new Date(e):e)))}function gi(e){return function([t,n,r,i,o,s,a,l,c,u]){if(null===n)return null;const h=function(e,t,n,r,i,o){return i?"function"==typeof i?i({width:t,height:n}):i:function(e,t,n,r,i){let o,s;return!0===i?(o=0,s=100):(o="r"===e?1:0,s="y"===e?n:"r"===e?25:t),!0===r?[s,o]:[o,s]}(e,t,n,r,o)}(e,a,l,s,c,u),d=t===ai[e]?t():t.copy();return d.domain(Tn(n[e],r)).range(h),i&&d.domain(fi(d,i)),!0===o&&("function"==typeof d.nice?d.nice():console.error(`[Layer Cake] You set \`${e}Nice: true\` but the ${e}Scale does not have a \`.nice\` method. Ignoring...`)),d}}function pi([e,t]){return n=>{const r=e(n);return Array.isArray(r)?r.map((e=>t(e))):t(r)}}function mi([e]){if("function"==typeof e){if("function"==typeof e.range)return e.range();console.error("[LayerCake] Your scale doesn't have a `.range` method?")}return null}var yi={x:!1,y:!0,z:!1,r:!1};const xi=e=>({element:4&e[0],width:64&e[0],height:128&e[0],aspectRatio:256&e[0],containerWidth:512&e[0],containerHeight:1024&e[0]}),$i=e=>({element:e[2],width:e[6],height:e[7],aspectRatio:e[8],containerWidth:e[9],containerHeight:e[10]});function vi(e){let t,n,r,i;const o=e[54].default,s=d(o,e,e[53],$i);return{c(){t=_("div"),s&&s.c(),z(t,"class","layercake-container svelte-vhzpsp"),z(t,"style",n="position:"+e[5]+"; "+("absolute"===e[5]?"top:0;right:0;bottom:0;left:0;":"")+" "+(!1===e[4]?"pointer-events:none;":"")),ee((()=>e[56].call(t)))},m(n,o){k(n,t,o),s&&s.m(t,null),e[55](t),r=function(e,t){"static"===getComputedStyle(e).position&&(e.style.position="relative");const n=_("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const r=P();let i;return r?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",i=S(window,"message",(e=>{e.source===n.contentWindow&&t()}))):(n.src="about:blank",n.onload=()=>{i=S(n.contentWindow,"resize",t)}),w(e,n),()=>{(r||i&&n.contentWindow)&&i(),E(n)}}(t,e[56].bind(t)),i=!0},p(e,r){s&&s.p&&(!i||1988&r[0]|4194304&r[1])&&p(s,o,e,e[53],i?g(o,e[53],r,xi):m(e[53]),$i),(!i||48&r[0]&&n!==(n="position:"+e[5]+"; "+("absolute"===e[5]?"top:0;right:0;bottom:0;left:0;":"")+" "+(!1===e[4]?"pointer-events:none;":"")))&&z(t,"style",n)},i(e){i||(ue(s,e),i=!0)},o(e){he(s,e),i=!1},d(n){n&&E(t),s&&s.d(n),e[55](null),r()}}}function bi(e){let t,n,r=(!0===e[3]||"undefined"!=typeof window)&&vi(e);return{c(){r&&r.c(),t=A()},m(e,i){r&&r.m(e,i),k(e,t,i),n=!0},p(e,n){!0===e[3]||"undefined"!=typeof window?r?(r.p(e,n),8&n[0]&&ue(r,1)):(r=vi(e),r.c(),ue(r,1),r.m(t.parentNode,t)):r&&(le(),he(r,1,1,(()=>{r=null})),ce())},i(e){n||(ue(r),n=!0)},o(e){he(r),n=!1},d(e){r&&r.d(e),e&&E(t)}}}function wi(e,t,n){let r,i,o,s,a,l,{$$slots:c={},$$scope:u}=t,{ssr:d=!1}=t,{pointerEvents:f=!0}=t,{position:g="relative"}=t,{percentRange:p=!1}=t,{width:m}=t,{height:y}=t,{containerWidth:x=m||100}=t,{containerHeight:$=y||100}=t,{element:v}=t,{x:b}=t,{y:w}=t,{z:k}=t,{r:E}=t,{custom:M={}}=t,{data:_=[]}=t,{xDomain:T}=t,{yDomain:N}=t,{zDomain:C}=t,{rDomain:A}=t,{xNice:S=!1}=t,{yNice:z=!1}=t,{zNice:L=!1}=t,{rNice:R=!1}=t,{xReverse:j=yi.x}=t,{yReverse:D=yi.y}=t,{zReverse:F=yi.z}=t,{rReverse:P=yi.r}=t,{xPadding:q}=t,{yPadding:O}=t,{zPadding:I}=t,{rPadding:K}=t,{xScale:W=ai.x}=t,{yScale:H=ai.y}=t,{zScale:B=ai.y}=t,{rScale:G=ai.r}=t,{xRange:J}=t,{yRange:Y}=t,{zRange:Z}=t,{rRange:X}=t,{padding:Q={}}=t,{extents:ee={}}=t,{flatData:te}=t;const ne={},re=wn(),ie=wn();h(e,ie,(e=>n(9,a=e)));const oe=wn();h(e,oe,(e=>n(10,l=e)));const se=wn(),ae=wn(),le=wn(),ce=wn(),ue=wn(),he=wn(),de=wn(),fe=wn(),ge=wn(),pe=wn(),me=wn(),ye=wn(),xe=wn(),$e=wn(),ve=wn(),be=wn(),we=wn(),ke=wn(),Ee=wn(),Me=wn(),_e=wn(),Te=wn(),Ne=wn(),Ce=wn(),Ae=wn(),Se=wn(),ze=wn(),Le=wn(),Re=wn(),je=wn(),De=wn(),Fe=wn(),Pe=wn(),qe=wn(ne),Oe=kn([se,ae,le,ce],(([e,t,n,r])=>{const i={};return e&&(i.x=e),t&&(i.y=t),n&&(i.z=n),r&&(i.r=r),i})),Ie=kn([De,ie,oe],(([e])=>Object.assign({top:0,right:0,bottom:0,left:0},e))),Ke=kn([ie,oe,Ie],(([e,t,n])=>{const r={};return r.top=n.top,r.right=e-n.right,r.bottom=t-n.bottom,r.left=n.left,r.width=r.right-r.left,r.height=r.bottom-r.top,r.width<=0&&console.error("[LayerCake] Target div has zero or negative width. Did you forget to set an explicit width in CSS on the container?"),r.height<=0&&console.error("[LayerCake] Target div has zero or negative height. Did you forget to set an explicit height in CSS on the container?"),r})),We=kn([Ke],(([e])=>e.width));h(e,We,(e=>n(6,i=e)));const He=kn([Ke],(([e])=>e.height));h(e,He,(e=>n(7,o=e)));const Ue=kn([Fe,Oe,Pe],(([e,t,n])=>{const r=Mn(t,n);return Object.keys(r).length>0?{..._n(e,r),...n}:{}})),Be=kn([Ue,de],Nn("x")),Ge=kn([Ue,fe],Nn("y")),Je=kn([Ue,ge],Nn("z")),Ve=kn([Ue,pe],Nn("r")),Ye=kn([Ne,Ue,Be,Ee,me,ve,We,He,ze,re],gi("x")),Ze=kn([se,Ye],pi),Xe=kn([Ce,Ue,Ge,Me,ye,be,We,He,Le,re],gi("y")),Qe=kn([ae,Xe],pi),et=kn([Ae,Ue,Je,_e,xe,we,We,He,Re,re],gi("z")),tt=kn([le,et],pi),nt=kn([Se,Ue,Ve,Te,$e,ke,We,He,je,re],gi("r")),rt=kn([ce,nt],pi),it=kn([Ye],mi),ot=kn([Xe],mi),st=kn([et],mi),at=kn([nt],mi),lt=kn([We,He],(([e,t,n])=>t/n));return h(e,lt,(e=>n(8,s=e))),e.$$set=e=>{"ssr"in e&&n(3,d=e.ssr),"pointerEvents"in e&&n(4,f=e.pointerEvents),"position"in e&&n(5,g=e.position),"percentRange"in e&&n(16,p=e.percentRange),"width"in e&&n(17,m=e.width),"height"in e&&n(18,y=e.height),"containerWidth"in e&&n(0,x=e.containerWidth),"containerHeight"in e&&n(1,$=e.containerHeight),"element"in e&&n(2,v=e.element),"x"in e&&n(19,b=e.x),"y"in e&&n(20,w=e.y),"z"in e&&n(21,k=e.z),"r"in e&&n(22,E=e.r),"custom"in e&&n(23,M=e.custom),"data"in e&&n(24,_=e.data),"xDomain"in e&&n(25,T=e.xDomain),"yDomain"in e&&n(26,N=e.yDomain),"zDomain"in e&&n(27,C=e.zDomain),"rDomain"in e&&n(28,A=e.rDomain),"xNice"in e&&n(29,S=e.xNice),"yNice"in e&&n(30,z=e.yNice),"zNice"in e&&n(31,L=e.zNice),"rNice"in e&&n(32,R=e.rNice),"xReverse"in e&&n(33,j=e.xReverse),"yReverse"in e&&n(34,D=e.yReverse),"zReverse"in e&&n(35,F=e.zReverse),"rReverse"in e&&n(36,P=e.rReverse),"xPadding"in e&&n(37,q=e.xPadding),"yPadding"in e&&n(38,O=e.yPadding),"zPadding"in e&&n(39,I=e.zPadding),"rPadding"in e&&n(40,K=e.rPadding),"xScale"in e&&n(41,W=e.xScale),"yScale"in e&&n(42,H=e.yScale),"zScale"in e&&n(43,B=e.zScale),"rScale"in e&&n(44,G=e.rScale),"xRange"in e&&n(45,J=e.xRange),"yRange"in e&&n(46,Y=e.yRange),"zRange"in e&&n(47,Z=e.zRange),"rRange"in e&&n(48,X=e.rRange),"padding"in e&&n(49,Q=e.padding),"extents"in e&&n(50,ee=e.extents),"flatData"in e&&n(51,te=e.flatData),"$$scope"in e&&n(53,u=e.$$scope)},e.$$.update=()=>{524288&e.$$.dirty[0]&&b&&(ne.x=b),1048576&e.$$.dirty[0]&&w&&(ne.y=w),2097152&e.$$.dirty[0]&&k&&(ne.z=k),4194304&e.$$.dirty[0]&&E&&(ne.r=E),33554432&e.$$.dirty[0]&&T&&(ne.xDomain=T),67108864&e.$$.dirty[0]&&N&&(ne.yDomain=N),134217728&e.$$.dirty[0]&&C&&(ne.zDomain=C),268435456&e.$$.dirty[0]&&A&&(ne.rDomain=A),16384&e.$$.dirty[1]&&J&&(ne.xRange=J),32768&e.$$.dirty[1]&&Y&&(ne.yRange=Y),65536&e.$$.dirty[1]&&Z&&(ne.zRange=Z),131072&e.$$.dirty[1]&&X&&(ne.rRange=X),65536&e.$$.dirty[0]&&re.set(p),1&e.$$.dirty[0]&&ie.set(x),2&e.$$.dirty[0]&&oe.set($),524288&e.$$.dirty[0]&&se.set(En(b)),1048576&e.$$.dirty[0]&&ae.set(En(w)),2097152&e.$$.dirty[0]&&le.set(En(k)),4194304&e.$$.dirty[0]&&ce.set(En(E)),33554432&e.$$.dirty[0]&&de.set(T),67108864&e.$$.dirty[0]&&fe.set(N),134217728&e.$$.dirty[0]&&ge.set(C),268435456&e.$$.dirty[0]&&pe.set(A),8388608&e.$$.dirty[0]&&ue.set(M),16777216&e.$$.dirty[0]&&he.set(_),536870912&e.$$.dirty[0]&&me.set(S),1073741824&e.$$.dirty[0]&&ye.set(z),1&e.$$.dirty[1]&&xe.set(L),2&e.$$.dirty[1]&&$e.set(R),4&e.$$.dirty[1]&&ve.set(j),8&e.$$.dirty[1]&&be.set(D),16&e.$$.dirty[1]&&we.set(F),32&e.$$.dirty[1]&&ke.set(P),64&e.$$.dirty[1]&&Ee.set(q),128&e.$$.dirty[1]&&Me.set(O),256&e.$$.dirty[1]&&_e.set(I),512&e.$$.dirty[1]&&Te.set(K),1024&e.$$.dirty[1]&&Ne.set(W),2048&e.$$.dirty[1]&&Ce.set(H),4096&e.$$.dirty[1]&&Ae.set(B),8192&e.$$.dirty[1]&&Se.set(G),16384&e.$$.dirty[1]&&ze.set(J),32768&e.$$.dirty[1]&&Le.set(Y),65536&e.$$.dirty[1]&&Re.set(Z),131072&e.$$.dirty[1]&&je.set(X),262144&e.$$.dirty[1]&&De.set(Q),524288&e.$$.dirty[1]&&Pe.set(Mn(ee)),16777216&e.$$.dirty[0]|1048576&e.$$.dirty[1]&&Fe.set(te||_),2097152&e.$$.dirty[1]&&U("LayerCake",r)},n(52,r={activeGetters:Oe,width:We,height:He,percentRange:re,aspectRatio:lt,containerWidth:ie,containerHeight:oe,x:se,y:ae,z:le,r:ce,custom:ue,data:he,xNice:me,yNice:ye,zNice:xe,rNice:$e,xReverse:ve,yReverse:be,zReverse:we,rReverse:ke,xPadding:Ee,yPadding:Me,zPadding:_e,rPadding:Te,padding:Ie,flatData:Fe,extents:Ue,xDomain:Be,yDomain:Ge,zDomain:Je,rDomain:Ve,xRange:it,yRange:ot,zRange:st,rRange:at,config:qe,xScale:Ye,xGet:Ze,yScale:Xe,yGet:Qe,zScale:et,zGet:tt,rScale:nt,rGet:rt}),[x,$,v,d,f,g,i,o,s,a,l,ie,oe,We,He,lt,p,m,y,b,w,k,E,M,_,T,N,C,A,S,z,L,R,j,D,F,P,q,O,I,K,W,H,B,G,J,Y,Z,X,Q,ee,te,r,u,c,function(e){V[e?"unshift":"push"]((()=>{v=e,n(2,v)}))},function(){x=this.clientWidth,$=this.clientHeight,n(0,x),n(1,$)}]}class ki extends we{constructor(e){super(),be(this,e,wi,bi,a,{ssr:3,pointerEvents:4,position:5,percentRange:16,width:17,height:18,containerWidth:0,containerHeight:1,element:2,x:19,y:20,z:21,r:22,custom:23,data:24,xDomain:25,yDomain:26,zDomain:27,rDomain:28,xNice:29,yNice:30,zNice:31,rNice:32,xReverse:33,yReverse:34,zReverse:35,rReverse:36,xPadding:37,yPadding:38,zPadding:39,rPadding:40,xScale:41,yScale:42,zScale:43,rScale:44,xRange:45,yRange:46,zRange:47,rRange:48,padding:49,extents:50,flatData:51},null,[-1,-1,-1,-1])}}const Ei=e=>({element:1&e}),Mi=e=>({element:e[0]});function _i(e){let t,n,r;const i=e[8].default,o=d(i,e,e[7],Mi);return{c(){t=_("div"),o&&o.c(),z(t,"class","layercake-layout-html svelte-1bu60uu"),z(t,"style",n="top: "+e[3].top+"px; right:"+e[3].right+"px; bottom:"+e[3].bottom+"px; left:"+e[3].left+"px;"+e[1]+e[2])},m(n,i){k(n,t,i),o&&o.m(t,null),e[9](t),r=!0},p(e,[s]){o&&o.p&&(!r||129&s)&&p(o,i,e,e[7],r?g(i,e[7],s,Ei):m(e[7]),Mi),(!r||14&s&&n!==(n="top: "+e[3].top+"px; right:"+e[3].right+"px; bottom:"+e[3].bottom+"px; left:"+e[3].left+"px;"+e[1]+e[2]))&&z(t,"style",n)},i(e){r||(ue(o,e),r=!0)},o(e){he(o,e),r=!1},d(n){n&&E(t),o&&o.d(n),e[9](null)}}}function Ti(e,t,n){let r,{$$slots:i={},$$scope:o}=t,{element:s}=t,{zIndex:a}=t,{pointerEvents:l}=t,c="",u="";const{padding:d}=B("LayerCake");return h(e,d,(e=>n(3,r=e))),e.$$set=e=>{"element"in e&&n(0,s=e.element),"zIndex"in e&&n(5,a=e.zIndex),"pointerEvents"in e&&n(6,l=e.pointerEvents),"$$scope"in e&&n(7,o=e.$$scope)},e.$$.update=()=>{32&e.$$.dirty&&n(1,c=void 0!==a?`z-index:${a};`:""),64&e.$$.dirty&&n(2,u=!1===l?"pointer-events:none;":"")},[s,c,u,r,d,a,l,o,i,function(e){V[e?"unshift":"push"]((()=>{s=e,n(0,s)}))}]}class Ni extends we{constructor(e){super(),be(this,e,Ti,_i,a,{element:0,zIndex:5,pointerEvents:6})}}const Ci=e=>({element:1&e}),Ai=e=>({element:e[0]}),Si=e=>({element:1&e}),zi=e=>({element:e[0]});function Li(e){let t,n,r,i,o,s;const a=e[13].defs,l=d(a,e,e[12],zi),c=e[13].default,u=d(c,e,e[12],Ai);return{c(){t=T("svg"),n=T("defs"),l&&l.c(),r=T("g"),u&&u.c(),z(r,"class","layercake-layout-svg_g"),z(r,"transform",i="translate("+e[6].left+", "+e[6].top+")"),z(t,"class","layercake-layout-svg svelte-u84d8d"),z(t,"viewBox",e[1]),z(t,"width",e[4]),z(t,"height",e[5]),z(t,"style",o=""+(e[2]+e[3]))},m(i,o){k(i,t,o),w(t,n),l&&l.m(n,null),w(t,r),u&&u.m(r,null),e[14](t),s=!0},p(e,[n]){l&&l.p&&(!s||4097&n)&&p(l,a,e,e[12],s?g(a,e[12],n,Si):m(e[12]),zi),u&&u.p&&(!s||4097&n)&&p(u,c,e,e[12],s?g(c,e[12],n,Ci):m(e[12]),Ai),(!s||64&n&&i!==(i="translate("+e[6].left+", "+e[6].top+")"))&&z(r,"transform",i),(!s||2&n)&&z(t,"viewBox",e[1]),(!s||16&n)&&z(t,"width",e[4]),(!s||32&n)&&z(t,"height",e[5]),(!s||12&n&&o!==(o=""+(e[2]+e[3])))&&z(t,"style",o)},i(e){s||(ue(l,e),ue(u,e),s=!0)},o(e){he(l,e),he(u,e),s=!1},d(n){n&&E(t),l&&l.d(n),u&&u.d(n),e[14](null)}}}function Ri(e,t,n){let r,i,o,{$$slots:s={},$$scope:a}=t,{element:l}=t,{viewBox:c}=t,{zIndex:u}=t,{pointerEvents:d}=t,f="",g="";const{containerWidth:p,containerHeight:m,padding:y}=B("LayerCake");return h(e,p,(e=>n(4,r=e))),h(e,m,(e=>n(5,i=e))),h(e,y,(e=>n(6,o=e))),e.$$set=e=>{"element"in e&&n(0,l=e.element),"viewBox"in e&&n(1,c=e.viewBox),"zIndex"in e&&n(10,u=e.zIndex),"pointerEvents"in e&&n(11,d=e.pointerEvents),"$$scope"in e&&n(12,a=e.$$scope)},e.$$.update=()=>{1024&e.$$.dirty&&n(2,f=void 0!==u?`z-index:${u};`:""),2048&e.$$.dirty&&n(3,g=!1===d?"pointer-events:none;":"")},[l,c,f,g,r,i,o,p,m,y,u,d,a,s,function(e){V[e?"unshift":"push"]((()=>{l=e,n(0,l)}))}]}class ji extends we{constructor(e){super(),be(this,e,Ri,Li,a,{element:0,viewBox:1,zIndex:10,pointerEvents:11})}}function Di(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Fi(e){let t=e,n=e,r=e;function i(e,t,i=0,o=e.length){if(i<o){if(0!==n(t,t))return o;do{const n=i+o>>>1;r(e[n],t)<0?i=n+1:o=n}while(i<o)}return i}return 2!==e.length&&(t=(t,n)=>e(t)-n,n=Di,r=(t,n)=>Di(e(t),n)),{left:i,center:function(e,n,r=0,o=e.length){const s=i(e,n,r,o-1);return s>r&&t(e[s-1],n)>-t(e[s],n)?s-1:s},right:function(e,t,i=0,o=e.length){if(i<o){if(0!==n(t,t))return o;do{const n=i+o>>>1;r(e[n],t)<=0?i=n+1:o=n}while(i<o)}return i}}}const Pi=Fi(Di).right;Fi((function(e){return null===e?NaN:+e})).center;var qi=Pi;class Oi extends Map{constructor(e,t=Ki){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[t,n]of e)this.set(t,n)}get(e){return super.get(Ii(this,e))}has(e){return super.has(Ii(this,e))}set(e,t){return super.set(function({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}(this,e),t)}delete(e){return super.delete(function({_intern:e,_key:t},n){const r=t(n);e.has(r)&&(n=e.get(r),e.delete(r));return n}(this,e))}}function Ii({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Ki(e){return null!==e&&"object"==typeof e?e.valueOf():e}var Wi=Math.sqrt(50),Hi=Math.sqrt(10),Ui=Math.sqrt(2);function Bi(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=Wi?10:o>=Hi?5:o>=Ui?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=Wi?10:o>=Hi?5:o>=Ui?2:1)}function Gi(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o}function Ji(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}const Vi=Symbol("implicit");function Yi(){var e=new Oi,t=[],n=[],r=Vi;function i(i){let o=e.get(i);if(void 0===o){if(r!==Vi)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new Oi;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return Yi(t,n).unknown(r)},Ji.apply(i,arguments),i}function Zi(){var e,t,n=Yi().unknown(void 0),r=n.domain,i=n.range,o=0,s=1,a=!1,l=0,c=0,u=.5;function h(){var n=r().length,h=s<o,d=h?s:o,f=h?o:s;e=(f-d)/Math.max(1,n-l+2*c),a&&(e=Math.floor(e)),d+=(f-d-e*(n-l))*u,t=e*(1-l),a&&(d=Math.round(d),t=Math.round(t));var g=Gi(n).map((function(t){return d+e*t}));return i(h?g.reverse():g)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),h()):r()},n.range=function(e){return arguments.length?([o,s]=e,o=+o,s=+s,h()):[o,s]},n.rangeRound=function(e){return[o,s]=e,o=+o,s=+s,a=!0,h()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(a=!!e,h()):a},n.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),h()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),h()):l},n.paddingOuter=function(e){return arguments.length?(c=+e,h()):c},n.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),h()):u},n.copy=function(){return Zi(r(),[o,s]).round(a).paddingInner(l).paddingOuter(c).align(u)},Ji.apply(h(),arguments)}function Xi(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Qi(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function eo(){}var to=.7,no=1/to,ro="\\s*([+-]?\\d+)\\s*",io="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",oo="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",so=/^#([0-9a-f]{3,8})$/,ao=new RegExp("^rgb\\("+[ro,ro,ro]+"\\)$"),lo=new RegExp("^rgb\\("+[oo,oo,oo]+"\\)$"),co=new RegExp("^rgba\\("+[ro,ro,ro,io]+"\\)$"),uo=new RegExp("^rgba\\("+[oo,oo,oo,io]+"\\)$"),ho=new RegExp("^hsl\\("+[io,oo,oo]+"\\)$"),fo=new RegExp("^hsla\\("+[io,oo,oo,io]+"\\)$"),go={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function po(){return this.rgb().formatHex()}function mo(){return this.rgb().formatRgb()}function yo(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=so.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?xo(t):3===n?new wo(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?$o(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?$o(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=ao.exec(e))?new wo(t[1],t[2],t[3],1):(t=lo.exec(e))?new wo(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=co.exec(e))?$o(t[1],t[2],t[3],t[4]):(t=uo.exec(e))?$o(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=ho.exec(e))?_o(t[1],t[2]/100,t[3]/100,1):(t=fo.exec(e))?_o(t[1],t[2]/100,t[3]/100,t[4]):go.hasOwnProperty(e)?xo(go[e]):"transparent"===e?new wo(NaN,NaN,NaN,0):null}function xo(e){return new wo(e>>16&255,e>>8&255,255&e,1)}function $o(e,t,n,r){return r<=0&&(e=t=n=NaN),new wo(e,t,n,r)}function vo(e){return e instanceof eo||(e=yo(e)),e?new wo((e=e.rgb()).r,e.g,e.b,e.opacity):new wo}function bo(e,t,n,r){return 1===arguments.length?vo(e):new wo(e,t,n,null==r?1:r)}function wo(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function ko(){return"#"+Mo(this.r)+Mo(this.g)+Mo(this.b)}function Eo(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function Mo(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function _o(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new No(e,t,n,r)}function To(e){if(e instanceof No)return new No(e.h,e.s,e.l,e.opacity);if(e instanceof eo||(e=yo(e)),!e)return new No;if(e instanceof No)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(s=t===o?(n-r)/a+6*(n<r):n===o?(r-t)/a+2:(t-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new No(s,a,l,e.opacity)}function No(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Co(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}Xi(eo,yo,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:po,formatHex:po,formatHsl:function(){return To(this).formatHsl()},formatRgb:mo,toString:mo}),Xi(wo,bo,Qi(eo,{brighter:function(e){return e=null==e?no:Math.pow(no,e),new wo(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?to:Math.pow(to,e),new wo(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ko,formatHex:ko,formatRgb:Eo,toString:Eo})),Xi(No,(function(e,t,n,r){return 1===arguments.length?To(e):new No(e,t,n,null==r?1:r)}),Qi(eo,{brighter:function(e){return e=null==e?no:Math.pow(no,e),new No(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?to:Math.pow(to,e),new No(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new wo(Co(e>=240?e-240:e+120,i,r),Co(e,i,r),Co(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var Ao=e=>()=>e;function So(e){return 1==(e=+e)?zo:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):Ao(isNaN(t)?n:t)}}function zo(e,t){var n=t-e;return n?function(e,t){return function(n){return e+n*t}}(e,n):Ao(isNaN(e)?t:e)}var Lo=function e(t){var n=So(t);function r(e,t){var r=n((e=bo(e)).r,(t=bo(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),s=zo(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=s(t),e+""}}return r.gamma=e,r}(1);function Ro(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(o){for(n=0;n<r;++n)i[n]=e[n]*(1-o)+t[n]*o;return i}}function jo(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),s=new Array(r);for(n=0;n<i;++n)o[n]=Ko(e[n],t[n]);for(;n<r;++n)s[n]=t[n];return function(e){for(n=0;n<i;++n)s[n]=o[n](e);return s}}function Do(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Fo(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Po(e,t){var n,r={},i={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?r[n]=Ko(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var qo=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Oo=new RegExp(qo.source,"g");function Io(e,t){var n,r,i,o=qo.lastIndex=Oo.lastIndex=0,s=-1,a=[],l=[];for(e+="",t+="";(n=qo.exec(e))&&(r=Oo.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),a[s]?a[s]+=i:a[++s]=i),(n=n[0])===(r=r[0])?a[s]?a[s]+=r:a[++s]=r:(a[++s]=null,l.push({i:s,x:Fo(n,r)})),o=Oo.lastIndex;return o<t.length&&(i=t.slice(o),a[s]?a[s]+=i:a[++s]=i),a.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)a[(n=l[r]).i]=n.x(e);return a.join("")})}function Ko(e,t){var n,r,i=typeof t;return null==t||"boolean"===i?Ao(t):("number"===i?Fo:"string"===i?(n=yo(t))?(t=n,Lo):Io:t instanceof yo?Lo:t instanceof Date?Do:(r=t,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(t)?jo:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?Po:Fo:Ro))(e,t)}function Wo(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Ho(e){return+e}var Uo=[0,1];function Bo(e){return e}function Go(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function Jo(e,t,n){var r=e[0],i=e[1],o=t[0],s=t[1];return i<r?(r=Go(i,r),o=n(s,o)):(r=Go(r,i),o=n(o,s)),function(e){return o(r(e))}}function Vo(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=Go(e[s],e[s+1]),o[s]=n(t[s],t[s+1]);return function(t){var n=qi(e,t,1,r)-1;return o[n](i[n](t))}}function Yo(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Zo(){var e,t,n,r,i,o,s=Uo,a=Uo,l=Ko,c=Bo;function u(){var e,t,n,l=Math.min(s.length,a.length);return c!==Bo&&(e=s[0],t=s[l-1],e>t&&(n=e,e=t,t=n),c=function(n){return Math.max(e,Math.min(t,n))}),r=l>2?Vo:Jo,i=o=null,h}function h(t){return null==t||isNaN(t=+t)?n:(i||(i=r(s.map(e),a,l)))(e(c(t)))}return h.invert=function(n){return c(t((o||(o=r(a,s.map(e),Fo)))(n)))},h.domain=function(e){return arguments.length?(s=Array.from(e,Ho),u()):s.slice()},h.range=function(e){return arguments.length?(a=Array.from(e),u()):a.slice()},h.rangeRound=function(e){return a=Array.from(e),l=Wo,u()},h.clamp=function(e){return arguments.length?(c=!!e||Bo,u()):c!==Bo},h.interpolate=function(e){return arguments.length?(l=e,u()):l},h.unknown=function(e){return arguments.length?(n=e,h):n},function(n,r){return e=n,t=r,u()}}function Xo(){return Zo()(Bo,Bo)}function Qo(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function es(e){return(e=Qo(Math.abs(e)))?e[1]:NaN}var ts,ns=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function rs(e){if(!(t=ns.exec(e)))throw new Error("invalid format: "+e);var t;return new is({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function is(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function os(e,t){var n=Qo(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}rs.prototype=is.prototype,is.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var ss={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>os(100*e,t),r:os,s:function(e,t){var n=Qo(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(ts=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Qo(e,Math.max(0,t+o-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function as(e){return e}var ls,cs,us,hs=Array.prototype.map,ds=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function fs(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?as:(t=hs.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,o=[],s=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(e.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",s=void 0===e.decimal?".":e.decimal+"",a=void 0===e.numerals?as:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(hs.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"−":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function h(e){var t=(e=rs(e)).fill,n=e.align,h=e.sign,d=e.symbol,f=e.zero,g=e.width,p=e.comma,m=e.precision,y=e.trim,x=e.type;"n"===x?(p=!0,x="g"):ss[x]||(void 0===m&&(m=12),y=!0,x="g"),(f||"0"===t&&"="===n)&&(f=!0,t="0",n="=");var $="$"===d?i:"#"===d&&/[boxX]/.test(x)?"0"+x.toLowerCase():"",v="$"===d?o:/[%p]/.test(x)?l:"",b=ss[x],w=/[defgprs%]/.test(x);function k(e){var i,o,l,d=$,k=v;if("c"===x)k=b(e)+k,e="";else{var E=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:b(Math.abs(e),m),y&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),E&&0==+e&&"+"!==h&&(E=!1),d=(E?"("===h?h:c:"-"===h||"("===h?"":h)+d,k=("s"===x?ds[8+ts/3]:"")+k+(E&&"("===h?")":""),w)for(i=-1,o=e.length;++i<o;)if(48>(l=e.charCodeAt(i))||l>57){k=(46===l?s+e.slice(i+1):e.slice(i))+k,e=e.slice(0,i);break}}p&&!f&&(e=r(e,1/0));var M=d.length+e.length+k.length,_=M<g?new Array(g-M+1).join(t):"";switch(p&&f&&(e=r(_+e,_.length?g-k.length:1/0),_=""),n){case"<":e=d+e+k+_;break;case"=":e=d+_+e+k;break;case"^":e=_.slice(0,M=_.length>>1)+d+e+k+_.slice(M);break;default:e=_+d+e+k}return a(e)}return m=void 0===m?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),k.toString=function(){return e+""},k}return{format:h,formatPrefix:function(e,t){var n=h(((e=rs(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(es(t)/3))),i=Math.pow(10,-r),o=ds[8+r/3];return function(e){return n(i*e)+o}}}}function gs(e,t,n,r){var i,o=function(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=Wi?i*=10:o>=Hi?i*=5:o>=Ui&&(i*=2),t<e?-i:i}(e,t,n);switch((r=rs(null==r?",f":r)).type){case"s":var s=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(es(t)/3)))-es(Math.abs(e)))}(o,s))||(r.precision=i),us(r,s);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,es(t)-es(e))+1}(o,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(e){return Math.max(0,-es(Math.abs(e)))}(o))||(r.precision=i-2*("%"===r.type))}return cs(r)}function ps(e){var t=e.domain;return e.ticks=function(e){var n=t();return function(e,t,n){var r,i,o,s,a=-1;if(n=+n,(e=+e)==(t=+t)&&n>0)return[e];if((r=t<e)&&(i=e,e=t,t=i),0===(s=Bi(e,t,n))||!isFinite(s))return[];if(s>0){let n=Math.round(e/s),r=Math.round(t/s);for(n*s<e&&++n,r*s>t&&--r,o=new Array(i=r-n+1);++a<i;)o[a]=(n+a)*s}else{s=-s;let n=Math.round(e*s),r=Math.round(t*s);for(n/s<e&&++n,r/s>t&&--r,o=new Array(i=r-n+1);++a<i;)o[a]=(n+a)/s}return r&&o.reverse(),o}(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return gs(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,o=t(),s=0,a=o.length-1,l=o[s],c=o[a],u=10;for(c<l&&(i=l,l=c,c=i,i=s,s=a,a=i);u-- >0;){if((i=Bi(l,c,n))===r)return o[s]=l,o[a]=c,t(o);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}r=i}return e},e}function ms(){var e=Xo();return e.copy=function(){return Yo(e,ms())},Ji.apply(e,arguments),ps(e)}function ys(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function xs(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function $s(e){var t=1,n=e(ys(t),xs(t));return n.constant=function(n){return arguments.length?e(ys(t=+n),xs(t)):t},ps(n)}function vs(){var e=$s(Zo());return e.copy=function(){return Yo(e,vs()).constant(e.constant())},Ji.apply(e,arguments)}function bs(e){return e<.5?4*e*e*e:.5*Math.pow(2*e-2,3)+1}function ws(e){return"[object Date]"===Object.prototype.toString.call(e)}function ks(e,t){if(e===t||e!=e)return()=>e;const n=typeof e;if(n!==typeof t||Array.isArray(e)!==Array.isArray(t))throw new Error("Cannot interpolate values of different type");if(Array.isArray(e)){const n=t.map(((t,n)=>ks(e[n],t)));return e=>n.map((t=>t(e)))}if("object"===n){if(!e||!t)throw new Error("Object cannot be null");if(ws(e)&&ws(t)){e=e.getTime();const n=(t=t.getTime())-e;return t=>new Date(e+t*n)}const n=Object.keys(t),r={};return n.forEach((n=>{r[n]=ks(e[n],t[n])})),e=>{const t={};return n.forEach((n=>{t[n]=r[n](e)})),t}}if("number"===n){const n=t-e;return t=>e+t*n}throw new Error(`Cannot interpolate ${n} values`)}function Es(e,r={}){const i=wn(e);let o,s=e;function a(a,l){if(null==e)return i.set(e=a),Promise.resolve();s=a;let c=o,u=!1,{delay:h=0,duration:d=400,easing:f=t,interpolate:g=ks}=n(n({},r),l);if(0===d)return c&&(c.abort(),c=null),i.set(e=s),Promise.resolve();const p=x()+h;let m;return o=function(e){let t;return 0===v.size&&$(b),{promise:new Promise((n=>{v.add(t={c:e,f:n})})),abort(){v.delete(t)}}}((t=>{if(t<p)return!0;u||(m=g(e,a),"function"==typeof d&&(d=d(e,a)),u=!0),c&&(c.abort(),c=null);const n=t-p;return n>d?(i.set(e=a),!1):(i.set(e=m(f(n/d))),!0)})),o.promise}return{set:a,update:(t,n)=>a(t(s,e),n),subscribe:i.subscribe}}!function(e){ls=fs(e),cs=ls.format,us=ls.formatPrefix}({thousands:",",grouping:[3],currency:["$",""]});class Ms{constructor(e,t,n,r,i){this.items=e,this.radiusFun=t,this.xFun=n,this.padding=r,this.yOffset=i,this.tieBreakFn=this._sfc32(2654435769,608135816,3084996962,1),this.maxR=Math.max(...e.map((e=>t(e)))),this.rng=this._sfc32(1,2,3,1)}calculateYPositions(){let e=this.items.map(((e,t)=>({datum:e,originalIndex:t,x:this.xFun(e),r:this.radiusFun(e)+this.padding,y:null,placed:!1}))).sort(((e,t)=>e.x-t.x));e.forEach((function(e,t){e.index=t}));let t=this.tieBreakFn;e.forEach((function(e){e.tieBreaker=t(e.x)}));let n=[...e].sort(((e,t)=>{let n=this.radiusFun(e.datum)+5*e.tieBreaker,r=this.radiusFun(t.datum)+5*t.tieBreaker;return n!=r?r-n:e.x-t.x}));for(let t of n)t.placed=!0,t.y=this._getBestYPosition(t,e);return e.sort(((e,t)=>e.originalIndex-t.originalIndex)),e.map((e=>({x:e.x,y:e.y+this.yOffset,r:this.radiusFun(e.datum)})))}_sfc32(e,t,n,r){let i=function(){var i=(e>>>=0)+(t>>>=0)|0;return e=t^t>>>9,t=(n>>>=0)+(n<<3)|0,n=(n=n<<21|n>>>11)+(i=i+(r=(r>>>=0)+1|0)|0)|0,(i>>>0)/4294967296};for(let e=0;e<10;e++)i();return i}_getBestYPosition(e,t){let n=[];for(let r of[-1,1]){let i,o=e.r;for(let s=e.index+r;s>=0&&s<t.length&&(i=Math.abs(e.x-t[s].x))<o+this.maxR;s+=r){let e=t[s];if(!e.placed)continue;let r=o+e.r;if(i>=o+e.r)continue;let a=Math.sqrt(r*r-i*i),l=[e.y-a,e.y+a];n.push(l)}}if(0==n.length)return e.r*(this.rng()-.5)*2;let r=n.flat();r.push(0),r.sort(((e,t)=>{let n=Math.abs(e),r=Math.abs(t);return n<r?-1:n>r?1:e-t}));for(let e=0;e<r.length;e++){let t=r[e];if(n.every((e=>t<=e[0]||t>=e[1])))return t}}}function _s(e,t,n){let r,i,o,s,a,l,c,u,d,f,g,p,m;const{data:y,x:x,y:$,r:v,xGet:b,yGet:w,rGet:k,xScale:E,yScale:M,yRange:_,rRange:T,custom:N,width:C}=B("LayerCake");h(e,y,(e=>n(18,m=e))),h(e,x,(e=>n(16,g=e))),h(e,$,(e=>n(15,f=e))),h(e,v,(e=>n(14,d=e))),h(e,b,(e=>n(23,s=e))),h(e,w,(e=>n(26,c=e))),h(e,k,(e=>n(25,l=e))),h(e,E,(e=>n(21,i=e))),h(e,M,(e=>n(20,r=e))),h(e,_,(e=>n(22,o=e))),h(e,T,(e=>n(24,a=e))),h(e,N,(e=>n(17,p=e))),h(e,C,(e=>n(13,u=e)));let A=p.coords,S=p.type,z=u;return e.$$.update=()=>{516096&e.$$.dirty&&function(e,t,n,u,h,d){let f,g=t.mode,p=t.padding,m=t.animation&&d==z?t.duration:0;if(z=d,"bar"==S)f=e.map(((t,i)=>t.map(((t,o)=>({x:"default"==g||"grouped"==g||("comparison"==g||"stacked"==g)&&0==i?0:n("stacked"==g?e[i-1][o]:t),y:"grouped"==g?c(t)+i*(1/e.length)*r.bandwidth():c(t),w:"default"==g||"grouped"==g||("comparison"==g||"stacked"==g)&&0==i?n(t):"stacked"==g?n(t)-n(e[i-1][o]):0,h:"grouped"==g?r.bandwidth()/e.length:r.bandwidth()})))));else if("column"==S)f=e.map(((t,n)=>t.map(((t,r)=>({x:"grouped"==g&&i.bandwidth?s(t)+n*(1/e.length)*i.bandwidth():"grouped"==g?s(t)[0]+n*(1/e.length)*Math.max(0,s(t)[1]-s(t)[0]):i.bandwidth?s(t):s(t)[0],y:u(t),w:"grouped"==g&&i.bandwidth?i.bandwidth()/e.length:"grouped"==g?Math.max(0,s(t)[1]-s(t)[0])/e.length:i.bandwidth?i.bandwidth():Math.max(0,s(t)[1]-s(t)[0]),h:"default"==g||"grouped"==g||("comparison"==g||"stacked"==g)&&0==n?u(t):"stacked"==g?u(t)-u(e[n-1][r]):0})))));else if("scatter"==S){let t=e=>h?l(e):a[0];f=u?e.map((e=>({x:n(e),y:u(e),r:t(e)}))):new Ms(e,(e=>t(e)),(e=>s(e)),p,o[0]/2).calculateYPositions().map((e=>({x:i.invert(e.x),y:r.invert(e.y),r:e.r})))}else"line"==S&&(f=e.map((e=>e.map((e=>({x:n(e),y:u(e)}))))));A.set(f,{duration:m})}(m,p,g,f,d,u)},[y,x,$,v,b,w,k,E,M,_,T,N,C,u,d,f,g,p,m]}class Ts extends we{constructor(e){super(),be(this,e,_s,null,a,{})}}function Ns(e,t,n){const r=e.slice();return r[24]=t[n],r[26]=n,r}function Cs(e){let t,n;return{c(){t=T("line"),z(t,"class","gridline svelte-r9f2bw"),z(t,"y1",n=-1*e[17]),z(t,"y2","0"),z(t,"x1","0"),z(t,"x2","0"),j(t,"stroke",e[3]),q(t,"dashed",e[1])},m(e,n){k(e,t,n)},p(e,r){131072&r&&n!==(n=-1*e[17])&&z(t,"y1",n),8&r&&j(t,"stroke",e[3]),2&r&&q(t,"dashed",e[1])},d(e){e&&E(t)}}}function As(e){let t,n,r;return{c(){t=T("line"),z(t,"class","tick-mark svelte-r9f2bw"),z(t,"y1",0),z(t,"y2",6),z(t,"x1",n=e[7]||e[13]?e[14].bandwidth()/2:0),z(t,"x2",r=e[7]||e[13]?e[14].bandwidth()/2:0),j(t,"stroke",e[3])},m(e,n){k(e,t,n)},p(e,i){24704&i&&n!==(n=e[7]||e[13]?e[14].bandwidth()/2:0)&&z(t,"x1",n),24704&i&&r!==(r=e[7]||e[13]?e[14].bandwidth()/2:0)&&z(t,"x2",r),8&i&&j(t,"stroke",e[3])},d(e){e&&E(t)}}}function Ss(e){let t,n,r,i,o,s,a,l,c=(e[26]==e[15].length-1?e[11]+e[5](e[24])+e[12]:e[5](e[24]))+"",u=!1!==e[0]&&Cs(e),h=!0===e[2]&&As(e);return{c(){t=T("g"),u&&u.c(),n=A(),h&&h.c(),r=T("text"),i=N(c),z(r,"x",o=e[7]||e[13]?e[14].bandwidth()/2:0),z(r,"y",e[8]),z(r,"dx",e[9]),z(r,"dy",e[10]),z(r,"text-anchor",s=e[21](e[26])),j(r,"fill",e[4]),z(r,"class","svelte-r9f2bw"),z(t,"class",a="tick tick-"+e[24]+" svelte-r9f2bw"),z(t,"transform",l="translate("+e[14](e[24])+","+e[16][0]+")")},m(e,o){k(e,t,o),u&&u.m(t,null),w(t,n),h&&h.m(t,null),w(t,r),w(r,i)},p(e,s){!1!==e[0]?u?u.p(e,s):(u=Cs(e),u.c(),u.m(t,n)):u&&(u.d(1),u=null),!0===e[2]?h?h.p(e,s):(h=As(e),h.c(),h.m(t,r)):h&&(h.d(1),h=null),38944&s&&c!==(c=(e[26]==e[15].length-1?e[11]+e[5](e[24])+e[12]:e[5](e[24]))+"")&&L(i,c),24704&s&&o!==(o=e[7]||e[13]?e[14].bandwidth()/2:0)&&z(r,"x",o),256&s&&z(r,"y",e[8]),512&s&&z(r,"dx",e[9]),1024&s&&z(r,"dy",e[10]),16&s&&j(r,"fill",e[4]),32768&s&&a!==(a="tick tick-"+e[24]+" svelte-r9f2bw")&&z(t,"class",a),114688&s&&l!==(l="translate("+e[14](e[24])+","+e[16][0]+")")&&z(t,"transform",l)},d(e){e&&E(t),u&&u.d(),h&&h.d()}}}function zs(t){let n,r=t[15],i=[];for(let e=0;e<r.length;e+=1)i[e]=Ss(Ns(t,r,e));return{c(){n=T("g");for(let e=0;e<i.length;e+=1)i[e].c();z(n,"class","axis x-axis svelte-r9f2bw"),q(n,"snapTicks",t[6])},m(e,t){k(e,n,t);for(let e=0;e<i.length;e+=1)i[e].m(n,null)},p(e,[t]){if(2359231&t){let o;for(r=e[15],o=0;o<r.length;o+=1){const s=Ns(e,r,o);i[o]?i[o].p(s,t):(i[o]=Ss(s),i[o].c(),i[o].m(n,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=r.length}64&t&&q(n,"snapTicks",e[6])},i:e,o:e,d(e){e&&E(n),M(i,e)}}}function Ls(e,t,n){let r,i,o,s,a;const{width:l,height:c,xScale:u,yRange:d}=B("LayerCake");h(e,c,(e=>n(17,a=e))),h(e,u,(e=>n(14,o=e))),h(e,d,(e=>n(16,s=e)));let{gridlines:f=!0}=t,{tickDashed:g=!1}=t,{tickMarks:p=!1}=t,{tickColor:m="#bbb"}=t,{textColor:y="#666"}=t,{formatTick:x=(e=>e)}=t,{snapTicks:$=!1}=t,{ticks:v}=t,{xTick:b}=t,{yTick:w=16}=t,{dxTick:k=0}=t,{dyTick:E=0}=t,{prefix:M=""}=t,{suffix:_=""}=t;return e.$$set=e=>{"gridlines"in e&&n(0,f=e.gridlines),"tickDashed"in e&&n(1,g=e.tickDashed),"tickMarks"in e&&n(2,p=e.tickMarks),"tickColor"in e&&n(3,m=e.tickColor),"textColor"in e&&n(4,y=e.textColor),"formatTick"in e&&n(5,x=e.formatTick),"snapTicks"in e&&n(6,$=e.snapTicks),"ticks"in e&&n(22,v=e.ticks),"xTick"in e&&n(7,b=e.xTick),"yTick"in e&&n(8,w=e.yTick),"dxTick"in e&&n(9,k=e.dxTick),"dyTick"in e&&n(10,E=e.dyTick),"prefix"in e&&n(11,M=e.prefix),"suffix"in e&&n(12,_=e.suffix)},e.$$.update=()=>{16384&e.$$.dirty&&n(13,r="function"==typeof o.bandwidth),4218880&e.$$.dirty&&n(15,i=Array.isArray(v)?v:r?o.domain():"function"==typeof v?v(o.ticks()):o.ticks(v))},[f,g,p,m,y,x,$,b,w,k,E,M,_,r,o,i,s,a,c,u,d,function(e){if(!0===$){if(0===e)return"start";if(e===i.length-1)return"end"}return"middle"},v]}class Rs extends we{constructor(e){super(),be(this,e,Ls,zs,a,{gridlines:0,tickDashed:1,tickMarks:2,tickColor:3,textColor:4,formatTick:5,snapTicks:6,ticks:22,xTick:7,yTick:8,dxTick:9,dyTick:10,prefix:11,suffix:12})}}function js(e,t,n){const r=e.slice();return r[22]=t[n],r[24]=n,r}function Ds(e){let t,n,r;return{c(){t=T("line"),z(t,"class","gridline svelte-f7wn4m"),z(t,"x2","100%"),z(t,"y1",n=e[7]+(e[13]?e[14].bandwidth()/2:0)),z(t,"y2",r=e[7]+(e[13]?e[14].bandwidth()/2:0)),j(t,"stroke",e[3]),q(t,"dashed",e[2])},m(e,n){k(e,t,n)},p(e,i){24704&i&&n!==(n=e[7]+(e[13]?e[14].bandwidth()/2:0))&&z(t,"y1",n),24704&i&&r!==(r=e[7]+(e[13]?e[14].bandwidth()/2:0))&&z(t,"y2",r),8&i&&j(t,"stroke",e[3]),4&i&&q(t,"dashed",e[2])},d(e){e&&E(t)}}}function Fs(e){let t,n,r,i;return{c(){t=T("line"),z(t,"class","tick-mark svelte-f7wn4m"),z(t,"x1","0"),z(t,"x2",n=e[13]?-6:6),z(t,"y1",r=e[7]+(e[13]?e[14].bandwidth()/2:0)),z(t,"y2",i=e[7]+(e[13]?e[14].bandwidth()/2:0)),j(t,"stroke",e[3])},m(e,n){k(e,t,n)},p(e,o){8192&o&&n!==(n=e[13]?-6:6)&&z(t,"x2",n),24704&o&&r!==(r=e[7]+(e[13]?e[14].bandwidth()/2:0))&&z(t,"y1",r),24704&o&&i!==(i=e[7]+(e[13]?e[14].bandwidth()/2:0))&&z(t,"y2",i),8&o&&j(t,"stroke",e[3])},d(e){e&&E(t)}}}function Ps(e){let t,n,r,i,o,s,a,l,c,u=(e[24]==e[15].length-1?e[11]+e[5](e[22])+e[12]:e[5](e[22]))+"",h=!1!==e[1]&&Ds(e),d=!0===e[0]&&Fs(e);return{c(){t=T("g"),h&&h.c(),n=A(),d&&d.c(),r=T("text"),i=N(u),z(r,"x",e[6]),z(r,"y",o=e[7]+(e[13]?e[14].bandwidth()/2:0)),z(r,"dx",s=e[13]?-4:e[8]),z(r,"dy",a=e[13]?4:e[9]),j(r,"text-anchor",e[13]?"end":e[10]),j(r,"fill",e[4]),z(t,"class",l="tick tick-"+e[22]+" svelte-f7wn4m"),z(t,"transform",c="translate("+(e[17][0]+(e[13]?e[16].left:0))+", "+e[14](e[22])+")")},m(e,o){k(e,t,o),h&&h.m(t,null),w(t,n),d&&d.m(t,null),w(t,r),w(r,i)},p(e,f){!1!==e[1]?h?h.p(e,f):(h=Ds(e),h.c(),h.m(t,n)):h&&(h.d(1),h=null),!0===e[0]?d?d.p(e,f):(d=Fs(e),d.c(),d.m(t,r)):d&&(d.d(1),d=null),38944&f&&u!==(u=(e[24]==e[15].length-1?e[11]+e[5](e[22])+e[12]:e[5](e[22]))+"")&&L(i,u),64&f&&z(r,"x",e[6]),24704&f&&o!==(o=e[7]+(e[13]?e[14].bandwidth()/2:0))&&z(r,"y",o),8448&f&&s!==(s=e[13]?-4:e[8])&&z(r,"dx",s),8704&f&&a!==(a=e[13]?4:e[9])&&z(r,"dy",a),9216&f&&j(r,"text-anchor",e[13]?"end":e[10]),16&f&&j(r,"fill",e[4]),32768&f&&l!==(l="tick tick-"+e[22]+" svelte-f7wn4m")&&z(t,"class",l),253952&f&&c!==(c="translate("+(e[17][0]+(e[13]?e[16].left:0))+", "+e[14](e[22])+")")&&z(t,"transform",c)},d(e){e&&E(t),h&&h.d(),d&&d.d()}}}function qs(t){let n,r,i=t[15],o=[];for(let e=0;e<i.length;e+=1)o[e]=Ps(js(t,i,e));return{c(){n=T("g");for(let e=0;e<o.length;e+=1)o[e].c();z(n,"class","axis y-axis"),z(n,"transform",r="translate("+-t[16].left+", 0)")},m(e,t){k(e,n,t);for(let e=0;e<o.length;e+=1)o[e].m(n,null)},p(e,[t]){if(262143&t){let r;for(i=e[15],r=0;r<i.length;r+=1){const s=js(e,i,r);o[r]?o[r].p(s,t):(o[r]=Ps(s),o[r].c(),o[r].m(n,null))}for(;r<o.length;r+=1)o[r].d(1);o.length=i.length}65536&t&&r!==(r="translate("+-e[16].left+", 0)")&&z(n,"transform",r)},i:e,o:e,d(e){e&&E(n),M(o,e)}}}function Os(e,t,n){let r,i,o,s,a;const{padding:l,xRange:c,yScale:u}=B("LayerCake");h(e,l,(e=>n(16,s=e))),h(e,c,(e=>n(17,a=e))),h(e,u,(e=>n(14,o=e)));let{ticks:d=4}=t,{tickMarks:f=!1}=t,{gridlines:g=!0}=t,{tickDashed:p=!1}=t,{tickColor:m="#bbb"}=t,{textColor:y="#666"}=t,{formatTick:x=(e=>e)}=t,{xTick:$=0}=t,{yTick:v=0}=t,{dxTick:b=0}=t,{dyTick:w=-4}=t,{textAnchor:k="start"}=t,{prefix:E=""}=t,{suffix:M=""}=t;return e.$$set=e=>{"ticks"in e&&n(21,d=e.ticks),"tickMarks"in e&&n(0,f=e.tickMarks),"gridlines"in e&&n(1,g=e.gridlines),"tickDashed"in e&&n(2,p=e.tickDashed),"tickColor"in e&&n(3,m=e.tickColor),"textColor"in e&&n(4,y=e.textColor),"formatTick"in e&&n(5,x=e.formatTick),"xTick"in e&&n(6,$=e.xTick),"yTick"in e&&n(7,v=e.yTick),"dxTick"in e&&n(8,b=e.dxTick),"dyTick"in e&&n(9,w=e.dyTick),"textAnchor"in e&&n(10,k=e.textAnchor),"prefix"in e&&n(11,E=e.prefix),"suffix"in e&&n(12,M=e.suffix)},e.$$.update=()=>{16384&e.$$.dirty&&n(13,r="function"==typeof o.bandwidth),2121728&e.$$.dirty&&n(15,i=Array.isArray(d)?d:r?o.domain():"function"==typeof d?d(o.ticks()):o.ticks(d))},[f,g,p,m,y,x,$,v,b,w,k,E,M,r,o,i,s,a,l,c,u,d]}class Is extends we{constructor(e){super(),be(this,e,Os,qs,a,{ticks:21,tickMarks:0,gridlines:1,tickDashed:2,tickColor:3,textColor:4,formatTick:5,xTick:6,yTick:7,dxTick:8,dyTick:9,textAnchor:10,prefix:11,suffix:12})}}function Ks(e,t,n){const r=e.slice();return r[8]=t[n],r[10]=n,r}function Ws(e){let t,n=e[0],r=[];for(let t=0;t<n.length;t+=1)r[t]=Hs(Ks(e,n,t));return{c(){t=_("ul");for(let e=0;e<r.length;e+=1)r[e].c();z(t,"class","legend svelte-1w19nmy")},m(e,n){k(e,t,n);for(let e=0;e<r.length;e+=1)r[e].m(t,null)},p(e,i){if(255&i){let o;for(n=e[0],o=0;o<n.length;o+=1){const s=Ks(e,n,o);r[o]?r[o].p(s,i):(r[o]=Hs(s),r[o].c(),r[o].m(t,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(e){e&&E(t),M(r,e)}}}function Hs(e){let t,n,r,i,o,s=e[8]+"";return{c(){t=_("li"),n=_("div"),r=C(),i=N(s),o=C(),z(n,"class","bullet svelte-1w19nmy"),j(n,"background-color",e[1][e[10]]),j(n,"width",(!e[4]&&(e[2]||e[3]&&0!=e[10])?e[5]:e[6])+"px"),j(n,"height",(e[4]&&(e[2]||e[3]&&0!=e[10])?e[5]:e[6])+"px"),q(n,"round",e[7]),z(t,"class","svelte-1w19nmy")},m(e,s){k(e,t,s),w(t,n),w(t,r),w(t,i),w(t,o)},p(e,t){2&t&&j(n,"background-color",e[1][e[10]]),124&t&&j(n,"width",(!e[4]&&(e[2]||e[3]&&0!=e[10])?e[5]:e[6])+"px"),124&t&&j(n,"height",(e[4]&&(e[2]||e[3]&&0!=e[10])?e[5]:e[6])+"px"),128&t&&q(n,"round",e[7]),1&t&&s!==(s=e[8]+"")&&L(i,s)},d(e){e&&E(t)}}}function Us(t){let n,r=Array.isArray(t[0])&&Array.isArray(t[1]),i=r&&Ws(t);return{c(){i&&i.c(),n=A()},m(e,t){i&&i.m(e,t),k(e,n,t)},p(e,[t]){3&t&&(r=Array.isArray(e[0])&&Array.isArray(e[1])),r?i?i.p(e,t):(i=Ws(e),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null)},i:e,o:e,d(e){i&&i.d(e),e&&E(n)}}}function Bs(e,t,n){let{domain:r=null}=t,{colors:i=null}=t,{line:o=!1}=t,{comparison:s=!1}=t,{horizontal:a=!0}=t,{markerWidth:l=2.5}=t,{markerLength:c=13}=t,{round:u=!1}=t;return e.$$set=e=>{"domain"in e&&n(0,r=e.domain),"colors"in e&&n(1,i=e.colors),"line"in e&&n(2,o=e.line),"comparison"in e&&n(3,s=e.comparison),"horizontal"in e&&n(4,a=e.horizontal),"markerWidth"in e&&n(5,l=e.markerWidth),"markerLength"in e&&n(6,c=e.markerLength),"round"in e&&n(7,u=e.round)},[r,i,o,s,a,l,c,u]}class Gs extends we{constructor(e){super(),be(this,e,Bs,Us,a,{domain:0,colors:1,line:2,comparison:3,horizontal:4,markerWidth:5,markerLength:6,round:7})}}function Js(e){let t,n;const r=e[1].default,i=d(r,e,e[0],null);return{c(){t=_("div"),i&&i.c(),z(t,"class","title svelte-b06b69")},m(e,r){k(e,t,r),i&&i.m(t,null),n=!0},p(e,[t]){i&&i.p&&(!n||1&t)&&p(i,r,e,e[0],n?g(r,e[0],t,null):m(e[0]),null)},i(e){n||(ue(i,e),n=!0)},o(e){he(i,e),n=!1},d(e){e&&E(t),i&&i.d(e)}}}function Vs(e,t,n){let{$$slots:r={},$$scope:i}=t;return e.$$set=e=>{"$$scope"in e&&n(0,i=e.$$scope)},[i,r]}class Ys extends we{constructor(e){super(),be(this,e,Vs,Js,a,{})}}function Zs(e){let t,n;const r=e[1].default,i=d(r,e,e[0],null);return{c(){t=_("div"),i&&i.c(),z(t,"class","footer svelte-7jvwfp")},m(e,r){k(e,t,r),i&&i.m(t,null),n=!0},p(e,[t]){i&&i.p&&(!n||1&t)&&p(i,r,e,e[0],n?g(r,e[0],t,null):m(e[0]),null)},i(e){n||(ue(i,e),n=!0)},o(e){he(i,e),n=!1},d(e){e&&E(t),i&&i.d(e)}}}function Xs(e,t,n){let{$$slots:r={},$$scope:i}=t;return e.$$set=e=>{"$$scope"in e&&n(0,i=e.$$scope)},[i,r]}class Qs extends we{constructor(e){super(),be(this,e,Xs,Zs,a,{})}}function ea(e,t,n){const r=e.slice();return r[15]=t[n],r[17]=n,r}function ta(e,t,n){const r=e.slice();return r[15]=t[n],r[17]=n,r}function na(e){let t;function n(e,t){return e[3][0]&&e[3][0].x?ia:e[3][0]&&e[3][0][0]&&e[3][0][0].x?ra:void 0}let r=n(e),i=r&&r(e);return{c(){t=T("g"),i&&i.c(),z(t,"class","label-group")},m(e,n){k(e,t,n),i&&i.m(t,null)},p(e,o){r===(r=n(e))&&i?i.p(e,o):(i&&i.d(1),i=r&&r(e),i&&(i.c(),i.m(t,null)))},d(e){e&&E(t),i&&i.d()}}}function ra(e){let t,n=e[3],r=[];for(let t=0;t<n.length;t+=1)r[t]=sa(ea(e,n,t));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=A()},m(e,n){for(let t=0;t<r.length;t+=1)r[t].m(e,n);k(e,t,n)},p(e,i){if(12413&i){let o;for(n=e[3],o=0;o<n.length;o+=1){const s=ea(e,n,o);r[o]?r[o].p(s,i):(r[o]=sa(s),r[o].c(),r[o].m(t.parentNode,t))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(e){M(r,e),e&&E(t)}}}function ia(e){let t,n=e[3],r=[];for(let t=0;t<n.length;t+=1)r[t]=ca(ta(e,n,t));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=A()},m(e,n){for(let t=0;t<r.length;t+=1)r[t].m(e,n);k(e,t,n)},p(e,i){if(12415&i){let o;for(n=e[3],o=0;o<n.length;o+=1){const s=ta(e,n,o);r[o]?r[o].p(s,i):(r[o]=ca(s),r[o].c(),r[o].m(t.parentNode,t))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(e){M(r,e),e&&E(t)}}}function oa(e){let t,n,r,i,o=e[4][e[17]][0][e[13]]+"";return{c(){t=T("text"),n=N(o),z(t,"class","label svelte-gjdahk"),z(t,"transform","translate(2,3)"),z(t,"filter","url(#bgfill)"),z(t,"fill","#333"),z(t,"x",r=e[5](e[15][e[15].length-1].x)),z(t,"y",i=e[6](e[15][e[15].length-1].y))},m(e,r){k(e,t,r),w(t,n)},p(e,s){16&s&&o!==(o=e[4][e[17]][0][e[13]]+"")&&L(n,o),40&s&&r!==(r=e[5](e[15][e[15].length-1].x))&&z(t,"x",r),72&s&&i!==(i=e[6](e[15][e[15].length-1].y))&&z(t,"y",i)},d(e){e&&E(t)}}}function sa(e){let t,n=[e[0],e[2]].includes(e[4][e[17]][0][e[12]]),r=n&&oa(e);return{c(){r&&r.c(),t=A()},m(e,n){r&&r.m(e,n),k(e,t,n)},p(e,i){21&i&&(n=[e[0],e[2]].includes(e[4][e[17]][0][e[12]])),n?r?r.p(e,i):(r=oa(e),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},d(e){r&&r.d(e),e&&E(t)}}}function aa(e){let t,n=e[1]==e[4][e[17]].unique&&la(e);return{c(){n&&n.c(),t=A()},m(e,r){n&&n.m(e,r),k(e,t,r)},p(e,r){e[1]==e[4][e[17]].unique?n?n.p(e,r):(n=la(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&E(t)}}}function la(e){let t,n,r,i,o,s,a,l,c,u,h,d,f,g,p,m,y=Math.round(10*e[4][e[17]][e[13]])/10+"",x="("+(Math.round(10*e[4][e[17]].change)/10<0?"":"+")+Math.round(10*e[4][e[17]].change)/10+")";return{c(){t=T("rect"),i=T("text"),o=N(e[1]),l=T("text"),c=N(y),d=T("text"),f=N(x),z(t,"fill","rgba(255,255,255,0.8)"),z(t,"x",n=e[5](e[15].x)),z(t,"y",r=e[6](e[15].y)),z(t,"transform","translate(5,-45)"),z(t,"width","150"),z(t,"height","50"),z(t,"rx","15"),z(i,"class","label-bold svelte-gjdahk"),z(i,"transform","translate(10,-25)"),z(i,"fill","#333"),z(i,"x",s=e[5](e[15].x)),z(i,"y",a=e[6](e[15].y)),z(l,"class","label svelte-gjdahk"),z(l,"transform","translate(10,-5)"),z(l,"fill","#333"),z(l,"x",u=e[5](e[15].x)),z(l,"y",h=e[6](e[15].y)),z(d,"class","label svelte-gjdahk"),z(d,"transform","translate(55,-5)"),z(d,"fill",g=Math.round(10*e[4][e[17]].change)/10<0?"#FF0000":"#228C22"),z(d,"x",p=e[5](e[15].x)),z(d,"y",m=e[6](e[15].y))},m(e,n){k(e,t,n),k(e,i,n),w(i,o),k(e,l,n),w(l,c),k(e,d,n),w(d,f)},p(e,$){40&$&&n!==(n=e[5](e[15].x))&&z(t,"x",n),72&$&&r!==(r=e[6](e[15].y))&&z(t,"y",r),2&$&&L(o,e[1]),40&$&&s!==(s=e[5](e[15].x))&&z(i,"x",s),72&$&&a!==(a=e[6](e[15].y))&&z(i,"y",a),16&$&&y!==(y=Math.round(10*e[4][e[17]][e[13]])/10+"")&&L(c,y),40&$&&u!==(u=e[5](e[15].x))&&z(l,"x",u),72&$&&h!==(h=e[6](e[15].y))&&z(l,"y",h),16&$&&x!==(x="("+(Math.round(10*e[4][e[17]].change)/10<0?"":"+")+Math.round(10*e[4][e[17]].change)/10+")")&&L(f,x),16&$&&g!==(g=Math.round(10*e[4][e[17]].change)/10<0?"#FF0000":"#228C22")&&z(d,"fill",g),40&$&&p!==(p=e[5](e[15].x))&&z(d,"x",p),72&$&&m!==(m=e[6](e[15].y))&&z(d,"y",m)},d(e){e&&E(t),e&&E(i),e&&E(l),e&&E(d)}}}function ca(e){let t,n=[e[0],e[2]].includes(e[4][e[17]][e[12]]),r=n&&aa(e);return{c(){r&&r.c(),t=A()},m(e,n){r&&r.m(e,n),k(e,t,n)},p(e,i){21&i&&(n=[e[0],e[2]].includes(e[4][e[17]][e[12]])),n?r?r.p(e,i):(r=aa(e),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},d(e){r&&r.d(e),e&&E(t)}}}function ua(t){let n,r=t[3].length==t[4].length&&na(t);return{c(){r&&r.c(),n=A()},m(e,t){r&&r.m(e,t),k(e,n,t)},p(e,[t]){e[3].length==e[4].length?r?r.p(e,t):(r=na(e),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},i:e,o:e,d(e){r&&r.d(e),e&&E(n)}}}function ha(e,t,n){let r,i,o,s,a;const{data:l,xScale:c,yScale:u,custom:d}=B("LayerCake");h(e,l,(e=>n(4,o=e))),h(e,c,(e=>n(5,s=e))),h(e,u,(e=>n(6,a=e))),h(e,d,(e=>n(14,r=e)));let{hovered:f=null}=t,{placeLabel:g=null}=t,{selected:p=null}=t,m=r.coords;h(e,m,(e=>n(3,i=e)));let y=r.idKey,x=r.labelKey;return e.$$set=e=>{"hovered"in e&&n(0,f=e.hovered),"placeLabel"in e&&n(1,g=e.placeLabel),"selected"in e&&n(2,p=e.selected)},[f,g,p,i,o,s,a,l,c,u,d,m,y,x]}class da extends we{constructor(e){super(),be(this,e,ha,ua,a,{hovered:0,placeLabel:1,selected:2})}}function fa(e,t,n){const r=e.slice();return r[26]=t[n],r[28]=n,r}function ga(e,t,n){const r=e.slice();return r[26]=t[n],r[28]=n,r}function pa(e){let t,n,r=e[5],i=[];for(let t=0;t<r.length;t+=1)i[t]=ma(ga(e,r,t));let o=e[20]&&(e[0]||e[2]||e[3][0])&&ya(e);return{c(){t=T("g");for(let e=0;e<i.length;e+=1)i[e].c();n=A(),o&&o.c(),z(t,"class","scatter-group")},m(e,r){k(e,t,r);for(let e=0;e<i.length;e+=1)i[e].m(t,null);w(t,n),o&&o.m(t,null)},p(e,s){if(4064&s){let o;for(r=e[5],o=0;o<r.length;o+=1){const a=ga(e,r,o);i[o]?i[o].p(a,s):(i[o]=ma(a),i[o].c(),i[o].m(t,n))}for(;o<i.length;o+=1)i[o].d(1);i.length=r.length}e[20]&&(e[0]||e[2]||e[3][0])?o?o.p(e,s):(o=ya(e),o.c(),o.m(t,null)):o&&(o.d(1),o=null)},d(e){e&&E(t),M(i,e),o&&o.d()}}}function ma(e){let t,n,r,i,o;return{c(){t=T("circle"),z(t,"class",""),z(t,"cx",n=e[7](e[26].x)),z(t,"cy",r=e[8](e[26].y)),z(t,"r",i=e[26].r),z(t,"fill",o=e[9]?e[10](e[6][e[28]]):e[11][0])},m(e,n){k(e,t,n)},p(e,s){160&s&&n!==(n=e[7](e[26].x))&&z(t,"cx",n),288&s&&r!==(r=e[8](e[26].y))&&z(t,"cy",r),32&s&&i!==(i=e[26].r)&&z(t,"r",i),3648&s&&o!==(o=e[9]?e[10](e[6][e[28]]):e[11][0])&&z(t,"fill",o)},d(e){e&&E(t)}}}function ya(e){let t,n=e[5],r=[];for(let t=0;t<n.length;t+=1)r[t]=va(fa(e,n,t));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=A()},m(e,n){for(let t=0;t<r.length;t+=1)r[t].m(e,n);k(e,t,n)},p(e,i){if(32506367&i){let o;for(n=e[5],o=0;o<n.length;o+=1){const s=fa(e,n,o);r[o]?r[o].p(s,i):(r[o]=va(s),r[o].c(),r[o].m(t.parentNode,t))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(e){M(r,e),e&&E(t)}}}function xa(e){let t,n=e[1]==e[6][e[28]].unique&&$a(e);return{c(){n&&n.c(),t=A()},m(e,r){n&&n.m(e,r),k(e,t,r)},p(e,r){e[1]==e[6][e[28]].unique?n?n.p(e,r):(n=$a(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&E(t)}}}function $a(e){let t,n,r,i,o,s,a;return{c(){t=T("circle"),z(t,"class",""),z(t,"cx",n=e[7](e[26].x)),z(t,"cy",r=e[8](e[26].y)),z(t,"r",i=e[26].r),z(t,"fill",o=e[4]&&e[6][e[28]][e[20]]==e[2]?e[22]:e[4]&e[3].includes(e[6][e[28]][e[20]])?e[23]:"none"),z(t,"stroke",s=e[6][e[28]][e[20]]==e[0]?e[21]:e[6][e[28]][e[20]]==e[2]?e[22]:e[23]),z(t,"stroke-width",a=e[6][e[28]][e[20]]==e[0]||e[6][e[28]][e[20]]==e[2]||e[3].includes(e[6][e[28]][e[20]])?e[24]:0)},m(e,n){k(e,t,n)},p(e,l){160&l&&n!==(n=e[7](e[26].x))&&z(t,"cx",n),288&l&&r!==(r=e[8](e[26].y))&&z(t,"cy",r),32&l&&i!==(i=e[26].r)&&z(t,"r",i),92&l&&o!==(o=e[4]&&e[6][e[28]][e[20]]==e[2]?e[22]:e[4]&e[3].includes(e[6][e[28]][e[20]])?e[23]:"none")&&z(t,"fill",o),69&l&&s!==(s=e[6][e[28]][e[20]]==e[0]?e[21]:e[6][e[28]][e[20]]==e[2]?e[22]:e[23])&&z(t,"stroke",s),77&l&&a!==(a=e[6][e[28]][e[20]]==e[0]||e[6][e[28]][e[20]]==e[2]||e[3].includes(e[6][e[28]][e[20]])?e[24]:0)&&z(t,"stroke-width",a)},d(e){e&&E(t)}}}function va(e){let t,n=[e[0],e[2],...e[3]].includes(e[6][e[28]][e[20]]),r=n&&xa(e);return{c(){r&&r.c(),t=A()},m(e,n){r&&r.m(e,n),k(e,t,n)},p(e,i){77&i&&(n=[e[0],e[2],...e[3]].includes(e[6][e[28]][e[20]])),n?r?r.p(e,i):(r=xa(e),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},d(e){r&&r.d(e),e&&E(t)}}}function ba(t){let n,r=t[5].length==t[6].length&&pa(t);return{c(){r&&r.c(),n=A()},m(e,t){r&&r.m(e,t),k(e,n,t)},p(e,[t]){e[5].length==e[6].length?r?r.p(e,t):(r=pa(e),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},i:e,o:e,d(e){r&&r.d(e),e&&E(n)}}}function wa(e,t,n){let r,i,o,s,a,l,c,u;const{data:d,z:f,xScale:g,yScale:p,zGet:m,zRange:y,custom:x}=B("LayerCake");h(e,d,(e=>n(6,o=e))),h(e,f,(e=>n(9,l=e))),h(e,g,(e=>n(7,s=e))),h(e,p,(e=>n(8,a=e))),h(e,m,(e=>n(10,c=e))),h(e,y,(e=>n(11,u=e))),h(e,x,(e=>n(25,r=e)));let{hovered:$=null}=t,{placeLabel:v=null}=t,{selected:b=null}=t,{highlighted:w=[]}=t,{overlayFill:k=!1}=t,E=r.coords;h(e,E,(e=>n(5,i=e)));let M=r.idKey,_=r.colorHover?r.colorHover:"orange",T=r.colorSelect?r.colorSelect:"black",N=r.colorHighlight?r.colorHighlight:"black",C=r.lineWidth?r.lineWidth:2;return e.$$set=e=>{"hovered"in e&&n(0,$=e.hovered),"placeLabel"in e&&n(1,v=e.placeLabel),"selected"in e&&n(2,b=e.selected),"highlighted"in e&&n(3,w=e.highlighted),"overlayFill"in e&&n(4,k=e.overlayFill)},[$,v,b,w,k,i,o,s,a,l,c,u,d,f,g,p,m,y,x,E,M,_,T,N,C]}class ka extends we{constructor(e){super(),be(this,e,wa,ba,a,{hovered:0,placeLabel:1,selected:2,highlighted:3,overlayFill:4})}}const Ea=134217729;function Ma(e,t,n,r,i){let o,s,a,l,c=t[0],u=r[0],h=0,d=0;u>c==u>-c?(o=c,c=t[++h]):(o=u,u=r[++d]);let f=0;if(h<e&&d<n)for(u>c==u>-c?(s=c+o,a=o-(s-c),c=t[++h]):(s=u+o,a=o-(s-u),u=r[++d]),o=s,0!==a&&(i[f++]=a);h<e&&d<n;)u>c==u>-c?(s=o+c,l=s-o,a=o-(s-l)+(c-l),c=t[++h]):(s=o+u,l=s-o,a=o-(s-l)+(u-l),u=r[++d]),o=s,0!==a&&(i[f++]=a);for(;h<e;)s=o+c,l=s-o,a=o-(s-l)+(c-l),c=t[++h],o=s,0!==a&&(i[f++]=a);for(;d<n;)s=o+u,l=s-o,a=o-(s-l)+(u-l),u=r[++d],o=s,0!==a&&(i[f++]=a);return 0===o&&0!==f||(i[f++]=o),f}function _a(e){return new Float64Array(e)}const Ta=_a(4),Na=_a(8),Ca=_a(12),Aa=_a(16),Sa=_a(4);function za(e,t,n,r,i,o){const s=(t-o)*(n-i),a=(e-i)*(r-o),l=s-a;if(0===s||0===a||s>0!=a>0)return l;const c=Math.abs(s+a);return Math.abs(l)>=33306690738754716e-32*c?l:-function(e,t,n,r,i,o,s){let a,l,c,u,h,d,f,g,p,m,y,x,$,v,b,w,k,E;const M=e-i,_=n-i,T=t-o,N=r-o;v=M*N,d=Ea*M,f=d-(d-M),g=M-f,d=Ea*N,p=d-(d-N),m=N-p,b=g*m-(v-f*p-g*p-f*m),w=T*_,d=Ea*T,f=d-(d-T),g=T-f,d=Ea*_,p=d-(d-_),m=_-p,k=g*m-(w-f*p-g*p-f*m),y=b-k,h=b-y,Ta[0]=b-(y+h)+(h-k),x=v+y,h=x-v,$=v-(x-h)+(y-h),y=$-w,h=$-y,Ta[1]=$-(y+h)+(h-w),E=x+y,h=E-x,Ta[2]=x-(E-h)+(y-h),Ta[3]=E;let C=function(e,t){let n=t[0];for(let r=1;r<e;r++)n+=t[r];return n}(4,Ta),A=22204460492503146e-32*s;if(C>=A||-C>=A)return C;if(h=e-M,a=e-(M+h)+(h-i),h=n-_,c=n-(_+h)+(h-i),h=t-T,l=t-(T+h)+(h-o),h=r-N,u=r-(N+h)+(h-o),0===a&&0===l&&0===c&&0===u)return C;if(A=11093356479670487e-47*s+33306690738754706e-32*Math.abs(C),C+=M*u+N*a-(T*c+_*l),C>=A||-C>=A)return C;v=a*N,d=Ea*a,f=d-(d-a),g=a-f,d=Ea*N,p=d-(d-N),m=N-p,b=g*m-(v-f*p-g*p-f*m),w=l*_,d=Ea*l,f=d-(d-l),g=l-f,d=Ea*_,p=d-(d-_),m=_-p,k=g*m-(w-f*p-g*p-f*m),y=b-k,h=b-y,Sa[0]=b-(y+h)+(h-k),x=v+y,h=x-v,$=v-(x-h)+(y-h),y=$-w,h=$-y,Sa[1]=$-(y+h)+(h-w),E=x+y,h=E-x,Sa[2]=x-(E-h)+(y-h),Sa[3]=E;const S=Ma(4,Ta,4,Sa,Na);v=M*u,d=Ea*M,f=d-(d-M),g=M-f,d=Ea*u,p=d-(d-u),m=u-p,b=g*m-(v-f*p-g*p-f*m),w=T*c,d=Ea*T,f=d-(d-T),g=T-f,d=Ea*c,p=d-(d-c),m=c-p,k=g*m-(w-f*p-g*p-f*m),y=b-k,h=b-y,Sa[0]=b-(y+h)+(h-k),x=v+y,h=x-v,$=v-(x-h)+(y-h),y=$-w,h=$-y,Sa[1]=$-(y+h)+(h-w),E=x+y,h=E-x,Sa[2]=x-(E-h)+(y-h),Sa[3]=E;const z=Ma(S,Na,4,Sa,Ca);v=a*u,d=Ea*a,f=d-(d-a),g=a-f,d=Ea*u,p=d-(d-u),m=u-p,b=g*m-(v-f*p-g*p-f*m),w=l*c,d=Ea*l,f=d-(d-l),g=l-f,d=Ea*c,p=d-(d-c),m=c-p,k=g*m-(w-f*p-g*p-f*m),y=b-k,h=b-y,Sa[0]=b-(y+h)+(h-k),x=v+y,h=x-v,$=v-(x-h)+(y-h),y=$-w,h=$-y,Sa[1]=$-(y+h)+(h-w),E=x+y,h=E-x,Sa[2]=x-(E-h)+(y-h),Sa[3]=E;const L=Ma(z,Ca,4,Sa,Aa);return Aa[L-1]}(e,t,n,r,i,o,c)}const La=Math.pow(2,-52),Ra=new Uint32Array(512);class ja{static from(e,t=Ia,n=Ka){const r=e.length,i=new Float64Array(2*r);for(let o=0;o<r;o++){const r=e[o];i[2*o]=t(r),i[2*o+1]=n(r)}return new ja(i)}constructor(e){const t=e.length>>1;if(t>0&&"number"!=typeof e[0])throw new Error("Expected coords to contain numbers.");this.coords=e;const n=Math.max(2*t-5,0);this._triangles=new Uint32Array(3*n),this._halfedges=new Int32Array(3*n),this._hashSize=Math.ceil(Math.sqrt(t)),this._hullPrev=new Uint32Array(t),this._hullNext=new Uint32Array(t),this._hullTri=new Uint32Array(t),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(t),this._dists=new Float64Array(t),this.update()}update(){const{coords:e,_hullPrev:t,_hullNext:n,_hullTri:r,_hullHash:i}=this,o=e.length>>1;let s=1/0,a=1/0,l=-1/0,c=-1/0;for(let t=0;t<o;t++){const n=e[2*t],r=e[2*t+1];n<s&&(s=n),r<a&&(a=r),n>l&&(l=n),r>c&&(c=r),this._ids[t]=t}const u=(s+l)/2,h=(a+c)/2;let d,f,g,p=1/0;for(let t=0;t<o;t++){const n=Da(u,h,e[2*t],e[2*t+1]);n<p&&(d=t,p=n)}const m=e[2*d],y=e[2*d+1];p=1/0;for(let t=0;t<o;t++){if(t===d)continue;const n=Da(m,y,e[2*t],e[2*t+1]);n<p&&n>0&&(f=t,p=n)}let x=e[2*f],$=e[2*f+1],v=1/0;for(let t=0;t<o;t++){if(t===d||t===f)continue;const n=Pa(m,y,x,$,e[2*t],e[2*t+1]);n<v&&(g=t,v=n)}let b=e[2*g],w=e[2*g+1];if(v===1/0){for(let t=0;t<o;t++)this._dists[t]=e[2*t]-e[0]||e[2*t+1]-e[1];qa(this._ids,this._dists,0,o-1);const t=new Uint32Array(o);let n=0;for(let e=0,r=-1/0;e<o;e++){const i=this._ids[e];this._dists[i]>r&&(t[n++]=i,r=this._dists[i])}return this.hull=t.subarray(0,n),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(za(m,y,x,$,b,w)<0){const e=f,t=x,n=$;f=g,x=b,$=w,g=e,b=t,w=n}const k=function(e,t,n,r,i,o){const s=n-e,a=r-t,l=i-e,c=o-t,u=s*s+a*a,h=l*l+c*c,d=.5/(s*c-a*l);return{x:e+(c*u-a*h)*d,y:t+(s*h-l*u)*d}}(m,y,x,$,b,w);this._cx=k.x,this._cy=k.y;for(let t=0;t<o;t++)this._dists[t]=Da(e[2*t],e[2*t+1],k.x,k.y);qa(this._ids,this._dists,0,o-1),this._hullStart=d;let E=3;n[d]=t[g]=f,n[f]=t[d]=g,n[g]=t[f]=d,r[d]=0,r[f]=1,r[g]=2,i.fill(-1),i[this._hashKey(m,y)]=d,i[this._hashKey(x,$)]=f,i[this._hashKey(b,w)]=g,this.trianglesLen=0,this._addTriangle(d,f,g,-1,-1,-1);for(let o,s,a=0;a<this._ids.length;a++){const l=this._ids[a],c=e[2*l],u=e[2*l+1];if(a>0&&Math.abs(c-o)<=La&&Math.abs(u-s)<=La)continue;if(o=c,s=u,l===d||l===f||l===g)continue;let h=0;for(let e=0,t=this._hashKey(c,u);e<this._hashSize&&(h=i[(t+e)%this._hashSize],-1===h||h===n[h]);e++);h=t[h];let p,m=h;for(;p=n[m],za(c,u,e[2*m],e[2*m+1],e[2*p],e[2*p+1])>=0;)if(m=p,m===h){m=-1;break}if(-1===m)continue;let y=this._addTriangle(m,l,n[m],-1,-1,r[m]);r[l]=this._legalize(y+2),r[m]=y,E++;let x=n[m];for(;p=n[x],za(c,u,e[2*x],e[2*x+1],e[2*p],e[2*p+1])<0;)y=this._addTriangle(x,l,p,r[l],-1,r[x]),r[l]=this._legalize(y+2),n[x]=x,E--,x=p;if(m===h)for(;p=t[m],za(c,u,e[2*p],e[2*p+1],e[2*m],e[2*m+1])<0;)y=this._addTriangle(p,l,m,-1,r[m],r[p]),this._legalize(y+2),r[p]=y,n[m]=m,E--,m=p;this._hullStart=t[l]=m,n[m]=t[x]=l,n[l]=x,i[this._hashKey(c,u)]=l,i[this._hashKey(e[2*m],e[2*m+1])]=m}this.hull=new Uint32Array(E);for(let e=0,t=this._hullStart;e<E;e++)this.hull[e]=t,t=n[t];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(e,t){return Math.floor(function(e,t){const n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}(e-this._cx,t-this._cy)*this._hashSize)%this._hashSize}_legalize(e){const{_triangles:t,_halfedges:n,coords:r}=this;let i=0,o=0;for(;;){const s=n[e],a=e-e%3;if(o=a+(e+2)%3,-1===s){if(0===i)break;e=Ra[--i];continue}const l=s-s%3,c=a+(e+1)%3,u=l+(s+2)%3,h=t[o],d=t[e],f=t[c],g=t[u];if(Fa(r[2*h],r[2*h+1],r[2*d],r[2*d+1],r[2*f],r[2*f+1],r[2*g],r[2*g+1])){t[e]=g,t[s]=h;const r=n[u];if(-1===r){let t=this._hullStart;do{if(this._hullTri[t]===u){this._hullTri[t]=e;break}t=this._hullPrev[t]}while(t!==this._hullStart)}this._link(e,r),this._link(s,n[o]),this._link(o,u);const a=l+(s+1)%3;i<Ra.length&&(Ra[i++]=a)}else{if(0===i)break;e=Ra[--i]}}return o}_link(e,t){this._halfedges[e]=t,-1!==t&&(this._halfedges[t]=e)}_addTriangle(e,t,n,r,i,o){const s=this.trianglesLen;return this._triangles[s]=e,this._triangles[s+1]=t,this._triangles[s+2]=n,this._link(s,r),this._link(s+1,i),this._link(s+2,o),this.trianglesLen+=3,s}}function Da(e,t,n,r){const i=e-n,o=t-r;return i*i+o*o}function Fa(e,t,n,r,i,o,s,a){const l=e-s,c=t-a,u=n-s,h=r-a,d=i-s,f=o-a,g=u*u+h*h,p=d*d+f*f;return l*(h*p-g*f)-c*(u*p-g*d)+(l*l+c*c)*(u*f-h*d)<0}function Pa(e,t,n,r,i,o){const s=n-e,a=r-t,l=i-e,c=o-t,u=s*s+a*a,h=l*l+c*c,d=.5/(s*c-a*l),f=(c*u-a*h)*d,g=(s*h-l*u)*d;return f*f+g*g}function qa(e,t,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const r=e[i],o=t[r];let s=i-1;for(;s>=n&&t[e[s]]>o;)e[s+1]=e[s--];e[s+1]=r}else{let i=n+1,o=r;Oa(e,n+r>>1,i),t[e[n]]>t[e[r]]&&Oa(e,n,r),t[e[i]]>t[e[r]]&&Oa(e,i,r),t[e[n]]>t[e[i]]&&Oa(e,n,i);const s=e[i],a=t[s];for(;;){do{i++}while(t[e[i]]<a);do{o--}while(t[e[o]]>a);if(o<i)break;Oa(e,i,o)}e[n+1]=e[o],e[o]=s,r-i+1>=o-n?(qa(e,t,i,r),qa(e,t,n,o-1)):(qa(e,t,n,o-1),qa(e,t,i,r))}}function Oa(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Ia(e){return e[0]}function Ka(e){return e[1]}const Wa=1e-6;class Ha{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(e,t){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(e,t){this._+=`L${this._x1=+e},${this._y1=+t}`}arc(e,t,n){const r=(e=+e)+(n=+n),i=t=+t;if(n<0)throw new Error("negative radius");null===this._x1?this._+=`M${r},${i}`:(Math.abs(this._x1-r)>Wa||Math.abs(this._y1-i)>Wa)&&(this._+="L"+r+","+i),n&&(this._+=`A${n},${n},0,1,1,${e-n},${t}A${n},${n},0,1,1,${this._x1=r},${this._y1=i}`)}rect(e,t,n,r){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${+n}v${+r}h${-n}Z`}value(){return this._||null}}class Ua{constructor(){this._=[]}moveTo(e,t){this._.push([e,t])}closePath(){this._.push(this._[0].slice())}lineTo(e,t){this._.push([e,t])}value(){return this._.length?this._:null}}class Ba{constructor(e,[t,n,r,i]=[0,0,960,500]){if(!((r=+r)>=(t=+t)&&(i=+i)>=(n=+n)))throw new Error("invalid bounds");this.delaunay=e,this._circumcenters=new Float64Array(2*e.points.length),this.vectors=new Float64Array(2*e.points.length),this.xmax=r,this.xmin=t,this.ymax=i,this.ymin=n,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:e,hull:t,triangles:n},vectors:r}=this,i=this.circumcenters=this._circumcenters.subarray(0,n.length/3*2);for(let t,r,o=0,s=0,a=n.length;o<a;o+=3,s+=2){const a=2*n[o],l=2*n[o+1],c=2*n[o+2],u=e[a],h=e[a+1],d=e[l],f=e[l+1],g=e[c],p=e[c+1],m=d-u,y=f-h,x=g-u,$=p-h,v=2*(m*$-y*x);if(Math.abs(v)<1e-9){let i=1e9;const o=2*n[0];i*=Math.sign((e[o]-u)*$-(e[o+1]-h)*x),t=(u+g)/2-i*$,r=(h+p)/2+i*x}else{const e=1/v,n=m*m+y*y,i=x*x+$*$;t=u+($*n-y*i)*e,r=h+(m*i-x*n)*e}i[s]=t,i[s+1]=r}let o,s,a,l=t[t.length-1],c=4*l,u=e[2*l],h=e[2*l+1];r.fill(0);for(let n=0;n<t.length;++n)l=t[n],o=c,s=u,a=h,c=4*l,u=e[2*l],h=e[2*l+1],r[o+2]=r[c]=a-h,r[o+3]=r[c+1]=u-s}render(e){const t=null==e?e=new Ha:void 0,{delaunay:{halfedges:n,inedges:r,hull:i},circumcenters:o,vectors:s}=this;if(i.length<=1)return null;for(let t=0,r=n.length;t<r;++t){const r=n[t];if(r<t)continue;const i=2*Math.floor(t/3),s=2*Math.floor(r/3),a=o[i],l=o[i+1],c=o[s],u=o[s+1];this._renderSegment(a,l,c,u,e)}let a,l=i[i.length-1];for(let t=0;t<i.length;++t){a=l,l=i[t];const n=2*Math.floor(r[l]/3),c=o[n],u=o[n+1],h=4*a,d=this._project(c,u,s[h+2],s[h+3]);d&&this._renderSegment(c,u,d[0],d[1],e)}return t&&t.value()}renderBounds(e){const t=null==e?e=new Ha:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),t&&t.value()}renderCell(e,t){const n=null==t?t=new Ha:void 0,r=this._clip(e);if(null===r||!r.length)return;t.moveTo(r[0],r[1]);let i=r.length;for(;r[0]===r[i-2]&&r[1]===r[i-1]&&i>1;)i-=2;for(let e=2;e<i;e+=2)r[e]===r[e-2]&&r[e+1]===r[e-1]||t.lineTo(r[e],r[e+1]);return t.closePath(),n&&n.value()}*cellPolygons(){const{delaunay:{points:e}}=this;for(let t=0,n=e.length/2;t<n;++t){const e=this.cellPolygon(t);e&&(e.index=t,yield e)}}cellPolygon(e){const t=new Ua;return this.renderCell(e,t),t.value()}_renderSegment(e,t,n,r,i){let o;const s=this._regioncode(e,t),a=this._regioncode(n,r);0===s&&0===a?(i.moveTo(e,t),i.lineTo(n,r)):(o=this._clipSegment(e,t,n,r,s,a))&&(i.moveTo(o[0],o[1]),i.lineTo(o[2],o[3]))}contains(e,t,n){return(t=+t)==t&&(n=+n)==n&&this.delaunay._step(e,t,n)===e}*neighbors(e){const t=this._clip(e);if(t)for(const n of this.delaunay.neighbors(e)){const e=this._clip(n);if(e)e:for(let r=0,i=t.length;r<i;r+=2)for(let o=0,s=e.length;o<s;o+=2)if(t[r]==e[o]&&t[r+1]==e[o+1]&&t[(r+2)%i]==e[(o+s-2)%s]&&t[(r+3)%i]==e[(o+s-1)%s]){yield n;break e}}}_cell(e){const{circumcenters:t,delaunay:{inedges:n,halfedges:r,triangles:i}}=this,o=n[e];if(-1===o)return null;const s=[];let a=o;do{const n=Math.floor(a/3);if(s.push(t[2*n],t[2*n+1]),a=a%3==2?a-2:a+1,i[a]!==e)break;a=r[a]}while(a!==o&&-1!==a);return s}_clip(e){if(0===e&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const t=this._cell(e);if(null===t)return null;const{vectors:n}=this,r=4*e;return n[r]||n[r+1]?this._clipInfinite(e,t,n[r],n[r+1],n[r+2],n[r+3]):this._clipFinite(e,t)}_clipFinite(e,t){const n=t.length;let r,i,o,s,a=null,l=t[n-2],c=t[n-1],u=this._regioncode(l,c),h=0;for(let d=0;d<n;d+=2)if(r=l,i=c,l=t[d],c=t[d+1],o=u,u=this._regioncode(l,c),0===o&&0===u)s=h,h=0,a?a.push(l,c):a=[l,c];else{let t,n,d,f,g;if(0===o){if(null===(t=this._clipSegment(r,i,l,c,o,u)))continue;[n,d,f,g]=t}else{if(null===(t=this._clipSegment(l,c,r,i,u,o)))continue;[f,g,n,d]=t,s=h,h=this._edgecode(n,d),s&&h&&this._edge(e,s,h,a,a.length),a?a.push(n,d):a=[n,d]}s=h,h=this._edgecode(f,g),s&&h&&this._edge(e,s,h,a,a.length),a?a.push(f,g):a=[f,g]}if(a)s=h,h=this._edgecode(a[0],a[1]),s&&h&&this._edge(e,s,h,a,a.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return a}_clipSegment(e,t,n,r,i,o){for(;;){if(0===i&&0===o)return[e,t,n,r];if(i&o)return null;let s,a,l=i||o;8&l?(s=e+(n-e)*(this.ymax-t)/(r-t),a=this.ymax):4&l?(s=e+(n-e)*(this.ymin-t)/(r-t),a=this.ymin):2&l?(a=t+(r-t)*(this.xmax-e)/(n-e),s=this.xmax):(a=t+(r-t)*(this.xmin-e)/(n-e),s=this.xmin),i?(e=s,t=a,i=this._regioncode(e,t)):(n=s,r=a,o=this._regioncode(n,r))}}_clipInfinite(e,t,n,r,i,o){let s,a=Array.from(t);if((s=this._project(a[0],a[1],n,r))&&a.unshift(s[0],s[1]),(s=this._project(a[a.length-2],a[a.length-1],i,o))&&a.push(s[0],s[1]),a=this._clipFinite(e,a))for(let t,n=0,r=a.length,i=this._edgecode(a[r-2],a[r-1]);n<r;n+=2)t=i,i=this._edgecode(a[n],a[n+1]),t&&i&&(n=this._edge(e,t,i,a,n),r=a.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(a=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return a}_edge(e,t,n,r,i){for(;t!==n;){let n,o;switch(t){case 5:t=4;continue;case 4:t=6,n=this.xmax,o=this.ymin;break;case 6:t=2;continue;case 2:t=10,n=this.xmax,o=this.ymax;break;case 10:t=8;continue;case 8:t=9,n=this.xmin,o=this.ymax;break;case 9:t=1;continue;case 1:t=5,n=this.xmin,o=this.ymin}r[i]===n&&r[i+1]===o||!this.contains(e,n,o)||(r.splice(i,0,n,o),i+=2)}if(r.length>4)for(let e=0;e<r.length;e+=2){const t=(e+2)%r.length,n=(e+4)%r.length;(r[e]===r[t]&&r[t]===r[n]||r[e+1]===r[t+1]&&r[t+1]===r[n+1])&&(r.splice(t,2),e-=2)}return i}_project(e,t,n,r){let i,o,s,a=1/0;if(r<0){if(t<=this.ymin)return null;(i=(this.ymin-t)/r)<a&&(s=this.ymin,o=e+(a=i)*n)}else if(r>0){if(t>=this.ymax)return null;(i=(this.ymax-t)/r)<a&&(s=this.ymax,o=e+(a=i)*n)}if(n>0){if(e>=this.xmax)return null;(i=(this.xmax-e)/n)<a&&(o=this.xmax,s=t+(a=i)*r)}else if(n<0){if(e<=this.xmin)return null;(i=(this.xmin-e)/n)<a&&(o=this.xmin,s=t+(a=i)*r)}return[o,s]}_edgecode(e,t){return(e===this.xmin?1:e===this.xmax?2:0)|(t===this.ymin?4:t===this.ymax?8:0)}_regioncode(e,t){return(e<this.xmin?1:e>this.xmax?2:0)|(t<this.ymin?4:t>this.ymax?8:0)}}const Ga=2*Math.PI,Ja=Math.pow;function Va(e){return e[0]}function Ya(e){return e[1]}function Za(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}class Xa{static from(e,t=Va,n=Ya,r){return new Xa("length"in e?function(e,t,n,r){const i=e.length,o=new Float64Array(2*i);for(let s=0;s<i;++s){const i=e[s];o[2*s]=t.call(r,i,s,e),o[2*s+1]=n.call(r,i,s,e)}return o}(e,t,n,r):Float64Array.from(function*(e,t,n,r){let i=0;for(const o of e)yield t.call(r,o,i,e),yield n.call(r,o,i,e),++i}(e,t,n,r)))}constructor(e){this._delaunator=new ja(e),this.inedges=new Int32Array(e.length/2),this._hullIndex=new Int32Array(e.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const e=this._delaunator,t=this.points;if(e.hull&&e.hull.length>2&&function(e){const{triangles:t,coords:n}=e;for(let e=0;e<t.length;e+=3){const r=2*t[e],i=2*t[e+1],o=2*t[e+2];if((n[o]-n[r])*(n[i+1]-n[r+1])-(n[i]-n[r])*(n[o+1]-n[r+1])>1e-10)return!1}return!0}(e)){this.collinear=Int32Array.from({length:t.length/2},((e,t)=>t)).sort(((e,n)=>t[2*e]-t[2*n]||t[2*e+1]-t[2*n+1]));const e=this.collinear[0],n=this.collinear[this.collinear.length-1],r=[t[2*e],t[2*e+1],t[2*n],t[2*n+1]],i=1e-8*Math.hypot(r[3]-r[1],r[2]-r[0]);for(let e=0,n=t.length/2;e<n;++e){const n=Za(t[2*e],t[2*e+1],i);t[2*e]=n[0],t[2*e+1]=n[1]}this._delaunator=new ja(t)}else delete this.collinear;const n=this.halfedges=this._delaunator.halfedges,r=this.hull=this._delaunator.hull,i=this.triangles=this._delaunator.triangles,o=this.inedges.fill(-1),s=this._hullIndex.fill(-1);for(let e=0,t=n.length;e<t;++e){const t=i[e%3==2?e-2:e+1];-1!==n[e]&&-1!==o[t]||(o[t]=e)}for(let e=0,t=r.length;e<t;++e)s[r[e]]=e;r.length<=2&&r.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=r[0],o[r[0]]=1,2===r.length&&(o[r[1]]=0,this.triangles[1]=r[1],this.triangles[2]=r[1]))}voronoi(e){return new Ba(this,e)}*neighbors(e){const{inedges:t,hull:n,_hullIndex:r,halfedges:i,triangles:o,collinear:s}=this;if(s){const t=s.indexOf(e);return t>0&&(yield s[t-1]),void(t<s.length-1&&(yield s[t+1]))}const a=t[e];if(-1===a)return;let l=a,c=-1;do{if(yield c=o[l],l=l%3==2?l-2:l+1,o[l]!==e)return;if(l=i[l],-1===l){const t=n[(r[e]+1)%n.length];return void(t!==c&&(yield t))}}while(l!==a)}find(e,t,n=0){if((e=+e)!=e||(t=+t)!=t)return-1;const r=n;let i;for(;(i=this._step(n,e,t))>=0&&i!==n&&i!==r;)n=i;return i}_step(e,t,n){const{inedges:r,hull:i,_hullIndex:o,halfedges:s,triangles:a,points:l}=this;if(-1===r[e]||!l.length)return(e+1)%(l.length>>1);let c=e,u=Ja(t-l[2*e],2)+Ja(n-l[2*e+1],2);const h=r[e];let d=h;do{let r=a[d];const h=Ja(t-l[2*r],2)+Ja(n-l[2*r+1],2);if(h<u&&(u=h,c=r),d=d%3==2?d-2:d+1,a[d]!==e)break;if(d=s[d],-1===d){if(d=i[(o[e]+1)%i.length],d!==r&&Ja(t-l[2*d],2)+Ja(n-l[2*d+1],2)<u)return d;break}}while(d!==h);return c}render(e){const t=null==e?e=new Ha:void 0,{points:n,halfedges:r,triangles:i}=this;for(let t=0,o=r.length;t<o;++t){const o=r[t];if(o<t)continue;const s=2*i[t],a=2*i[o];e.moveTo(n[s],n[s+1]),e.lineTo(n[a],n[a+1])}return this.renderHull(e),t&&t.value()}renderPoints(e,t){void 0!==t||e&&"function"==typeof e.moveTo||(t=e,e=null),t=null==t?2:+t;const n=null==e?e=new Ha:void 0,{points:r}=this;for(let n=0,i=r.length;n<i;n+=2){const i=r[n],o=r[n+1];e.moveTo(i+t,o),e.arc(i,o,t,0,Ga)}return n&&n.value()}renderHull(e){const t=null==e?e=new Ha:void 0,{hull:n,points:r}=this,i=2*n[0],o=n.length;e.moveTo(r[i],r[i+1]);for(let t=1;t<o;++t){const i=2*n[t];e.lineTo(r[i],r[i+1])}return e.closePath(),t&&t.value()}hullPolygon(){const e=new Ua;return this.renderHull(e),e.value()}renderTriangle(e,t){const n=null==t?t=new Ha:void 0,{points:r,triangles:i}=this,o=2*i[e*=3],s=2*i[e+1],a=2*i[e+2];return t.moveTo(r[o],r[o+1]),t.lineTo(r[s],r[s+1]),t.lineTo(r[a],r[a+1]),t.closePath(),n&&n.value()}*trianglePolygons(){const{triangles:e}=this;for(let t=0,n=e.length/3;t<n;++t)yield this.trianglePolygon(t)}trianglePolygon(e){const t=new Ua;return this.renderTriangle(e,t),t.value()}}function Qa(e,t,n){const r=e.slice();return r[29]=t[n],r[31]=n,r}function el(e){let t,n=e[1]&&tl(e);return{c(){n&&n.c(),t=A()},m(e,r){n&&n.m(e,r),k(e,t,r)},p(e,r){e[1]?n?n.p(e,r):(n=tl(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&E(t)}}}function tl(e){let t,n=e[2],r=[];for(let t=0;t<n.length;t+=1)r[t]=nl(Qa(e,n,t));return{c(){t=T("g");for(let e=0;e<r.length;e+=1)r[e].c();z(t,"class","voronoi-group")},m(e,n){k(e,t,n);for(let e=0;e<r.length;e+=1)r[e].m(t,null)},p(e,i){if(3078&i[0]){let o;for(n=e[2],o=0;o<n.length;o+=1){const s=Qa(e,n,o);r[o]?r[o].p(s,i):(r[o]=nl(s),r[o].c(),r[o].m(t,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(e){e&&E(t),M(r,e)}}}function nl(e){let t,n,r,i;function s(...t){return e[21](e[31],...t)}function a(...t){return e[23](e[31],...t)}function l(...t){return e[25](e[31],...t)}return{c(){t=T("path"),z(t,"class","voronoi-cell svelte-169satm"),z(t,"d",n=e[1].renderCell(e[31]))},m(n,o){k(n,t,o),r||(i=[S(t,"mouseover",s),S(t,"mouseleave",e[22]),S(t,"focus",a),S(t,"blur",e[24]),S(t,"click",l)],r=!0)},p(r,i){e=r,2&i[0]&&n!==(n=e[1].renderCell(e[31]))&&z(t,"d",n)},d(e){e&&E(t),r=!1,o(i)}}}function rl(t){let n,r=t[0].length==t[2].length&&el(t);return{c(){r&&r.c(),n=A()},m(e,t){r&&r.m(e,t),k(e,n,t)},p(e,t){e[0].length==e[2].length?r?r.p(e,t):(r=el(e),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},i:e,o:e,d(e){r&&r.d(e),e&&E(n)}}}function il(e,t,n){let r,i,o,s,a,l,c,u,d;const{data:f,width:g,height:p,custom:m,xScale:y,yScale:x}=B("LayerCake");h(e,f,(e=>n(2,d=e))),h(e,g,(e=>n(18,s=e))),h(e,p,(e=>n(17,o=e))),h(e,m,(e=>n(26,u=e))),h(e,y,(e=>n(20,l=e))),h(e,x,(e=>n(19,a=e)));const $=H();let{hover:v=!1}=t,{hovered:b=null}=t,{select:w=!1}=t,{selected:k=null}=t,E=u.coords;h(e,E,(e=>n(0,c=e)));let M=u.idKey;function _(e,t){v&&(n(12,b=t?t[M]:null),$("hover",{id:b,data:t,event:e}))}function T(e,t){w&&(n(13,k=t?t[M]:null),$("select",{id:k,data:t,event:e}))}return e.$$set=e=>{"hover"in e&&n(14,v=e.hover),"hovered"in e&&n(12,b=e.hovered),"select"in e&&n(15,w=e.select),"selected"in e&&n(13,k=e.selected)},e.$$.update=()=>{1572865&e.$$.dirty[0]&&n(16,r=Array.isArray(c)?c.map((e=>[l(e.x),a(e.y)])):[]),458752&e.$$.dirty[0]&&n(1,i=Xa.from(r).voronoi([0,0,s,o]))},[c,i,d,f,g,p,m,y,x,E,_,T,b,k,v,w,r,o,s,a,l,(e,t)=>_(t,d[e]),e=>_(e,null),(e,t)=>_(t,d[e]),e=>_(e,null),(e,t)=>T(t,d[e])]}class ol extends we{constructor(e){super(),be(this,e,il,rl,a,{hover:14,hovered:12,select:15,selected:13},null,[-1,-1])}}const sl=e=>({}),al=e=>({}),ll=e=>({}),cl=e=>({}),ul=e=>({}),hl=e=>({}),dl=e=>({}),fl=e=>({});function gl(e){let t,n;return t=new Ys({props:{$$slots:{default:[pl]},$$scope:{ctx:e}}}),{c(){ye(t.$$.fragment)},m(e,r){xe(t,e,r),n=!0},p(e,n){const r={};4194304&n[0]|134217728&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(ue(t.$$.fragment,e),n=!0)},o(e){he(t.$$.fragment,e),n=!1},d(e){$e(t,e)}}}function pl(e){let t;return{c(){t=N(e[22])},m(e,n){k(e,t,n)},p(e,n){4194304&n[0]&&L(t,e[22])},d(e){e&&E(t)}}}function ml(e){let t,n,r,i,o,s;t=new Ts({});const a=e[54].back,l=d(a,e,e[58],hl);i=new ji({props:{pointerEvents:e[30],$$slots:{default:[vl]},$$scope:{ctx:e}}});const c=e[54].front,u=d(c,e,e[58],al);return{c(){ye(t.$$.fragment),n=C(),l&&l.c(),r=C(),ye(i.$$.fragment),o=C(),u&&u.c()},m(e,a){xe(t,e,a),k(e,n,a),l&&l.m(e,a),k(e,r,a),xe(i,e,a),k(e,o,a),u&&u.m(e,a),s=!0},p(e,t){l&&l.p&&(!s||134217728&t[1])&&p(l,a,e,e[58],s?g(a,e[58],t,ul):m(e[58]),hl);const n={};1073741824&t[0]&&(n.pointerEvents=e[30]),37740609&t[0]|134221487&t[1]&&(n.$$scope={dirty:t,ctx:e}),i.$set(n),u&&u.p&&(!s||134217728&t[1])&&p(u,c,e,e[58],s?g(c,e[58],t,sl):m(e[58]),al)},i(e){s||(ue(t.$$.fragment,e),ue(l,e),ue(i.$$.fragment,e),ue(u,e),s=!0)},o(e){he(t.$$.fragment,e),he(l,e),he(i.$$.fragment,e),he(u,e),s=!1},d(e){$e(t,e),e&&E(n),l&&l.d(e),e&&E(r),$e(i,e),e&&E(o),u&&u.d(e)}}}function yl(e){let t,n;return t=new Rs({props:{ticks:e[17],formatTick:e[13],snapTicks:e[25],prefix:e[31],suffix:e[32],textColor:e[19],tickColor:e[20],tickDashed:e[21]}}),{c(){ye(t.$$.fragment)},m(e,r){xe(t,e,r),n=!0},p(e,n){const r={};131072&n[0]&&(r.ticks=e[17]),8192&n[0]&&(r.formatTick=e[13]),33554432&n[0]&&(r.snapTicks=e[25]),1&n[1]&&(r.prefix=e[31]),2&n[1]&&(r.suffix=e[32]),524288&n[0]&&(r.textColor=e[19]),1048576&n[0]&&(r.tickColor=e[20]),2097152&n[0]&&(r.tickDashed=e[21]),t.$set(r)},i(e){n||(ue(t.$$.fragment,e),n=!0)},o(e){he(t.$$.fragment,e),n=!1},d(e){$e(t,e)}}}function xl(e){let t,n;return t=new Is({props:{ticks:e[18],formatTick:e[14],prefix:e[33],suffix:e[34],textColor:e[19],tickColor:e[20],tickDashed:e[21]}}),{c(){ye(t.$$.fragment)},m(e,r){xe(t,e,r),n=!0},p(e,n){const r={};262144&n[0]&&(r.ticks=e[18]),16384&n[0]&&(r.formatTick=e[14]),4&n[1]&&(r.prefix=e[33]),8&n[1]&&(r.suffix=e[34]),524288&n[0]&&(r.textColor=e[19]),1048576&n[0]&&(r.tickColor=e[20]),2097152&n[0]&&(r.tickDashed=e[21]),t.$set(r)},i(e){n||(ue(t.$$.fragment,e),n=!0)},o(e){he(t.$$.fragment,e),n=!1},d(e){$e(t,e)}}}function $l(e){let t,n,r,i;function o(t){e[55](t)}function s(t){e[56](t)}let a={select:e[36],hover:_l,highlighted:e[38]};return void 0!==e[0]&&(a.selected=e[0]),void 0!==e[41]&&(a.hovered=e[41]),t=new ol({props:a}),V.push((()=>me(t,"selected",o))),V.push((()=>me(t,"hovered",s))),t.$on("hover",e[46]),t.$on("select",e[57]),{c(){ye(t.$$.fragment)},m(e,n){xe(t,e,n),i=!0},p(e,i){const o={};32&i[1]&&(o.select=e[36]),128&i[1]&&(o.highlighted=e[38]),!n&&1&i[0]&&(n=!0,o.selected=e[0],te((()=>n=!1))),!r&&1024&i[1]&&(r=!0,o.hovered=e[41],te((()=>r=!1))),t.$set(o)},i(e){i||(ue(t.$$.fragment,e),i=!0)},o(e){he(t.$$.fragment,e),i=!1},d(e){$e(t,e)}}}function vl(e){let t,n,r,i,o,s,a,l=e[15]&&yl(e),c=e[16]&&e[6]&&xl(e);r=new ka({props:{selected:e[0],hovered:e[41],placeLabel:e[42],highlighted:e[38],overlayFill:e[40]}});let u=(e[36]||_l)&&$l(e),h=function(e){let t,n;return t=new da({props:{hovered:e[41],placeLabel:e[42],selected:e[0]}}),{c(){ye(t.$$.fragment)},m(e,r){xe(t,e,r),n=!0},p(e,n){const r={};1024&n[1]&&(r.hovered=e[41]),2048&n[1]&&(r.placeLabel=e[42]),1&n[0]&&(r.selected=e[0]),t.$set(r)},i(e){n||(ue(t.$$.fragment,e),n=!0)},o(e){he(t.$$.fragment,e),n=!1},d(e){$e(t,e)}}}(e);const f=e[54].svg,y=d(f,e,e[58],cl);return{c(){l&&l.c(),t=C(),c&&c.c(),n=C(),ye(r.$$.fragment),i=C(),u&&u.c(),o=C(),h&&h.c(),s=C(),y&&y.c()},m(e,d){l&&l.m(e,d),k(e,t,d),c&&c.m(e,d),k(e,n,d),xe(r,e,d),k(e,i,d),u&&u.m(e,d),k(e,o,d),h&&h.m(e,d),k(e,s,d),y&&y.m(e,d),a=!0},p(e,i){e[15]?l?(l.p(e,i),32768&i[0]&&ue(l,1)):(l=yl(e),l.c(),ue(l,1),l.m(t.parentNode,t)):l&&(le(),he(l,1,1,(()=>{l=null})),ce()),e[16]&&e[6]?c?(c.p(e,i),65600&i[0]&&ue(c,1)):(c=xl(e),c.c(),ue(c,1),c.m(n.parentNode,n)):c&&(le(),he(c,1,1,(()=>{c=null})),ce());const s={};1&i[0]&&(s.selected=e[0]),1024&i[1]&&(s.hovered=e[41]),2048&i[1]&&(s.placeLabel=e[42]),128&i[1]&&(s.highlighted=e[38]),512&i[1]&&(s.overlayFill=e[40]),r.$set(s),e[36]||_l?u?(u.p(e,i),32&i[1]&&ue(u,1)):(u=$l(e),u.c(),ue(u,1),u.m(o.parentNode,o)):u&&(le(),he(u,1,1,(()=>{u=null})),ce()),h.p(e,i),y&&y.p&&(!a||134217728&i[1])&&p(y,f,e,e[58],a?g(f,e[58],i,ll):m(e[58]),cl)},i(e){a||(ue(l),ue(c),ue(r.$$.fragment,e),ue(u),ue(h),ue(y,e),a=!0)},o(e){he(l),he(c),he(r.$$.fragment,e),he(u),he(h),he(y,e),a=!1},d(e){l&&l.d(e),e&&E(t),c&&c.d(e),e&&E(n),$e(r,e),e&&E(i),u&&u.d(e),e&&E(o),h&&h.d(e),e&&E(s),y&&y.d(e)}}}function bl(e){let t,n,r=e[65]>80&&ml(e);return{c(){r&&r.c(),t=A()},m(e,i){r&&r.m(e,i),k(e,t,i),n=!0},p(e,n){e[65]>80?r?(r.p(e,n),8&n[2]&&ue(r,1)):(r=ml(e),r.c(),ue(r,1),r.m(t.parentNode,t)):r&&(le(),he(r,1,1,(()=>{r=null})),ce())},i(e){n||(ue(r),n=!0)},o(e){he(r),n=!1},d(e){r&&r.d(e),e&&E(t)}}}function wl(e){let t,n;return t=new Gs({props:{domain:e[44],colors:e[28],markerLength:13,round:!0}}),{c(){ye(t.$$.fragment)},m(e,r){xe(t,e,r),n=!0},p(e,n){const r={};8192&n[1]&&(r.domain=e[44]),268435456&n[0]&&(r.colors=e[28]),t.$set(r)},i(e){n||(ue(t.$$.fragment,e),n=!0)},o(e){he(t.$$.fragment,e),n=!1},d(e){$e(t,e)}}}function kl(e){let t,n;return t=new Qs({props:{$$slots:{default:[El]},$$scope:{ctx:e}}}),{c(){ye(t.$$.fragment)},m(e,r){xe(t,e,r),n=!0},p(e,n){const r={};8388608&n[0]|134217728&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(ue(t.$$.fragment,e),n=!0)},o(e){he(t.$$.fragment,e),n=!1},d(e){$e(t,e)}}}function El(e){let t;return{c(){t=N(e[23])},m(e,n){k(e,t,n)},p(e,n){8388608&n[0]&&L(t,e[23])},d(e){e&&E(t)}}}function Ml(e){let t,n,r,i,o,s,a,l,c=e[22]&&gl(e);const u=e[54].options,h=d(u,e,e[58],fl);i=new ki({props:{padding:e[26],x:e[5],y:e[6],z:e[7],r:e[8],xScale:"log"==e[11]?vs():ms(),yScale:"log"==e[12]?vs():ms(),zScale:Yi(),xDomain:e[43],yDomain:e[45],zDomain:e[44],zRange:e[28],rRange:Array.isArray(e[29])?e[29]:[e[29],e[29]],data:e[1],xPadding:[e[27],e[27]],yPadding:e[6]?[e[27],e[27]]:null,custom:{type:"scatter",idKey:e[9],labelKey:e[10],coords:e[47],colorSelect:e[37],colorHover:e[35],colorHighlight:e[39],padding:1,animation:e[3],duration:e[4]},$$slots:{default:[bl,({width:e})=>({65:e}),({width:e})=>[0,0,e?8:0]]},$$scope:{ctx:e}}});let f=e[24]&&e[44]&&wl(e),y=e[23]&&kl(e);return{c(){c&&c.c(),t=C(),h&&h.c(),n=C(),r=_("div"),ye(i.$$.fragment),o=C(),f&&f.c(),s=C(),y&&y.c(),a=A(),z(r,"class","chart-container svelte-1dnlmiu"),j(r,"height","number"==typeof e[2]?e[2]+"px":e[2])},m(e,u){c&&c.m(e,u),k(e,t,u),h&&h.m(e,u),k(e,n,u),k(e,r,u),xe(i,r,null),k(e,o,u),f&&f.m(e,u),k(e,s,u),y&&y.m(e,u),k(e,a,u),l=!0},p(e,n){e[22]?c?(c.p(e,n),4194304&n[0]&&ue(c,1)):(c=gl(e),c.c(),ue(c,1),c.m(t.parentNode,t)):c&&(le(),he(c,1,1,(()=>{c=null})),ce()),h&&h.p&&(!l||134217728&n[1])&&p(h,u,e,e[58],l?g(u,e[58],n,dl):m(e[58]),fl);const o={};67108864&n[0]&&(o.padding=e[26]),32&n[0]&&(o.x=e[5]),64&n[0]&&(o.y=e[6]),128&n[0]&&(o.z=e[7]),256&n[0]&&(o.r=e[8]),2048&n[0]&&(o.xScale="log"==e[11]?vs():ms()),4096&n[0]&&(o.yScale="log"==e[12]?vs():ms()),4096&n[1]&&(o.xDomain=e[43]),16384&n[1]&&(o.yDomain=e[45]),8192&n[1]&&(o.zDomain=e[44]),268435456&n[0]&&(o.zRange=e[28]),536870912&n[0]&&(o.rRange=Array.isArray(e[29])?e[29]:[e[29],e[29]]),2&n[0]&&(o.data=e[1]),134217728&n[0]&&(o.xPadding=[e[27],e[27]]),134217792&n[0]&&(o.yPadding=e[6]?[e[27],e[27]]:null),1560&n[0]|336&n[1]&&(o.custom={type:"scatter",idKey:e[9],labelKey:e[10],coords:e[47],colorSelect:e[37],colorHover:e[35],colorHighlight:e[39],padding:1,animation:e[3],duration:e[4]}),1111482433&n[0]|134221487&n[1]|8&n[2]&&(o.$$scope={dirty:n,ctx:e}),i.$set(o),(!l||4&n[0])&&j(r,"height","number"==typeof e[2]?e[2]+"px":e[2]),e[24]&&e[44]?f?(f.p(e,n),16777216&n[0]|8192&n[1]&&ue(f,1)):(f=wl(e),f.c(),ue(f,1),f.m(s.parentNode,s)):f&&(le(),he(f,1,1,(()=>{f=null})),ce()),e[23]?y?(y.p(e,n),8388608&n[0]&&ue(y,1)):(y=kl(e),y.c(),ue(y,1),y.m(a.parentNode,a)):y&&(le(),he(y,1,1,(()=>{y=null})),ce())},i(e){l||(ue(c),ue(h,e),ue(i.$$.fragment,e),ue(f),ue(y),l=!0)},o(e){he(c),he(h,e),he(i.$$.fragment,e),he(f),he(y),l=!1},d(e){c&&c.d(e),e&&E(t),h&&h.d(e),e&&E(n),e&&E(r),$e(i),e&&E(o),f&&f.d(e),e&&E(s),y&&y.d(e),e&&E(a)}}}let _l=!0;function Tl(e,t,n,r){let i=e.map((e=>e[t]));return[n||(i[0]?Math.min(...i):-1),r||(i[0]?Math.max(...i):1)]}function Nl(e,t,n){let r,i,{$$slots:o={},$$scope:s}=t,{data:a}=t,{height:l=250}=t,{animation:c=!1}=t,{duration:u=800}=t,{xKey:d="x"}=t,{yKey:f=null}=t,{zKey:g=null}=t,{rKey:p=null}=t,{idKey:m=d}=t,{labelKey:y=m}=t,{xScale:x="linear"}=t,{yScale:$="linear"}=t,{xFormatTick:v=(e=>e)}=t,{yFormatTick:b=(e=>e)}=t,{xMax:w=null}=t,{xMin:k=null}=t,{yMax:E=null}=t,{yMin:M=null}=t,{xAxis:_=!0}=t,{yAxis:T=!0}=t,{xTicks:N=4}=t,{yTicks:C=4}=t,{textColor:A="#666"}=t,{tickColor:S="#ccc"}=t,{tickDashed:z=!1}=t,{title:L=null}=t,{footer:R=null}=t,{legend:j=!1}=t,{snapTicks:D=!1}=t,{padding:F={top:0,bottom:20,left:35,right:0}}=t,{buffer:P=5}=t,{color:q=null}=t,{colors:O=(q?[q]:["#3C388E","#DF0667","#00A3A6","#206095","#A8BD3A","#003C57","#27A0CC","#118C7B","#F66068","#746CB1","#22D0B6","lightgrey"])}=t,{r:I=4}=t,{interactive:K=!0}=t,{xPrefix:W=""}=t,{xSuffix:H=""}=t,{yPrefix:U=""}=t,{ySuffix:B=""}=t,{colorHover:J="orange"}=t,{select:V=!1}=t,{selected:Y=null}=t,{colorSelect:Z="black"}=t,{highlighted:X=[]}=t,{colorHighlight:Q="black"}=t,{overlayFill:ee=!1}=t,te=null,ne=!0;const re={duration:u,easing:bs},ie=Es(void 0,re),oe=(e,t,n)=>n.indexOf(e)==t;let se=Tl(a,d,k,w);const ae=Es(se,re);let le=Tl(a,f,M,E);const ce=Es(le,re);return h(e,ce,(e=>n(45,i=e))),e.$$set=e=>{"data"in e&&n(1,a=e.data),"height"in e&&n(2,l=e.height),"animation"in e&&n(3,c=e.animation),"duration"in e&&n(4,u=e.duration),"xKey"in e&&n(5,d=e.xKey),"yKey"in e&&n(6,f=e.yKey),"zKey"in e&&n(7,g=e.zKey),"rKey"in e&&n(8,p=e.rKey),"idKey"in e&&n(9,m=e.idKey),"labelKey"in e&&n(10,y=e.labelKey),"xScale"in e&&n(11,x=e.xScale),"yScale"in e&&n(12,$=e.yScale),"xFormatTick"in e&&n(13,v=e.xFormatTick),"yFormatTick"in e&&n(14,b=e.yFormatTick),"xMax"in e&&n(49,w=e.xMax),"xMin"in e&&n(50,k=e.xMin),"yMax"in e&&n(51,E=e.yMax),"yMin"in e&&n(52,M=e.yMin),"xAxis"in e&&n(15,_=e.xAxis),"yAxis"in e&&n(16,T=e.yAxis),"xTicks"in e&&n(17,N=e.xTicks),"yTicks"in e&&n(18,C=e.yTicks),"textColor"in e&&n(19,A=e.textColor),"tickColor"in e&&n(20,S=e.tickColor),"tickDashed"in e&&n(21,z=e.tickDashed),"title"in e&&n(22,L=e.title),"footer"in e&&n(23,R=e.footer),"legend"in e&&n(24,j=e.legend),"snapTicks"in e&&n(25,D=e.snapTicks),"padding"in e&&n(26,F=e.padding),"buffer"in e&&n(27,P=e.buffer),"color"in e&&n(53,q=e.color),"colors"in e&&n(28,O=e.colors),"r"in e&&n(29,I=e.r),"interactive"in e&&n(30,K=e.interactive),"xPrefix"in e&&n(31,W=e.xPrefix),"xSuffix"in e&&n(32,H=e.xSuffix),"yPrefix"in e&&n(33,U=e.yPrefix),"ySuffix"in e&&n(34,B=e.ySuffix),"colorHover"in e&&n(35,J=e.colorHover),"select"in e&&n(36,V=e.select),"selected"in e&&n(0,Y=e.selected),"colorSelect"in e&&n(37,Z=e.colorSelect),"highlighted"in e&&n(38,X=e.highlighted),"colorHighlight"in e&&n(39,Q=e.colorHighlight),"overlayFill"in e&&n(40,ee=e.overlayFill),"$$scope"in e&&n(58,s=e.$$scope)},e.$$.update=()=>{34&e.$$.dirty[0]|786432&e.$$.dirty[1]&&function(e,t,r,i){let o=Tl(e,t,r,i);o[0]==se[0]&&o[1]==se[1]||(ae.set(o),n(43,se=o))}(a,d,k,w),66&e.$$.dirty[0]|3145728&e.$$.dirty[1]&&function(e,t,n,r){let i=t?Tl(e,t,n,r):le;i[0]==le[0]&&i[1]==le[1]||(ce.set(i,{duration:c?u:0}),le=i)}(a,f,M,E),130&e.$$.dirty[0]&&n(44,r=g?a.map((e=>e[g])).filter(oe):null)},[Y,a,l,c,u,d,f,g,p,m,y,x,$,v,b,_,T,N,C,A,S,z,L,R,j,D,F,P,O,I,K,W,H,U,B,J,V,Z,X,Q,ee,te,ne,se,r,i,function(e){n(41,te=e.detail.id),te&&n(42,ne=e.detail.data.unique)},ie,ce,w,k,E,M,q,o,function(e){Y=e,n(0,Y)},function(e){te=e,n(41,te)},function(t){G.call(this,e,t)},s]}class Cl extends we{constructor(e){super(),be(this,e,Nl,Ml,a,{data:1,height:2,animation:3,duration:4,xKey:5,yKey:6,zKey:7,rKey:8,idKey:9,labelKey:10,xScale:11,yScale:12,xFormatTick:13,yFormatTick:14,xMax:49,xMin:50,yMax:51,yMin:52,xAxis:15,yAxis:16,xTicks:17,yTicks:18,textColor:19,tickColor:20,tickDashed:21,title:22,footer:23,legend:24,snapTicks:25,padding:26,buffer:27,color:53,colors:28,r:29,interactive:30,xPrefix:31,xSuffix:32,yPrefix:33,ySuffix:34,colorHover:35,select:36,selected:0,colorSelect:37,highlighted:38,colorHighlight:39,overlayFill:40},null,[-1,-1,-1])}get data(){return this.$$.ctx[1]}set data(e){this.$$set({data:e}),ie()}get height(){return this.$$.ctx[2]}set height(e){this.$$set({height:e}),ie()}get animation(){return this.$$.ctx[3]}set animation(e){this.$$set({animation:e}),ie()}get duration(){return this.$$.ctx[4]}set duration(e){this.$$set({duration:e}),ie()}get xKey(){return this.$$.ctx[5]}set xKey(e){this.$$set({xKey:e}),ie()}get yKey(){return this.$$.ctx[6]}set yKey(e){this.$$set({yKey:e}),ie()}get zKey(){return this.$$.ctx[7]}set zKey(e){this.$$set({zKey:e}),ie()}get rKey(){return this.$$.ctx[8]}set rKey(e){this.$$set({rKey:e}),ie()}get idKey(){return this.$$.ctx[9]}set idKey(e){this.$$set({idKey:e}),ie()}get labelKey(){return this.$$.ctx[10]}set labelKey(e){this.$$set({labelKey:e}),ie()}get xScale(){return this.$$.ctx[11]}set xScale(e){this.$$set({xScale:e}),ie()}get yScale(){return this.$$.ctx[12]}set yScale(e){this.$$set({yScale:e}),ie()}get xFormatTick(){return this.$$.ctx[13]}set xFormatTick(e){this.$$set({xFormatTick:e}),ie()}get yFormatTick(){return this.$$.ctx[14]}set yFormatTick(e){this.$$set({yFormatTick:e}),ie()}get xMax(){return this.$$.ctx[49]}set xMax(e){this.$$set({xMax:e}),ie()}get xMin(){return this.$$.ctx[50]}set xMin(e){this.$$set({xMin:e}),ie()}get yMax(){return this.$$.ctx[51]}set yMax(e){this.$$set({yMax:e}),ie()}get yMin(){return this.$$.ctx[52]}set yMin(e){this.$$set({yMin:e}),ie()}get xAxis(){return this.$$.ctx[15]}set xAxis(e){this.$$set({xAxis:e}),ie()}get yAxis(){return this.$$.ctx[16]}set yAxis(e){this.$$set({yAxis:e}),ie()}get xTicks(){return this.$$.ctx[17]}set xTicks(e){this.$$set({xTicks:e}),ie()}get yTicks(){return this.$$.ctx[18]}set yTicks(e){this.$$set({yTicks:e}),ie()}get textColor(){return this.$$.ctx[19]}set textColor(e){this.$$set({textColor:e}),ie()}get tickColor(){return this.$$.ctx[20]}set tickColor(e){this.$$set({tickColor:e}),ie()}get tickDashed(){return this.$$.ctx[21]}set tickDashed(e){this.$$set({tickDashed:e}),ie()}get title(){return this.$$.ctx[22]}set title(e){this.$$set({title:e}),ie()}get footer(){return this.$$.ctx[23]}set footer(e){this.$$set({footer:e}),ie()}get legend(){return this.$$.ctx[24]}set legend(e){this.$$set({legend:e}),ie()}get snapTicks(){return this.$$.ctx[25]}set snapTicks(e){this.$$set({snapTicks:e}),ie()}get padding(){return this.$$.ctx[26]}set padding(e){this.$$set({padding:e}),ie()}get buffer(){return this.$$.ctx[27]}set buffer(e){this.$$set({buffer:e}),ie()}get color(){return this.$$.ctx[53]}set color(e){this.$$set({color:e}),ie()}get colors(){return this.$$.ctx[28]}set colors(e){this.$$set({colors:e}),ie()}get r(){return this.$$.ctx[29]}set r(e){this.$$set({r:e}),ie()}get interactive(){return this.$$.ctx[30]}set interactive(e){this.$$set({interactive:e}),ie()}get xPrefix(){return this.$$.ctx[31]}set xPrefix(e){this.$$set({xPrefix:e}),ie()}get xSuffix(){return this.$$.ctx[32]}set xSuffix(e){this.$$set({xSuffix:e}),ie()}get yPrefix(){return this.$$.ctx[33]}set yPrefix(e){this.$$set({yPrefix:e}),ie()}get ySuffix(){return this.$$.ctx[34]}set ySuffix(e){this.$$set({ySuffix:e}),ie()}get colorHover(){return this.$$.ctx[35]}set colorHover(e){this.$$set({colorHover:e}),ie()}get select(){return this.$$.ctx[36]}set select(e){this.$$set({select:e}),ie()}get selected(){return this.$$.ctx[0]}set selected(e){this.$$set({selected:e}),ie()}get colorSelect(){return this.$$.ctx[37]}set colorSelect(e){this.$$set({colorSelect:e}),ie()}get highlighted(){return this.$$.ctx[38]}set highlighted(e){this.$$set({highlighted:e}),ie()}get colorHighlight(){return this.$$.ctx[39]}set colorHighlight(e){this.$$set({colorHighlight:e}),ie()}get overlayFill(){return this.$$.ctx[40]}set overlayFill(e){this.$$set({overlayFill:e}),ie()}}function Al(e,t,n){const r=e.slice();return r[23]=t[n],r[25]=n,r}function Sl(e){let t,n,r=e[15],i=[];for(let t=0;t<r.length;t+=1)i[t]=jl(Al(e,r,t));return{c(){t=T("g");for(let e=0;e<i.length;e+=1)i[e].c();z(t,"class","axis y-axis"),z(t,"transform",n="translate("+-e[16].left+", 0)")},m(e,n){k(e,t,n);for(let e=0;e<i.length;e+=1)i[e].m(t,null)},p(e,o){if(258047&o){let n;for(r=e[15],n=0;n<r.length;n+=1){const s=Al(e,r,n);i[n]?i[n].p(s,o):(i[n]=jl(s),i[n].c(),i[n].m(t,null))}for(;n<i.length;n+=1)i[n].d(1);i.length=r.length}65536&o&&n!==(n="translate("+-e[16].left+", 0)")&&z(t,"transform",n)},d(e){e&&E(t),M(i,e)}}}function zl(e){let t,n,r;return{c(){t=T("line"),z(t,"x2","100%"),z(t,"y1",n=e[5]+(e[13]?e[14].bandwidth()/2:0)),z(t,"y2",r=e[5]+(e[13]?e[14].bandwidth()/2:0)),z(t,"stroke",e[9]),z(t,"class","svelte-1ypvook"),q(t,"baseline",e[11])},m(e,n){k(e,t,n)},p(e,i){24608&i&&n!==(n=e[5]+(e[13]?e[14].bandwidth()/2:0))&&z(t,"y1",n),24608&i&&r!==(r=e[5]+(e[13]?e[14].bandwidth()/2:0))&&z(t,"y2",r),512&i&&z(t,"stroke",e[9]),2048&i&&q(t,"baseline",e[11])},d(e){e&&E(t)}}}function Ll(e){let t,n=e[3](e[23])+"";return{c(){t=N(n)},m(e,n){k(e,t,n)},p(e,r){32776&r&&n!==(n=e[3](e[23])+"")&&L(t,n)},d(e){e&&E(t)}}}function Rl(e){let t,n,r,i=e[3](e[23])+"";return{c(){t=N(e[0]),n=N(i),r=N(e[1])},m(e,i){k(e,t,i),k(e,n,i),k(e,r,i)},p(e,o){1&o&&L(t,e[0]),32776&o&&i!==(i=e[3](e[23])+"")&&L(n,i),2&o&&L(r,e[1])},d(e){e&&E(t),e&&E(n),e&&E(r)}}}function jl(e){let t,n,r,i,o,s,a,l,c=!1!==e[2]&&zl(e);function u(e,t){return e[25]==e[15].length-1?Rl:Ll}let h=u(e),d=h(e);return{c(){t=T("g"),c&&c.c(),n=T("text"),d.c(),z(n,"x",r=e[4]-10),z(n,"y",i=e[5]+(e[13]?e[14].bandwidth()/2:0)-3),z(n,"dx",o=e[13]?3:e[6]),z(n,"dy",s=e[13]?4:e[7]),z(n,"fill",e[10]),j(n,"text-anchor",e[13]?"end":e[8]),z(t,"class",a="tick tick-"+e[23]+" svelte-1ypvook"),z(t,"transform",l="translate("+(e[17][0]+(e[13]?e[16].left:0))+", "+e[14](e[23])+")")},m(e,r){k(e,t,r),c&&c.m(t,null),w(t,n),d.m(n,null)},p(e,f){!1!==e[2]?c?c.p(e,f):(c=zl(e),c.c(),c.m(t,n)):c&&(c.d(1),c=null),h===(h=u(e))&&d?d.p(e,f):(d.d(1),d=h(e),d&&(d.c(),d.m(n,null))),16&f&&r!==(r=e[4]-10)&&z(n,"x",r),24608&f&&i!==(i=e[5]+(e[13]?e[14].bandwidth()/2:0)-3)&&z(n,"y",i),8256&f&&o!==(o=e[13]?3:e[6])&&z(n,"dx",o),8320&f&&s!==(s=e[13]?4:e[7])&&z(n,"dy",s),1024&f&&z(n,"fill",e[10]),8448&f&&j(n,"text-anchor",e[13]?"end":e[8]),32768&f&&a!==(a="tick tick-"+e[23]+" svelte-1ypvook")&&z(t,"class",a),253952&f&&l!==(l="translate("+(e[17][0]+(e[13]?e[16].left:0))+", "+e[14](e[23])+")")&&z(t,"transform",l)},d(e){e&&E(t),c&&c.d(),d.d()}}}function Dl(t){let n,r=0==t[12]&&Sl(t);return{c(){r&&r.c(),n=A()},m(e,t){r&&r.m(e,t),k(e,n,t)},p(e,[t]){0==e[12]?r?r.p(e,t):(r=Sl(e),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},i:e,o:e,d(e){r&&r.d(e),e&&E(n)}}}function Fl(e,t,n){let r,i,o,s,a;const{padding:l,xRange:c,xScale:u,yScale:d}=B("LayerCake");h(e,l,(e=>n(16,s=e))),h(e,c,(e=>n(17,a=e))),h(e,d,(e=>n(14,o=e)));let{ticks:f=4}=t,{prefix:g=""}=t,{suffix:p=""}=t,{gridlines:m=!1}=t,{formatTick:y=(e=>e)}=t,{xTick:x=0}=t,{yTick:$=0}=t,{dxTick:v=0}=t,{dyTick:b=-4}=t,{textAnchor:w="start"}=t,{lineColor:k="#aaa"}=t,{textColor:E="#666"}=t,{solid:M=!1}=t,{nu:_}=t;return e.$$set=e=>{"ticks"in e&&n(21,f=e.ticks),"prefix"in e&&n(0,g=e.prefix),"suffix"in e&&n(1,p=e.suffix),"gridlines"in e&&n(2,m=e.gridlines),"formatTick"in e&&n(3,y=e.formatTick),"xTick"in e&&n(4,x=e.xTick),"yTick"in e&&n(5,$=e.yTick),"dxTick"in e&&n(6,v=e.dxTick),"dyTick"in e&&n(7,b=e.dyTick),"textAnchor"in e&&n(8,w=e.textAnchor),"lineColor"in e&&n(9,k=e.lineColor),"textColor"in e&&n(10,E=e.textColor),"solid"in e&&n(11,M=e.solid),"nu"in e&&n(12,_=e.nu)},e.$$.update=()=>{16384&e.$$.dirty&&n(13,r="function"==typeof o.bandwidth),2121728&e.$$.dirty&&n(15,i=Array.isArray(f)?f:r?o.domain():o.ticks(f))},[g,p,m,y,x,$,v,b,w,k,E,M,_,r,o,i,s,a,l,c,d,f]}class Pl extends we{constructor(e){super(),be(this,e,Fl,Dl,a,{ticks:21,prefix:0,suffix:1,gridlines:2,formatTick:3,xTick:4,yTick:5,dxTick:6,dyTick:7,textAnchor:8,lineColor:9,textColor:10,solid:11,nu:12})}}function ql(e){let t;return{c(){t=T("line"),z(t,"class","baseline svelte-ej8ad5"),z(t,"y1",e[9]),z(t,"y2","0"),z(t,"x1","0"),z(t,"x2","0"),z(t,"stroke",e[5])},m(e,n){k(e,t,n)},p(e,n){512&n&&z(t,"y1",e[9]),32&n&&z(t,"stroke",e[5])},d(e){e&&E(t)}}}function Ol(t){let n,r,i,o,s,a,l,c,u,h,d=!0===t[0]&&ql(t);return{c(){n=T("g"),r=T("g"),i=T("line"),a=T("text"),l=N("15%\n\t"),d&&d.c(),z(i,"y1",o=-1*t[9]),z(i,"y2",s=-1*t[9]+t[9]),z(i,"x1","0"),z(i,"x2","0"),z(i,"stroke",t[5]),z(i,"class","svelte-ej8ad5"),q(i,"baseline",t[6]),z(a,"x",c=t[1]||t[7]?t[8].bandwidth()/2:0),z(a,"y",t[2]),z(a,"dx",u="start"==t[12](15)?t[3]-2:"end"==t[12](15)?t[3]+2:t[3]),z(a,"dy",t[4]),z(a,"text-anchor",t[12](15)),z(a,"fill",t[5]),z(r,"class","tick svelte-ej8ad5"),z(r,"transform",h="translate("+t[8](15)+","+t[9]+")"),z(n,"class","axis x-axis")},m(e,t){k(e,n,t),w(n,r),w(r,i),w(r,a),w(a,l),d&&d.m(n,null)},p(e,[t]){512&t&&o!==(o=-1*e[9])&&z(i,"y1",o),512&t&&s!==(s=-1*e[9]+e[9])&&z(i,"y2",s),32&t&&z(i,"stroke",e[5]),64&t&&q(i,"baseline",e[6]),386&t&&c!==(c=e[1]||e[7]?e[8].bandwidth()/2:0)&&z(a,"x",c),4&t&&z(a,"y",e[2]),8&t&&u!==(u="start"==e[12](15)?e[3]-2:"end"==e[12](15)?e[3]+2:e[3])&&z(a,"dx",u),16&t&&z(a,"dy",e[4]),32&t&&z(a,"fill",e[5]),768&t&&h!==(h="translate("+e[8](15)+","+e[9]+")")&&z(r,"transform",h),!0===e[0]?d?d.p(e,t):(d=ql(e),d.c(),d.m(n,null)):d&&(d.d(1),d=null)},i:e,o:e,d(e){e&&E(n),d&&d.d()}}}function Il(e,t,n){let r,i,o,s;const{data:a,width:l,height:c,xScale:u,yScale:d,yRange:f}=B("LayerCake");h(e,c,(e=>n(9,s=e))),h(e,u,(e=>n(8,o=e)));let{gridlines:g=!0}=t,{formatTick:p=(e=>e)}=t,{baseline:m=!1}=t,{flipped:y=!1}=t,{snapTicks:x=!1}=t,{ticks:$}=t,{prefix:v=""}=t,{suffix:b=""}=t,{xTick:w}=t,{yTick:k=15}=t,{dxTick:E=0}=t,{dyTick:M=0}=t,{lineColor:_="#aaa"}=t,{textColor:T="#666"}=t,{solid:N=!1}=t;return e.$$set=e=>{"gridlines"in e&&n(13,g=e.gridlines),"formatTick"in e&&n(14,p=e.formatTick),"baseline"in e&&n(0,m=e.baseline),"flipped"in e&&n(15,y=e.flipped),"snapTicks"in e&&n(16,x=e.snapTicks),"ticks"in e&&n(17,$=e.ticks),"prefix"in e&&n(18,v=e.prefix),"suffix"in e&&n(19,b=e.suffix),"xTick"in e&&n(1,w=e.xTick),"yTick"in e&&n(2,k=e.yTick),"dxTick"in e&&n(3,E=e.dxTick),"dyTick"in e&&n(4,M=e.dyTick),"lineColor"in e&&n(5,_=e.lineColor),"textColor"in e&&n(20,T=e.textColor),"solid"in e&&n(6,N=e.solid)},e.$$.update=()=>{256&e.$$.dirty&&n(7,r="function"==typeof o.bandwidth),131456&e.$$.dirty&&(i=Array.isArray($)?$:r?o.domain():o.ticks($))},[m,w,k,E,M,_,N,r,o,s,c,u,function(e){if(!0===x){if(0===e)return"start";if(e===i.length-1)return"end"}return"middle"},g,p,y,x,$,v,b,T]}class Kl extends we{constructor(e){super(),be(this,e,Il,Ol,a,{gridlines:13,formatTick:14,baseline:0,flipped:15,snapTicks:16,ticks:17,prefix:18,suffix:19,xTick:1,yTick:2,dxTick:3,dyTick:4,lineColor:5,textColor:20,solid:6})}}function Wl(t){let n,r,i,o,s,a=t[0][t[1]]+"";return{c(){n=T("rect"),r=C(),i=T("foreignObject"),o=_("div"),s=N(a),z(n,"x","0"),z(n,"y","0"),z(n,"width","140"),z(n,"height","20"),z(n,"fill","none"),j(o,"position","absolute"),j(o,"bottom","0"),z(o,"class","svelte-16861pb"),z(i,"x","5"),z(i,"y","-50"),z(i,"width","100"),z(i,"height","40")},m(e,t){k(e,n,t),k(e,r,t),k(e,i,t),w(i,o),w(o,s)},p(e,[t]){3&t&&a!==(a=e[0][e[1]]+"")&&L(s,a)},i:e,o:e,d(e){e&&E(n),e&&E(r),e&&E(i)}}}function Hl(e,t,n){let r,{labels:i}=t,{nu:o}=t;const{data:s,xGet:a,yGet:l,xScale:c,yScale:u}=B("LayerCake");return h(e,s,(e=>n(3,r=e))),console.log("datooa",r),i[o].split(" "),e.$$set=e=>{"labels"in e&&n(0,i=e.labels),"nu"in e&&n(1,o=e.nu)},[i,o,s]}class Ul extends we{constructor(e){super(),be(this,e,Hl,Wl,a,{labels:0,nu:1})}}function Bl(e){let t,n=e[0].detail.data&&Gl(e);return{c(){n&&n.c(),t=A()},m(e,r){n&&n.m(e,r),k(e,t,r)},p(e,r){e[0].detail.data?n?n.p(e,r):(n=Gl(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&E(t)}}}function Gl(e){let t,n,r,i,o,s,a,l=Math.round(10*e[0].detail.data.y)/10+"% aged "+e[0].detail.data.x+" in "+e[0].detail.data.g;return{c(){t=T("g"),n=T("rect"),i=T("text"),o=N(l),z(n,"fill","rgba(255,255,255,0.9)"),z(n,"x",-20),z(n,"y",r=e[1](e[0].detail.data)+(2021==e[0].detail.data.g?10:0)-10),z(n,"transform","translate(5,-25)"),z(n,"width","170"),z(n,"height","25"),z(n,"rx","15"),z(i,"class","label-bold svelte-gjdahk"),z(i,"transform","translate(0,-7)"),z(i,"fill","#333"),z(i,"x",s=10),z(i,"y",a=e[1](e[0].detail.data)+(2021==e[0].detail.data.g?10:0)-10),z(t,"class","label-group")},m(e,r){k(e,t,r),w(t,n),w(t,i),w(i,o)},p(e,t){3&t&&r!==(r=e[1](e[0].detail.data)+(2021==e[0].detail.data.g?10:0)-10)&&z(n,"y",r),1&t&&l!==(l=Math.round(10*e[0].detail.data.y)/10+"% aged "+e[0].detail.data.x+" in "+e[0].detail.data.g)&&L(o,l),3&t&&a!==(a=e[1](e[0].detail.data)+(2021==e[0].detail.data.g?10:0)-10)&&z(i,"y",a)},d(e){e&&E(t)}}}function Jl(t){let n,r=t[0].detail&&Bl(t);return{c(){r&&r.c(),n=A()},m(e,t){r&&r.m(e,t),k(e,n,t)},p(e,[t]){e[0].detail?r?r.p(e,t):(r=Bl(e),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},i:e,o:e,d(e){r&&r.d(e),e&&E(n)}}}function Vl(e,t,n){let r;const{data:i,xScale:o,yScale:s,xDomain:a,y:l,xGet:c,yGet:u,Domain:d,custom:f}=B("LayerCake");h(e,u,(e=>n(1,r=e)));let{hovered:g=null}=t,{ageLabel:p=null}=t;return e.$$set=e=>{"hovered"in e&&n(3,g=e.hovered),"ageLabel"in e&&n(0,p=e.ageLabel)},[p,r,u,g]}class Yl extends we{constructor(e){super(),be(this,e,Vl,Jl,a,{hovered:3,ageLabel:0})}}function Zl(e,t,n){const r=e.slice();return r[16]=t[n],r[18]=n,r}function Xl(e,t,n){const r=e.slice();return r[19]=t[n],r[21]=n,r}function Ql(e){let t,n,r,i,s,a,l,c,u;function h(...t){return e[13](e[19],...t)}return{c(){t=T("rect"),z(t,"class","group-rect"),z(t,"data-id",e[21]),z(t,"x",n=e[2].range()[0]),z(t,"y",r=e[18]%2==0?e[3](e[19]):e[3](e[19])+12),z(t,"rx",5),z(t,"height",i=e[4].bandwidth()/2.3),z(t,"width",s=e[5](e[19])),z(t,"fill",e[18]%2==0?"#DF0667":"#3C388E"),z(t,"stroke",a=e[19]==e[0]?"orange":"white"),z(t,"stroke-width",l=e[19]==e[0]?"3":"2")},m(n,r){k(n,t,r),c||(u=[S(t,"mouseover",h),S(t,"mouseleave",e[14])],c=!0)},p(o,c){e=o,4&c&&n!==(n=e[2].range()[0])&&z(t,"x",n),10&c&&r!==(r=e[18]%2==0?e[3](e[19]):e[3](e[19])+12)&&z(t,"y",r),16&c&&i!==(i=e[4].bandwidth()/2.3)&&z(t,"height",i),34&c&&s!==(s=e[5](e[19]))&&z(t,"width",s),3&c&&a!==(a=e[19]==e[0]?"orange":"white")&&z(t,"stroke",a),3&c&&l!==(l=e[19]==e[0]?"3":"2")&&z(t,"stroke-width",l)},d(e){e&&E(t),c=!1,o(u)}}}function ec(e){let t,n=e[16],r=[];for(let t=0;t<n.length;t+=1)r[t]=Ql(Xl(e,n,t));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=A()},m(e,n){for(let t=0;t<r.length;t+=1)r[t].m(e,n);k(e,t,n)},p(e,i){if(2111&i){let o;for(n=e[16],o=0;o<n.length;o+=1){const s=Xl(e,n,o);r[o]?r[o].p(s,i):(r[o]=Ql(s),r[o].c(),r[o].m(t.parentNode,t))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(e){M(r,e),e&&E(t)}}}function tc(t){let n,r=t[1],i=[];for(let e=0;e<r.length;e+=1)i[e]=ec(Zl(t,r,e));return{c(){n=T("g");for(let e=0;e<i.length;e+=1)i[e].c();z(n,"class","bar-group")},m(e,t){k(e,n,t);for(let e=0;e<i.length;e+=1)i[e].m(n,null)},p(e,[t]){if(2111&t){let o;for(r=e[1],o=0;o<r.length;o+=1){const s=Zl(e,r,o);i[o]?i[o].p(s,t):(i[o]=ec(s),i[o].c(),i[o].m(n,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=r.length}},i:e,o:e,d(e){e&&E(n),M(i,e)}}}function nc(e,t,n){let r,i,o,s,a;const{data:l,xGet:c,yGet:u,xScale:d,yScale:f}=B("LayerCake");h(e,l,(e=>n(1,r=e))),h(e,c,(e=>n(5,a=e))),h(e,u,(e=>n(3,o=e))),h(e,d,(e=>n(2,i=e))),h(e,f,(e=>n(4,s=e)));const g=H();let p,{hovered:m=null}=t;function y(e,t){n(0,p=t),g("hover",{data:t,event:e})}return e.$$set=e=>{"hovered"in e&&n(12,m=e.hovered)},[p,r,i,o,s,a,l,c,u,d,f,y,m,(e,t)=>y(t,e),e=>y(e,null)]}class rc extends we{constructor(e){super(),be(this,e,nc,tc,a,{hovered:12})}}function ic(e){let t,n,r,i,o,s,a,l,c,u;return t=new Ul({props:{labels:e[1],nu:e[2]}}),r=new Pl({props:{nu:e[2]}}),o=new Kl({}),a=new rc({}),a.$on("hover",e[5]),c=new Yl({props:{hovered:e[3],ageLabel:e[4]}}),{c(){ye(t.$$.fragment),n=C(),ye(r.$$.fragment),i=C(),ye(o.$$.fragment),s=C(),ye(a.$$.fragment),l=C(),ye(c.$$.fragment)},m(e,h){xe(t,e,h),k(e,n,h),xe(r,e,h),k(e,i,h),xe(o,e,h),k(e,s,h),xe(a,e,h),k(e,l,h),xe(c,e,h),u=!0},p(e,n){const i={};2&n&&(i.labels=e[1]),4&n&&(i.nu=e[2]),t.$set(i);const o={};4&n&&(o.nu=e[2]),r.$set(o);const s={};8&n&&(s.hovered=e[3]),16&n&&(s.ageLabel=e[4]),c.$set(s)},i(e){u||(ue(t.$$.fragment,e),ue(r.$$.fragment,e),ue(o.$$.fragment,e),ue(a.$$.fragment,e),ue(c.$$.fragment,e),u=!0)},o(e){he(t.$$.fragment,e),he(r.$$.fragment,e),he(o.$$.fragment,e),he(a.$$.fragment,e),he(c.$$.fragment,e),u=!1},d(e){$e(t,e),e&&E(n),$e(r,e),e&&E(i),$e(o,e),e&&E(s),$e(a,e),e&&E(l),$e(c,e)}}}function oc(e){let t,n;return t=new ji({props:{$$slots:{default:[ic]},$$scope:{ctx:e}}}),{c(){ye(t.$$.fragment)},m(e,r){xe(t,e,r),n=!0},p(e,n){const r={};1054&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(ue(t.$$.fragment,e),n=!0)},o(e){he(t.$$.fragment,e),n=!1},d(e){$e(t,e)}}}function sc(e){let t,n;return t=new ki({props:{ssr:!0,padding:{top:40,right:6,bottom:2,left:60},x:"y",y:"x",data:e[0],xScale:ms(),yScale:Zi().paddingInner([.05]).round(!0),xDomain:[0,15],yDomain:["0-9","10-19","20-29","30-39","40-49","50-59","60-69","70-79","80plus"].reverse(),height:300,$$slots:{default:[oc]},$$scope:{ctx:e}}}),{c(){ye(t.$$.fragment)},m(e,r){xe(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.data=e[0]),1054&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(ue(t.$$.fragment,e),n=!0)},o(e){he(t.$$.fragment,e),n=!1},d(e){$e(t,e)}}}function ac(e,t,n){let{data:r}=t,{labels:i}=t,{nu:o}=t,{fullExtents:s}=t,{scale:a}=t,{extentGetters:l}=t,c=null,u=!0;return _n(r,l),e.$$set=e=>{"data"in e&&n(0,r=e.data),"labels"in e&&n(1,i=e.labels),"nu"in e&&n(2,o=e.nu),"fullExtents"in e&&n(6,s=e.fullExtents),"scale"in e&&n(7,a=e.scale),"extentGetters"in e&&n(8,l=e.extentGetters)},[r,i,o,c,u,function(e){n(3,c=e.detail.id),n(4,u=e)},s,a,l]}class lc extends we{constructor(e){super(),be(this,e,ac,sc,a,{data:0,labels:1,nu:2,fullExtents:6,scale:7,extentGetters:8})}}function cc(e,t,n){const r=e.slice();return r[8]=t[n],r[10]=n,r}function uc(e){let t,n,r,i,o,s=e[8]+"";return{c(){t=_("li"),n=_("div"),r=C(),i=N(s),o=C(),z(n,"class","bullet svelte-o1q0c0"),j(n,"background-color",e[1][e[10]]),j(n,"width",(!e[4]&&(e[2]||e[3]&&0!=e[10])?e[5]:e[6])+"px"),j(n,"height",(e[4]&&(e[2]||e[3]&&0!=e[10])?e[5]:e[6])+"px"),q(n,"round",e[7]),z(t,"class","svelte-o1q0c0")},m(e,s){k(e,t,s),w(t,n),w(t,r),w(t,i),w(t,o)},p(e,t){2&t&&j(n,"background-color",e[1][e[10]]),124&t&&j(n,"width",(!e[4]&&(e[2]||e[3]&&0!=e[10])?e[5]:e[6])+"px"),124&t&&j(n,"height",(e[4]&&(e[2]||e[3]&&0!=e[10])?e[5]:e[6])+"px"),128&t&&q(n,"round",e[7]),1&t&&s!==(s=e[8]+"")&&L(i,s)},d(e){e&&E(t)}}}function hc(t){let n,r=t[0],i=[];for(let e=0;e<r.length;e+=1)i[e]=uc(cc(t,r,e));return{c(){n=_("ul");for(let e=0;e<i.length;e+=1)i[e].c();z(n,"class","legend svelte-o1q0c0")},m(e,t){k(e,n,t);for(let e=0;e<i.length;e+=1)i[e].m(n,null)},p(e,[t]){if(255&t){let o;for(r=e[0],o=0;o<r.length;o+=1){const s=cc(e,r,o);i[o]?i[o].p(s,t):(i[o]=uc(s),i[o].c(),i[o].m(n,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=r.length}},i:e,o:e,d(e){e&&E(n),M(i,e)}}}function dc(e,t,n){let{domain:r=null}=t,{colors:i=null}=t,{line:o=!1}=t,{comparison:s=!1}=t,{horizontal:a=!0}=t,{markerWidth:l=2.5}=t,{markerLength:c=13}=t,{round:u=!1}=t;return console.log("DOMAIN",r),e.$$set=e=>{"domain"in e&&n(0,r=e.domain),"colors"in e&&n(1,i=e.colors),"line"in e&&n(2,o=e.line),"comparison"in e&&n(3,s=e.comparison),"horizontal"in e&&n(4,a=e.horizontal),"markerWidth"in e&&n(5,l=e.markerWidth),"markerLength"in e&&n(6,c=e.markerLength),"round"in e&&n(7,u=e.round)},[r,i,o,s,a,l,c,u]}class fc extends we{constructor(e){super(),be(this,e,dc,hc,a,{domain:0,colors:1,line:2,comparison:3,horizontal:4,markerWidth:5,markerLength:6,round:7})}}function gc(e,t,n){const r=e.slice();return r[4]=t[n],r[6]=n,r}function pc(e){let t,n,r,i;return n=new lc({props:{data:e[4],fullExtents:e[3],scale:yc,extentGetters:e[2],nu:e[6],labels:e[1]}}),{c(){t=_("div"),ye(n.$$.fragment),r=C(),z(t,"class","chart-container svelte-5oxew")},m(e,o){k(e,t,o),xe(n,t,null),w(t,r),i=!0},p(e,t){const r={};1&t&&(r.data=e[4]),2&t&&(r.labels=e[1]),n.$set(r)},i(e){i||(ue(n.$$.fragment,e),i=!0)},o(e){he(n.$$.fragment,e),i=!1},d(e){e&&E(t),$e(n)}}}function mc(e){let t,n,r,i,o=e[0],s=[];for(let t=0;t<o.length;t+=1)s[t]=pc(gc(e,o,t));const a=e=>he(s[e],1,1,(()=>{s[e]=null}));return r=new fc({props:{domain:[2011,2021],colors:["#DF0667","#3C388E"]}}),{c(){t=_("div");for(let e=0;e<s.length;e+=1)s[e].c();n=C(),ye(r.$$.fragment),z(t,"class","group-container svelte-5oxew")},m(e,o){k(e,t,o);for(let e=0;e<s.length;e+=1)s[e].m(t,null);k(e,n,o),xe(r,e,o),i=!0},p(e,[n]){if(15&n){let r;for(o=e[0],r=0;r<o.length;r+=1){const i=gc(e,o,r);s[r]?(s[r].p(i,n),ue(s[r],1)):(s[r]=pc(i),s[r].c(),ue(s[r],1),s[r].m(t,null))}for(le(),r=o.length;r<s.length;r+=1)a(r);ce()}},i(e){if(!i){for(let e=0;e<o.length;e+=1)ue(s[e]);ue(r.$$.fragment,e),i=!0}},o(e){s=s.filter(Boolean);for(let e=0;e<s.length;e+=1)he(s[e]);he(r.$$.fragment,e),i=!1},d(e){e&&E(t),M(s,e),e&&E(n),$e(r,e)}}}let yc="individual";function xc(e,t,n){let{chartData:r}=t,{labels:i}=t;console.log("AgeChart data",r);const o={x:e=>e.x,y:e=>e.y},s=_n(function(e){if(Array.isArray(e)&&Array.isArray(e[0])){let t=[];const n=e.length;for(let r=0;r<n;r+=1)t=t.concat(e[r]);return t}return e}(r),o);return r.sort(((e,t)=>t[t.length-1].y-e[e.length-1].y)),e.$$set=e=>{"chartData"in e&&n(0,r=e.chartData),"labels"in e&&n(1,i=e.labels)},[r,i,o,s]}class $c extends we{constructor(e){super(),be(this,e,xc,mc,a,{chartData:0,labels:1})}}function vc(e,t,n){const r=e.slice();return r[14]=t[n],r}function bc(e,t,n){const r=e.slice();return r[17]=t[n],r[19]=n,r}function wc(e){let t,n,r,i;return{c(){t=T("circle"),z(t,"cx",n=e[17]),z(t,"cy",r=e[4](e[14])+e[1]),z(t,"r",e[0]),z(t,"fill",i=e[5](e[6].x[e[19]])),z(t,"class","svelte-1mc14eq")},m(e,n){k(e,t,n)},p(e,o){12&o&&n!==(n=e[17])&&z(t,"cx",n),22&o&&r!==(r=e[4](e[14])+e[1])&&z(t,"cy",r),1&o&&z(t,"r",e[0]),96&o&&i!==(i=e[5](e[6].x[e[19]]))&&z(t,"fill",i)},d(e){e&&E(t)}}}function kc(e){let t,n,r,i,o,s,a,l,c,u,h,d,f,g,p=e[3](e[14]),m=[];for(let t=0;t<p.length;t+=1)m[t]=wc(bc(e,p,t));return{c(){t=T("g"),n=T("defs"),r=T("linearGradient"),i=T("stop"),o=T("stop"),s=T("defs"),a=T("linearGradient"),l=T("stop"),c=T("stop"),u=T("rect");for(let e=0;e<m.length;e+=1)m[e].c();z(i,"offset","5%"),z(i,"stop-color","#3C388E10"),z(o,"offset","95%"),z(o,"stop-color","#3C388E80"),z(r,"id","myGradient"),z(r,"gradientTransform","rotate(0)"),z(l,"offset","5%"),z(l,"stop-color","#3C388E80"),z(c,"offset","95%"),z(c,"stop-color","#3C388E10"),z(a,"id","myGradientRev"),z(a,"gradientTransform","rotate(0)"),z(u,"x",h=Math.min(...e[3](e[14]))),z(u,"y",d=e[4](e[14])+e[1]-7),z(u,"width",f=Math.max(...e[3](e[14]))-Math.min(...e[3](e[14]))),z(u,"height","14"),z(u,"fill",g=e[14][2021]-e[14][2011]>0?"url('#myGradient')":"url('#myGradientRev')"),z(u,"opacity","0.85"),z(t,"class","dot-row")},m(e,h){k(e,t,h),w(t,n),w(n,r),w(r,i),w(r,o),w(t,s),w(s,a),w(a,l),w(a,c),w(t,u);for(let e=0;e<m.length;e+=1)m[e].m(t,null)},p(e,n){if(12&n&&h!==(h=Math.min(...e[3](e[14])))&&z(u,"x",h),22&n&&d!==(d=e[4](e[14])+e[1]-7)&&z(u,"y",d),12&n&&f!==(f=Math.max(...e[3](e[14]))-Math.min(...e[3](e[14])))&&z(u,"width",f),4&n&&g!==(g=e[14][2021]-e[14][2011]>0?"url('#myGradient')":"url('#myGradientRev')")&&z(u,"fill",g),127&n){let r;for(p=e[3](e[14]),r=0;r<p.length;r+=1){const i=bc(e,p,r);m[r]?m[r].p(i,n):(m[r]=wc(i),m[r].c(),m[r].m(t,null))}for(;r<m.length;r+=1)m[r].d(1);m.length=p.length}},d(e){e&&E(t),M(m,e)}}}function Ec(t){let n,r=t[2],i=[];for(let e=0;e<r.length;e+=1)i[e]=kc(vc(t,r,e));return{c(){n=T("g");for(let e=0;e<i.length;e+=1)i[e].c();z(n,"class","dot-plot")},m(e,t){k(e,n,t);for(let e=0;e<i.length;e+=1)i[e].m(n,null)},p(e,[t]){if(127&t){let o;for(r=e[2],o=0;o<r.length;o+=1){const s=vc(e,r,o);i[o]?i[o].p(s,t):(i[o]=kc(s),i[o].c(),i[o].m(n,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=r.length}},i:e,o:e,d(e){e&&E(n),M(i,e)}}}function Mc(e,t,n){let r,i,o,s,a,l,c;const{data:u,xGet:d,yGet:f,yScale:g,zScale:p,config:m}=B("LayerCake");h(e,u,(e=>n(2,o=e))),h(e,d,(e=>n(3,s=e))),h(e,f,(e=>n(4,a=e))),h(e,g,(e=>n(13,i=e))),h(e,p,(e=>n(5,l=e))),h(e,m,(e=>n(6,c=e)));let{r:y=7}=t;return e.$$set=e=>{"r"in e&&n(0,y=e.r)},e.$$.update=()=>{8192&e.$$.dirty&&n(1,r=i.bandwidth()/2)},[y,r,o,s,a,l,c,u,d,f,g,p,m,i]}class _c extends we{constructor(e){super(),be(this,e,Mc,Ec,a,{r:0})}}function Tc(e,t,n){const r=e.slice();return r[11]=t[n],r}function Nc(e,t,n){const r=e.slice();return r[14]=t[n],r[16]=n,r}function Cc(e){let t,n,r,i=0==e[16]?"least deprived":1==e[16]?"most deprived":"average";return{c(){t=_("div"),n=N(i),z(t,"class",r="label "+(2==e[16]?"below":"above")+" svelte-1cj7kw2"),j(t,"top",e[3](e[11])+e[0]+"px"),j(t,"left",e[14]+"px")},m(e,r){k(e,t,r),w(t,n)},p(e,n){11&n&&j(t,"top",e[3](e[11])+e[0]+"px"),6&n&&j(t,"left",e[14]+"px")},d(e){e&&E(t)}}}function Ac(e){let t,n=e[2](e[11]),r=[];for(let t=0;t<n.length;t+=1)r[t]=Cc(Nc(e,n,t));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=A()},m(e,n){for(let t=0;t<r.length;t+=1)r[t].m(e,n);k(e,t,n)},p(e,i){if(15&i){let o;for(n=e[2](e[11]),o=0;o<n.length;o+=1){const s=Nc(e,n,o);r[o]?r[o].p(s,i):(r[o]=Cc(s),r[o].c(),r[o].m(t.parentNode,t))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(e){M(r,e),e&&E(t)}}}function Sc(t){let n,r=t[1],i=[];for(let e=0;e<r.length;e+=1)i[e]=Ac(Tc(t,r,e));return{c(){for(let e=0;e<i.length;e+=1)i[e].c();n=A()},m(e,t){for(let n=0;n<i.length;n+=1)i[n].m(e,t);k(e,n,t)},p(e,[t]){if(15&t){let o;for(r=e[1],o=0;o<r.length;o+=1){const s=Tc(e,r,o);i[o]?i[o].p(s,t):(i[o]=Ac(s),i[o].c(),i[o].m(n.parentNode,n))}for(;o<i.length;o+=1)i[o].d(1);i.length=r.length}},i:e,o:e,d(e){M(i,e),e&&E(n)}}}function zc(e,t,n){let r,i,o,s,a;const{data:l,xGet:c,yGet:u,yScale:d,zScale:f,config:g}=B("LayerCake");return h(e,l,(e=>n(1,o=e))),h(e,c,(e=>n(2,s=e))),h(e,u,(e=>n(3,a=e))),h(e,d,(e=>n(8,i=e))),e.$$.update=()=>{256&e.$$.dirty&&n(0,r=i.bandwidth()/2)},[r,o,s,a,l,c,u,d,i]}class Lc extends we{constructor(e){super(),be(this,e,zc,Sc,a,{})}}function Rc(e,t,n){const r=e.slice();return r[27]=t[n],r[29]=n,r}function jc(e){let t,n;return{c(){t=T("line"),z(t,"y1",n=-1*e[17]),z(t,"y2",e[9]),z(t,"x1","0"),z(t,"x2","0"),z(t,"stroke",e[10]),z(t,"class","svelte-1u7vzrc"),q(t,"baseline",e[12])},m(e,n){k(e,t,n)},p(e,r){131072&r&&n!==(n=-1*e[17])&&z(t,"y1",n),512&r&&z(t,"y2",e[9]),1024&r&&z(t,"stroke",e[10]),4096&r&&q(t,"baseline",e[12])},d(e){e&&E(t)}}}function Dc(e){let t,n=e[1](e[27])+"";return{c(){t=N(n)},m(e,n){k(e,t,n)},p(e,r){32770&r&&n!==(n=e[1](e[27])+"")&&L(t,n)},d(e){e&&E(t)}}}function Fc(e){let t,n,r,i=e[1](e[27])+"";return{c(){t=N(e[4]),n=N(i),r=N(e[5])},m(e,i){k(e,t,i),k(e,n,i),k(e,r,i)},p(e,o){16&o&&L(t,e[4]),32770&o&&i!==(i=e[1](e[27])+"")&&L(n,i),32&o&&L(r,e[5])},d(e){e&&E(t),e&&E(n),e&&E(r)}}}function Pc(e){let t,n,r,i,o,s,a,l,c=!1!==e[0]&&jc(e);function u(e,t){return e[29]==e[15].length-1?Fc:Dc}let h=u(e),d=h(e);return{c(){t=T("g"),c&&c.c(),n=T("text"),d.c(),z(n,"x",r=e[6]||e[13]?e[14].bandwidth()/2:0),z(n,"y",i=e[3]?-1*e[17]-6:e[7]),z(n,"dx",o="start"==e[21](e[29])?e[8]-2:"end"==e[21](e[29])?e[8]+2:e[8]),z(n,"dy",e[9]),z(n,"text-anchor",s=e[21](e[29])),z(n,"fill",e[11]),z(t,"class",a="tick tick-"+e[27]+" svelte-1u7vzrc"),z(t,"transform",l="translate("+e[14](e[27])+","+e[16][0]+")")},m(e,r){k(e,t,r),c&&c.m(t,null),w(t,n),d.m(n,null)},p(e,s){!1!==e[0]?c?c.p(e,s):(c=jc(e),c.c(),c.m(t,n)):c&&(c.d(1),c=null),h===(h=u(e))&&d?d.p(e,s):(d.d(1),d=h(e),d&&(d.c(),d.m(n,null))),24640&s&&r!==(r=e[6]||e[13]?e[14].bandwidth()/2:0)&&z(n,"x",r),131208&s&&i!==(i=e[3]?-1*e[17]-6:e[7])&&z(n,"y",i),256&s&&o!==(o="start"==e[21](e[29])?e[8]-2:"end"==e[21](e[29])?e[8]+2:e[8])&&z(n,"dx",o),512&s&&z(n,"dy",e[9]),2048&s&&z(n,"fill",e[11]),32768&s&&a!==(a="tick tick-"+e[27]+" svelte-1u7vzrc")&&z(t,"class",a),114688&s&&l!==(l="translate("+e[14](e[27])+","+e[16][0]+")")&&z(t,"transform",l)},d(e){e&&E(t),c&&c.d(),d.d()}}}function qc(e){let t;return{c(){t=T("line"),z(t,"class","baseline svelte-1u7vzrc"),z(t,"y1",e[17]),z(t,"y2","0"),z(t,"x1","0"),z(t,"x2","0"),z(t,"stroke",e[10])},m(e,n){k(e,t,n)},p(e,n){131072&n&&z(t,"y1",e[17]),1024&n&&z(t,"stroke",e[10])},d(e){e&&E(t)}}}function Oc(t){let n,r,i=t[15],o=[];for(let e=0;e<i.length;e+=1)o[e]=Pc(Rc(t,i,e));let s=!0===t[2]&&qc(t);return{c(){n=T("g");for(let e=0;e<o.length;e+=1)o[e].c();r=A(),s&&s.c(),z(n,"class","axis x-axis")},m(e,t){k(e,n,t);for(let e=0;e<o.length;e+=1)o[e].m(n,null);w(n,r),s&&s.m(n,null)},p(e,[t]){if(2359291&t){let s;for(i=e[15],s=0;s<i.length;s+=1){const a=Rc(e,i,s);o[s]?o[s].p(a,t):(o[s]=Pc(a),o[s].c(),o[s].m(n,r))}for(;s<o.length;s+=1)o[s].d(1);o.length=i.length}!0===e[2]?s?s.p(e,t):(s=qc(e),s.c(),s.m(n,null)):s&&(s.d(1),s=null)},i:e,o:e,d(e){e&&E(n),M(o,e),s&&s.d()}}}function Ic(e,t,n){let r,i,o,s,a;const{data:l,width:c,height:u,xScale:d,yScale:f,yRange:g}=B("LayerCake");h(e,u,(e=>n(17,a=e))),h(e,d,(e=>n(14,o=e))),h(e,g,(e=>n(16,s=e)));let{gridlines:p=!0}=t,{formatTick:m=(e=>e)}=t,{baseline:y=!1}=t,{flipped:x=!1}=t,{snapTicks:$=!1}=t,{ticks:v}=t,{prefix:b=""}=t,{suffix:w=""}=t,{xTick:k}=t,{yTick:E=15}=t,{dxTick:M=0}=t,{dyTick:_=0}=t,{lineColor:T="#aaa"}=t,{textColor:N="#666"}=t,{solid:C=!1}=t;return e.$$set=e=>{"gridlines"in e&&n(0,p=e.gridlines),"formatTick"in e&&n(1,m=e.formatTick),"baseline"in e&&n(2,y=e.baseline),"flipped"in e&&n(3,x=e.flipped),"snapTicks"in e&&n(22,$=e.snapTicks),"ticks"in e&&n(23,v=e.ticks),"prefix"in e&&n(4,b=e.prefix),"suffix"in e&&n(5,w=e.suffix),"xTick"in e&&n(6,k=e.xTick),"yTick"in e&&n(7,E=e.yTick),"dxTick"in e&&n(8,M=e.dxTick),"dyTick"in e&&n(9,_=e.dyTick),"lineColor"in e&&n(10,T=e.lineColor),"textColor"in e&&n(11,N=e.textColor),"solid"in e&&n(12,C=e.solid)},e.$$.update=()=>{16384&e.$$.dirty&&n(13,r="function"==typeof o.bandwidth),8413184&e.$$.dirty&&n(15,i=Array.isArray(v)?v:r?o.domain():o.ticks(v))},[p,m,y,x,b,w,k,E,M,_,T,N,C,r,o,i,s,a,u,d,g,function(e){if(!0===$){if(0===e)return"start";if(e===i.length-1)return"end"}return"middle"},$,v]}class Kc extends we{constructor(e){super(),be(this,e,Ic,Oc,a,{gridlines:0,formatTick:1,baseline:2,flipped:3,snapTicks:22,ticks:23,prefix:4,suffix:5,xTick:6,yTick:7,dxTick:8,dyTick:9,lineColor:10,textColor:11,solid:12})}}function Wc(e,t,n){const r=e.slice();return r[22]=t[n],r[24]=n,r}function Hc(e){let t,n,r;return{c(){t=T("line"),z(t,"x2","100%"),z(t,"y1",n=e[5]+(e[12]?e[13].bandwidth()/2:0)),z(t,"y2",r=e[5]+(e[12]?e[13].bandwidth()/2:0)),z(t,"stroke",e[9]),z(t,"class","svelte-e79qfe"),q(t,"baseline",e[11])},m(e,n){k(e,t,n)},p(e,i){12320&i&&n!==(n=e[5]+(e[12]?e[13].bandwidth()/2:0))&&z(t,"y1",n),12320&i&&r!==(r=e[5]+(e[12]?e[13].bandwidth()/2:0))&&z(t,"y2",r),512&i&&z(t,"stroke",e[9]),2048&i&&q(t,"baseline",e[11])},d(e){e&&E(t)}}}function Uc(e){let t,n=e[3](e[22])+"";return{c(){t=N(n)},m(e,n){k(e,t,n)},p(e,r){16392&r&&n!==(n=e[3](e[22])+"")&&L(t,n)},d(e){e&&E(t)}}}function Bc(e){let t,n,r,i=e[3](e[22])+"";return{c(){t=N(e[0]),n=N(i),r=N(e[1])},m(e,i){k(e,t,i),k(e,n,i),k(e,r,i)},p(e,o){1&o&&L(t,e[0]),16392&o&&i!==(i=e[3](e[22])+"")&&L(n,i),2&o&&L(r,e[1])},d(e){e&&E(t),e&&E(n),e&&E(r)}}}function Gc(e){let t,n,r,i,o,s,a,l=!1!==e[2]&&Hc(e);function c(e,t){return e[24]==e[14].length-1?Bc:Uc}let u=c(e),h=u(e);return{c(){t=T("g"),l&&l.c(),n=T("text"),h.c(),z(n,"x",e[4]),z(n,"y",r=e[5]+(e[12]?e[13].bandwidth()/2:0)),z(n,"dx",i=e[12]?3:e[6]),z(n,"dy",o=e[12]?4:e[7]),z(n,"fill",e[10]),j(n,"text-anchor",e[12]?"end":e[8]),z(t,"class",s="tick tick-"+e[22]+" svelte-e79qfe"),z(t,"transform",a="translate("+(e[16][0]+(e[12]?e[15].left:0))+", "+e[13](e[22])+")")},m(e,r){k(e,t,r),l&&l.m(t,null),w(t,n),h.m(n,null)},p(e,d){!1!==e[2]?l?l.p(e,d):(l=Hc(e),l.c(),l.m(t,n)):l&&(l.d(1),l=null),u===(u=c(e))&&h?h.p(e,d):(h.d(1),h=u(e),h&&(h.c(),h.m(n,null))),16&d&&z(n,"x",e[4]),12320&d&&r!==(r=e[5]+(e[12]?e[13].bandwidth()/2:0))&&z(n,"y",r),4160&d&&i!==(i=e[12]?3:e[6])&&z(n,"dx",i),4224&d&&o!==(o=e[12]?4:e[7])&&z(n,"dy",o),1024&d&&z(n,"fill",e[10]),4352&d&&j(n,"text-anchor",e[12]?"end":e[8]),16384&d&&s!==(s="tick tick-"+e[22]+" svelte-e79qfe")&&z(t,"class",s),126976&d&&a!==(a="translate("+(e[16][0]+(e[12]?e[15].left:0))+", "+e[13](e[22])+")")&&z(t,"transform",a)},d(e){e&&E(t),l&&l.d(),h.d()}}}function Jc(t){let n,r,i=t[14],o=[];for(let e=0;e<i.length;e+=1)o[e]=Gc(Wc(t,i,e));return{c(){n=T("g");for(let e=0;e<o.length;e+=1)o[e].c();z(n,"class","axis y-axis"),z(n,"transform",r="translate("+-t[15].left+", 0)")},m(e,t){k(e,n,t);for(let e=0;e<o.length;e+=1)o[e].m(n,null)},p(e,[t]){if(131071&t){let r;for(i=e[14],r=0;r<i.length;r+=1){const s=Wc(e,i,r);o[r]?o[r].p(s,t):(o[r]=Gc(s),o[r].c(),o[r].m(n,null))}for(;r<o.length;r+=1)o[r].d(1);o.length=i.length}32768&t&&r!==(r="translate("+-e[15].left+", 0)")&&z(n,"transform",r)},i:e,o:e,d(e){e&&E(n),M(o,e)}}}function Vc(e,t,n){let r,i,o,s,a;const{padding:l,xRange:c,xScale:u,yScale:d}=B("LayerCake");h(e,l,(e=>n(15,s=e))),h(e,c,(e=>n(16,a=e))),h(e,d,(e=>n(13,o=e)));let{ticks:f=4}=t,{prefix:g=""}=t,{suffix:p=""}=t,{gridlines:m=!0}=t,{formatTick:y=(e=>e)}=t,{xTick:x=0}=t,{yTick:$=0}=t,{dxTick:v=0}=t,{dyTick:b=-4}=t,{textAnchor:w="start"}=t,{lineColor:k="#aaa"}=t,{textColor:E="#666"}=t,{solid:M=!1}=t;return e.$$set=e=>{"ticks"in e&&n(20,f=e.ticks),"prefix"in e&&n(0,g=e.prefix),"suffix"in e&&n(1,p=e.suffix),"gridlines"in e&&n(2,m=e.gridlines),"formatTick"in e&&n(3,y=e.formatTick),"xTick"in e&&n(4,x=e.xTick),"yTick"in e&&n(5,$=e.yTick),"dxTick"in e&&n(6,v=e.dxTick),"dyTick"in e&&n(7,b=e.dyTick),"textAnchor"in e&&n(8,w=e.textAnchor),"lineColor"in e&&n(9,k=e.lineColor),"textColor"in e&&n(10,E=e.textColor),"solid"in e&&n(11,M=e.solid)},e.$$.update=()=>{8192&e.$$.dirty&&n(12,r="function"==typeof o.bandwidth),1060864&e.$$.dirty&&n(14,i=Array.isArray(f)?f:r?o.domain():o.ticks(f))},[g,p,m,y,x,$,v,b,w,k,E,M,r,o,i,s,a,l,c,d,f]}class Yc extends we{constructor(e){super(),be(this,e,Vc,Jc,a,{ticks:20,prefix:0,suffix:1,gridlines:2,formatTick:3,xTick:4,yTick:5,dxTick:6,dyTick:7,textAnchor:8,lineColor:9,textColor:10,solid:11})}}function Zc(e,t,n){const r=e.slice();return r[8]=t[n],r[10]=n,r}function Xc(e){let t,n,r,i,o,s=e[8]+"";return{c(){t=_("li"),n=_("div"),r=C(),i=N(s),o=C(),z(n,"class","bullet svelte-o1q0c0"),j(n,"background-color",e[1][e[10]]),j(n,"width",(!e[4]&&(e[2]||e[3]&&0!=e[10])?e[5]:e[6])+"px"),j(n,"height",(e[4]&&(e[2]||e[3]&&0!=e[10])?e[5]:e[6])+"px"),q(n,"round",e[7]),z(t,"class","svelte-o1q0c0")},m(e,s){k(e,t,s),w(t,n),w(t,r),w(t,i),w(t,o)},p(e,t){2&t&&j(n,"background-color",e[1][e[10]]),124&t&&j(n,"width",(!e[4]&&(e[2]||e[3]&&0!=e[10])?e[5]:e[6])+"px"),124&t&&j(n,"height",(e[4]&&(e[2]||e[3]&&0!=e[10])?e[5]:e[6])+"px"),128&t&&q(n,"round",e[7]),1&t&&s!==(s=e[8]+"")&&L(i,s)},d(e){e&&E(t)}}}function Qc(t){let n,r=t[0],i=[];for(let e=0;e<r.length;e+=1)i[e]=Xc(Zc(t,r,e));return{c(){n=_("ul");for(let e=0;e<i.length;e+=1)i[e].c();z(n,"class","legend svelte-o1q0c0")},m(e,t){k(e,n,t);for(let e=0;e<i.length;e+=1)i[e].m(n,null)},p(e,[t]){if(255&t){let o;for(r=e[0],o=0;o<r.length;o+=1){const s=Zc(e,r,o);i[o]?i[o].p(s,t):(i[o]=Xc(s),i[o].c(),i[o].m(n,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=r.length}},i:e,o:e,d(e){e&&E(n),M(i,e)}}}function eu(e,t,n){let{domain:r=null}=t,{colors:i=null}=t,{line:o=!1}=t,{comparison:s=!1}=t,{horizontal:a=!0}=t,{markerWidth:l=2.5}=t,{markerLength:c=13}=t,{round:u=!1}=t;return console.log("DOMAIN",r),e.$$set=e=>{"domain"in e&&n(0,r=e.domain),"colors"in e&&n(1,i=e.colors),"line"in e&&n(2,o=e.line),"comparison"in e&&n(3,s=e.comparison),"horizontal"in e&&n(4,a=e.horizontal),"markerWidth"in e&&n(5,l=e.markerWidth),"markerLength"in e&&n(6,c=e.markerLength),"round"in e&&n(7,u=e.round)},[r,i,o,s,a,l,c,u]}class tu extends we{constructor(e){super(),be(this,e,eu,Qc,a,{domain:0,colors:1,line:2,comparison:3,horizontal:4,markerWidth:5,markerLength:6,round:7})}}function nu(t){let n,r,i,o,s,a;return n=new Kc({}),i=new Yc({props:{gridlines:!1}}),s=new _c({}),{c(){ye(n.$$.fragment),r=C(),ye(i.$$.fragment),o=C(),ye(s.$$.fragment)},m(e,t){xe(n,e,t),k(e,r,t),xe(i,e,t),k(e,o,t),xe(s,e,t),a=!0},p:e,i(e){a||(ue(n.$$.fragment,e),ue(i.$$.fragment,e),ue(s.$$.fragment,e),a=!0)},o(e){he(n.$$.fragment,e),he(i.$$.fragment,e),he(s.$$.fragment,e),a=!1},d(e){$e(n,e),e&&E(r),$e(i,e),e&&E(o),$e(s,e)}}}function ru(e){let t,n;return t=new Ni({props:{$$slots:{default:[iu]},$$scope:{ctx:e}}}),{c(){ye(t.$$.fragment)},m(e,r){xe(t,e,r),n=!0},i(e){n||(ue(t.$$.fragment,e),n=!0)},o(e){he(t.$$.fragment,e),n=!1},d(e){$e(t,e)}}}function iu(e){let t,n;return t=new Lc({}),{c(){ye(t.$$.fragment)},m(e,r){xe(t,e,r),n=!0},i(e){n||(ue(t.$$.fragment,e),n=!0)},o(e){he(t.$$.fragment,e),n=!1},d(e){$e(t,e)}}}function ou(e){let t,n,r,i;t=new ji({props:{$$slots:{default:[nu]},$$scope:{ctx:e}}});let o=e[2]&&ru(e);return{c(){ye(t.$$.fragment),n=C(),o&&o.c(),r=A()},m(e,s){xe(t,e,s),k(e,n,s),o&&o.m(e,s),k(e,r,s),i=!0},p(e,n){const i={};64&n&&(i.$$scope={dirty:n,ctx:e}),t.$set(i),e[2]?o?4&n&&ue(o,1):(o=ru(e),o.c(),ue(o,1),o.m(r.parentNode,r)):o&&(le(),he(o,1,1,(()=>{o=null})),ce())},i(e){i||(ue(t.$$.fragment,e),ue(o),i=!0)},o(e){he(t.$$.fragment,e),he(o),i=!1},d(e){$e(t,e),e&&E(n),o&&o.d(e),e&&E(r)}}}function su(e){let t,n,r,i,o;return n=new ki({props:{padding:{right:0,bottom:20,left:0},x:e[3],y:au,yScale:Zi().paddingInner([.05]).round(!0),yDomain:e[0].map(e[5]),xPadding:[15,0],zScale:Yi(),zDomain:e[3],zRange:e[4],data:e[0],$$slots:{default:[ou]},$$scope:{ctx:e}}}),i=new tu({props:{domain:e[3],colors:e[4]}}),{c(){t=_("div"),ye(n.$$.fragment),r=C(),ye(i.$$.fragment),z(t,"class","chart-container svelte-ivcd9i"),j(t,"height",e[1]+"px")},m(e,s){k(e,t,s),xe(n,t,null),k(e,r,s),xe(i,e,s),o=!0},p(e,[r]){const i={};1&r&&(i.yDomain=e[0].map(e[5])),1&r&&(i.data=e[0]),68&r&&(i.$$scope={dirty:r,ctx:e}),n.$set(i),(!o||2&r)&&j(t,"height",e[1]+"px")},i(e){o||(ue(n.$$.fragment,e),ue(i.$$.fragment,e),o=!0)},o(e){he(n.$$.fragment,e),he(i.$$.fragment,e),o=!1},d(e){e&&E(t),$e(n),e&&E(r),$e(i,e)}}}const au="label";function lu(e,t,n){let{data:r}=t,{height:i=400}=t,{labels:o=!1}=t;const s=Object.keys(r[0]).filter((e=>e!==au));r.forEach((e=>{s.forEach((t=>{e[t]=+e[t]}))}));return e.$$set=e=>{"data"in e&&n(0,r=e.data),"height"in e&&n(1,i=e.height),"labels"in e&&n(2,o=e.labels)},[r,i,o,s,["#DF0667","#3C388E","#2166ac","#b2182b","grey"],e=>e[au]]}class cu extends we{constructor(e){super(),be(this,e,lu,su,a,{data:0,height:1,labels:2})}}const{document:uu}=de;function hu(e,t,n){const r=e.slice();return r[40]=t[n],r[42]=n,r}function du(e){let t,n,r=e[6]&&fu(e);return{c(){r&&r.c(),t=A()},m(e,i){r&&r.m(e,i),k(e,t,i),n=!0},p(e,n){e[6]?r?(r.p(e,n),64&n[0]&&ue(r,1)):(r=fu(e),r.c(),ue(r,1),r.m(t.parentNode,t)):r&&(le(),he(r,1,1,(()=>{r=null})),ce())},i(e){n||(ue(r),n=!0)},o(e){he(r),n=!1},d(e){r&&r.d(e),e&&E(t)}}}function fu(e){let t,n,r=e[8]&&gu(e);return{c(){r&&r.c(),t=A()},m(e,i){r&&r.m(e,i),k(e,t,i),n=!0},p(e,n){e[8]?r?(r.p(e,n),256&n[0]&&ue(r,1)):(r=gu(e),r.c(),ue(r,1),r.m(t.parentNode,t)):r&&(le(),he(r,1,1,(()=>{r=null})),ce())},i(e){n||(ue(r),n=!0)},o(e){he(r),n=!1},d(e){r&&r.d(e),e&&E(t)}}}function gu(e){let t,n,r=e[3]&&pu(e);return{c(){r&&r.c(),t=A()},m(e,i){r&&r.m(e,i),k(e,t,i),n=!0},p(e,n){e[3]?r?(r.p(e,n),8&n[0]&&ue(r,1)):(r=pu(e),r.c(),ue(r,1),r.m(t.parentNode,t)):r&&(le(),he(r,1,1,(()=>{r=null})),ce())},i(e){n||(ue(r),n=!0)},o(e){he(r),n=!1},d(e){r&&r.d(e),e&&E(t)}}}function pu(e){let t,n,r=e[4]&&mu(e);return{c(){r&&r.c(),t=A()},m(e,i){r&&r.m(e,i),k(e,t,i),n=!0},p(e,n){e[4]?r?(r.p(e,n),16&n[0]&&ue(r,1)):(r=mu(e),r.c(),ue(r,1),r.m(t.parentNode,t)):r&&(le(),he(r,1,1,(()=>{r=null})),ce())},i(e){n||(ue(r),n=!0)},o(e){he(r),n=!1},d(e){r&&r.d(e),e&&E(t)}}}function mu(e){let t,n,r,i,s,a,l,c,u,h,d,f,g,p,m,y,x,$,v,b,M,A,R,D,F,P,q,I,K,W,H,U,B,G,J,Y,Z,X,Q,ee,ne,re=bu(e[2].name)+"",ie=e[12](e[2],e[5])+"",oe=(e[2].gss?e[2].gss.long:"local authority district")+"",se=[],ae=new Map,de=e[7]?"Read less":"Read more";function fe(t){e[16](t)}let ve={options:e[0],group:"typenm",search:!0};void 0!==e[1]&&(ve.selected=e[1]),h=new _t({props:ve}),V.push((()=>me(h,"selected",fe))),h.$on("select",e[17]);let be=e[9](e[4],e[2],e[5]);const we=e=>e[42];for(let t=0;t<be.length;t+=1){let n=hu(e,be,t),r=we(n);ae.set(r,se[t]=yu(r,n))}function ke(e,t){return e[7]?$u:xu}let Ee=ke(e),Me=Ee(e);return{c(){t=_("div"),n=_("div"),r=_("h1"),i=N(re),s=N(": "),a=_("span"),a.textContent="What's changed",l=C(),c=_("div"),u=_("div"),ye(h.$$.fragment),f=C(),g=new O,p=C(),m=_("p"),y=N("Here are some of the "),x=_("span"),x.textContent="most notable changes",$=N(" from across the "),v=N(oe),b=N("."),M=C(),A=_("main");for(let e=0;e<se.length;e+=1)se[e].c();R=C(),D=_("button"),F=_("div"),P=T("svg"),Me.c(),q=C(),I=N(de),K=C(),W=_("hr"),H=C(),U=_("h2"),U.textContent="Creating this article",B=C(),G=_("p"),G.textContent="This article was generated using some automation. Topics are selected based on the most notable changes seen in each local authority.",J=C(),Y=_("p"),Y.textContent="Notable changes include a high percentage point shift, a pattern of change that differs from the pattern seen at the regional or national level, and the shifting of a variable for which the area ranks considerably high or low.",Z=C(),X=_("div"),j(a,"font-weight","400"),z(r,"class","svelte-1eybmbe"),j(u,"width","640px"),j(u,"margin","50px auto"),g.a=p,z(x,"class","back-to-top svelte-1eybmbe"),j(n,"width","640px"),j(n,"margin","0 auto"),z(t,"id","sf"),z(t,"class","svelte-1eybmbe"),z(P,"height","25"),z(P,"width","50"),z(F,"class","triangle-container svelte-1eybmbe"),z(D,"class","svelte-1eybmbe"),z(W,"class","svelte-1eybmbe"),z(U,"id","create"),j(X,"height","200px"),z(A,"class","svelte-1eybmbe")},m(o,d){k(o,t,d),w(t,n),w(n,r),w(r,i),w(r,s),w(r,a),w(n,l),w(n,c),w(c,u),xe(h,u,null),w(n,f),g.m(ie,n),w(n,p),w(n,m),w(m,y),w(m,x),w(m,$),w(m,v),w(m,b),k(o,M,d),k(o,A,d);for(let e=0;e<se.length;e+=1)se[e].m(A,null);w(A,R),w(A,D),w(D,F),w(F,P),Me.m(P,null),w(D,q),w(D,I),w(A,K),w(A,W),w(A,H),w(A,U),w(A,B),w(A,G),w(A,J),w(A,Y),w(A,Z),w(A,X),Q=!0,ee||(ne=[S(x,"click",wu),S(D,"click",e[15])],ee=!0)},p(e,t){(!Q||4&t[0])&&re!==(re=bu(e[2].name)+"")&&L(i,re);const n={};1&t[0]&&(n.options=e[0]),!d&&2&t[0]&&(d=!0,n.selected=e[1],te((()=>d=!1))),h.$set(n),(!Q||36&t[0])&&ie!==(ie=e[12](e[2],e[5])+"")&&g.p(ie),(!Q||4&t[0])&&oe!==(oe=(e[2].gss?e[2].gss.long:"local authority district")+"")&&L(v,oe),25140&t[0]&&(be=e[9](e[4],e[2],e[5]),le(),se=pe(se,t,we,1,e,be,ae,A,ge,yu,R,hu),ce()),Ee!==(Ee=ke(e))&&(Me.d(1),Me=Ee(e),Me&&(Me.c(),Me.m(P,null))),(!Q||128&t[0])&&de!==(de=e[7]?"Read less":"Read more")&&L(I,de)},i(e){if(!Q){ue(h.$$.fragment,e);for(let e=0;e<be.length;e+=1)ue(se[e]);Q=!0}},o(e){he(h.$$.fragment,e);for(let e=0;e<se.length;e+=1)he(se[e]);Q=!1},d(e){e&&E(t),$e(h),e&&E(M),e&&E(A);for(let e=0;e<se.length;e+=1)se[e].d();Me.d(),ee=!1,o(ne)}}}function yu(e,t){let r,i,o,s,a,l,c=t[40]+"";const u=[t[13](t[42])];var h=t[14](t[42]);function d(e){let t={};for(let e=0;e<u.length;e+=1)t=n(t,u[e]);return{props:t}}return h&&(a=new h(d())),{key:e,first:null,c(){r=A(),i=new O,o=C(),s=_("div"),a&&ye(a.$$.fragment),i.a=o,j(s,"width","100%"),this.first=r},m(e,t){k(e,r,t),i.m(c,e,t),k(e,o,t),k(e,s,t),a&&xe(a,s,null),l=!0},p(e,n){t=e,(!l||564&n[0])&&c!==(c=t[40]+"")&&i.p(c);const r=8756&n[0]?function(e,t){const n={},r={},i={$$scope:1};let o=e.length;for(;o--;){const s=e[o],a=t[o];if(a){for(const e in s)e in a||(r[e]=1);for(const e in a)i[e]||(n[e]=a[e],i[e]=1);e[o]=a}else for(const e in s)i[e]=1}for(const e in r)e in n||(n[e]=void 0);return n}(u,[(o=t[13](t[42]),"object"==typeof o&&null!==o?o:{})]):{};var o;if(h!==(h=t[14](t[42]))){if(a){le();const e=a;he(e.$$.fragment,1,0,(()=>{$e(e,1)})),ce()}h?(a=new h(d()),ye(a.$$.fragment),ue(a.$$.fragment,1),xe(a,s,null)):a=null}else h&&a.$set(r)},i(e){l||(a&&ue(a.$$.fragment,e),l=!0)},o(e){a&&he(a.$$.fragment,e),l=!1},d(e){e&&E(r),e&&i.d(),e&&E(o),e&&E(s),a&&$e(a)}}}function xu(e){let t;return{c(){t=T("polygon"),z(t,"points","25,20 15,10 25,20 35,10"),z(t,"class","triangle svelte-1eybmbe")},m(e,n){k(e,t,n)},d(e){e&&E(t)}}}function $u(e){let t;return{c(){t=T("polygon"),z(t,"points","25,10 15,20 25,10 35,20"),z(t,"class","triangle svelte-1eybmbe")},m(e,n){k(e,t,n)},d(e){e&&E(t)}}}function vu(e){let t,n,r,i,o,s,a,l,u,h=e[2]&&du(e);return{c(){t=_("script"),r=_("script"),o=C(),s=_("div"),h&&h.c(),c(t.src,n="https://d3js.org/d3.v3.min.js")||z(t,"src","https://d3js.org/d3.v3.min.js"),z(t,"charset","utf-8"),c(r.src,i="https://unpkg.com/rosaenlg@3.0.1/dist/rollup/rosaenlg_tiny_en_US_3.0.1_comp.js")||z(r,"src","https://unpkg.com/rosaenlg@3.0.1/dist/rollup/rosaenlg_tiny_en_US_3.0.1_comp.js")},m(n,i){w(uu.head,t),w(uu.head,r),k(n,o,i),k(n,s,i),h&&h.m(s,null),a=!0,l||(u=S(r,"load",e[10]),l=!0)},p(e,t){e[2]?h?(h.p(e,t),4&t[0]&&ue(h,1)):(h=du(e),h.c(),ue(h,1),h.m(s,null)):h&&(le(),he(h,1,1,(()=>{h=null})),ce())},i(e){a||(ue(h),a=!0)},o(e){he(h),a=!1},d(e){E(t),E(r),e&&E(o),e&&E(s),h&&h.d(),l=!1,u()}}}function bu(e){return e.charAt(0).toUpperCase()+e.slice(1)}function wu(){document.getElementById("create").scrollIntoView()}function ku(e){return Number.parseFloat(Number.parseFloat(.714*e).toPrecision(2))}function Eu(e,t,n){function r(e,t){return!(new vn([e],{includeScore:!0}).search(t).length>0)}var i,o,s,a,l,c,u,h,d,f,g,p,m,y,x,$,v;console.log("fuzzyzyz",r("Greater Manchester","Manchester"));const b=(e,t)=>t.some((t=>e.includes(t)));console.log("findOne",b([1,2,3],[3]));var w,k,E,M=!1;fetch("./archie.aml").then((e=>e.text())).then((e=>n(5,w=Ct.load(e)))),fetch("./puggy.pug").then((e=>e.text())).then((e=>k=e)),fetch("./standf.pug").then((e=>e.text())).then((e=>E=e));let _=!1;Fe("https://raw.githubusercontent.com/theojolliffe/census-data/main/laddata.csv").then((e=>{e.forEach((e=>{e.code=e[""],delete e[""]})),m=e,n(6,$=!0)}));var T={};Fe("https://raw.githubusercontent.com/theojolliffe/census-data/main/csv/lists/Corresponding%20Local%20Authorities-Table%201.csv").then((e=>{e.forEach((e=>{T[e.Name]=e["Region/Country"]})),console.log("regionLU",T)}));var N={};function C(e){fetch("https://raw.githubusercontent.com/theojolliffe/census-data/main/json/place/"+e+".json").then((e=>e.json())).then((t=>{t.children=i.filter((t=>t.parent==e)),t.siblings=i.filter((e=>e.parent==t.parents[0].code)),n(2,s=t),u=s.parents[0].code,fetch("https://raw.githubusercontent.com/theojolliffe/census-data/main/json/place/"+u+".json").then((e=>e.json())).then((t=>{t.children=i.filter((t=>t.parent==e)),t.siblings=i.filter((e=>e.parent==t.parents[0].code)),n(4,h=t),console.log("rgn",h)})),x=s.data.population.value.change.all>8?"expanded":s.data.population.value.change.all>3?"grew":s.data.population.value.change.all>0?"did not change much":"shrunk",s.data.health.perc.change.good>0?y="improved":s.data.health.perc.change.good<0&&(y="deteriorated"),(d=s.stories.map((e=>e.label.split("_")))).forEach((e=>{e.length>4&&(e[3]=e[3]+"_"+e[4],e.pop())})),a=d.map((e=>parseInt(s.data[e[0]][e[1]+"_rank_local"][e[2]][e[3]]))),f=d.map((e=>parseInt(s.data[e[0]][e[1]+"_rank"][e[2]][e[3]]))),l=d.map((e=>parseInt(s.data[e[0]][e[1]+"_rank_local"][2011][e[3]]))),g=d.map((e=>parseInt(s.data[e[0]][e[1]+"_rank"][2011][e[3]])))})),fetch("https://raw.githubusercontent.com/theojolliffe/census-data/main/json/place/E92000001.json").then((e=>e.json())).then((t=>{t.children=i.filter((t=>t.parent==e)),t.siblings=i.filter((e=>e.parent==t.parents[0].code)),n(3,c=t)})),fetch("https://raw.githubusercontent.com/theojolliffe/census-data/main/json/place/W92000004.json").then((e=>e.json())).then((t=>{t.children=i.filter((t=>t.parent==e)),t.siblings=i.filter((e=>e.parent==t.parents[0].code)),p=t}))}Fe("https://raw.githubusercontent.com/theojolliffe/census-data/main/csv/lists/Local_Authority_District_to_County_(April_2021)_Lookup_in_England.csv").then((e=>{e.forEach((e=>{N[e.LAD21NM]=e.CTY21NM})),console.log("countyLU",N)})),Fe("https://raw.githubusercontent.com/theojolliffe/census-data/main/csv/lists/Local_Authority_Districts_(May_2021)_UK_BFE_V3.csv").then((e=>{e.forEach((e=>{e.code=e.LAD21CD,e.name=e.LAD21NM})),e=e.filter((e=>"S"!=e.LAD21CD.substring(0,1)&"N"!=e.LAD21CD.substring(0,1))),n(0,i=e.sort(((e,t)=>e.LAD21NM.localeCompare(t.LAD21NM))));let t=i[Math.round(331*Math.random())].LAD21NM;console.log(t),n(1,o=i.find((e=>e.LAD21NM==t))),console.log(o.LAD21CD),C(o.LAD21CD)}));let A={1:"expanded",2:"grew",3:"grew",4:"remained relatively stable",5:"fell"};function S(e,t){Object.keys(e).forEach((n=>{"object"==typeof e[n]?S(e[n],t):e[n]=De(e[n],{health:y,health:y,expanded:x,plcname:t})}))}function z(e,t,n){var i=JSON.parse(JSON.stringify(n));return S(i,t.name),console.log("topics",i),v="Wales"==t.parents[0].name?p:c,rosaenlg_en_US.render(k,{language:"en_UK",place:t,data:t.data,cou:v,eng:c,rgn:e,uncap1:Ie,regionThe:Oe,parent:Ie(Oe(t.parents[0].name)),parentNT:Ie(Oe(t.parents[0].name,"NT")),s:d,stories:t.stories,priorities:t.Priorities,grewSyn:A,locRankCha:a,natRankCha:f,locRankCur:l,natRankCur:g,hiRank:t.hiRank,topic:function(e,t){let n;return n=t||d[e][3],i[d[e][0]][n]},topics:i,chains:Pe,country:"Wales"==t.parents[0].name?"Wales":"England",get_word:Ue,figs:Be,otherEst:Ze,cur:Je,cha:Ve,qui:Ye,cap:bu,cap:bu,otherRank:Xe,ud:Qe,city:et,drop:Ke,drop:Ke,ord:ot,ageBandLU:st,eq:at,nuword:it,sign:tt,udord:lt,near:t.nearbyArea.nearTops,simi:t.similar,adv:ct,uds:ut,more:M,pluralize:At,pluralize:At,countyLU:N,fuzz:r,prev:Ge,regionLU:T,findOne:b}).split('<div id="esc123"></div>')}var L;L=()=>{setInterval((function(){d3.selectAll("div#visph").attr("style","\n\t\t\tbackground-color: #f6f6f6; \n\t\t\tcolor: #e1e7ea; \n\t\t\theight: 240px;\n\t\t\tpadding: 80px;\n\t\t\tfont-size: 2.8rem;\n\t\t\tfont-weight: 600;\n\t\t\tmargin-bottom: 80px;")}),1e3)},K().$$.on_mount.push(L);return[i,o,s,c,h,w,$,M,_,z,()=>{n(8,_=!0)},C,function(e,t){var n=JSON.parse(JSON.stringify(t));S(n,e.name);let r=[],i=0;return e.stories.forEach((e=>{r.length<4&Math.abs(e.value)>3&&(r.push(e.label.split("_")),i+=Math.abs(e.value))})),rosaenlg_en_US.render(E,{language:"en_UK",place:e,topics:n,s:d,sf:r,changeMag:i,grewSyn:A,qui:Ye,natRankCha:f})},function(e){let t=s.stories[e].label.split("_");if(t.length>4&&(t[3]=t[3]+"_"+t[4],t.pop()),"agemed"==t[0]){function e(e,t){let n=[];return Object.keys(e).forEach((r=>{n.push({x:r,y:e[r],g:t})})),n}let t={legend:!0,height:120,chartData:[[e(s.data.age10yr.perc[2001],2011),e(s.data.age10yr.perc[2011],2021)],[e(h.data.age10yr.perc[2001],2011),e(h.data.age10yr.perc[2011],2021)],[e(v.data.age10yr.perc[2001],2011),e(v.data.age10yr.perc[2011],2021)]],labels:[s.name,h.name,v.name],xKey:"value",yKey:"year"};return console.log("props",t),t}return s.stories[e].type.includes("size")?"population"==t[0]?"Wales"==h.name?{height:120,data:[{label:c.name,2011:ku(c.data.density.value[2001].all),2021:ku(c.data.density.value[2011].all)},{label:h.name,2011:ku(h.data.density.value[2001].all),2021:ku(h.data.density.value[2011].all)},{label:s.name,2011:ku(s.data.density.value[2001].all),2021:ku(s.data.density.value[2011].all)}]}:{height:120,data:[{label:h.name,2011:ku(h.data.density.value[2001].all),2021:ku(h.data.density.value[2011].all)},{label:s.nearbyArea.nearTops.name.name,2011:ku(s.nearbyArea.nearTops.name.data.density.value[2001].all),2021:ku(s.nearbyArea.nearTops.name.data.density.value[2011].all)},{label:s.name,2011:ku(s.data.density.value[2001].all),2021:ku(s.data.density.value[2011].all)}]}:"Wales"==h.name?{legend:!0,height:120,data:[{label:h.name,2011:h.data[t[0]][t[1]][2001][t[3]],2021:h.data[t[0]][t[1]][2011][t[3]]},{label:s.nearbyArea.nearTops.name,2011:s.nearbyArea.nearTops.data[t[0]][t[1]][2001][t[3]],2021:s.nearbyArea.nearTops.data[t[0]][t[1]][2011][t[3]]},{label:s.name,2011:s.data[t[0]][t[1]][2001][t[3]],2021:s.data[t[0]][t[1]][2011][t[3]]}]}:{legend:!0,height:120,data:[{label:c.name,2011:c.data[t[0]][t[1]][2001][t[3]],2021:c.data[t[0]][t[1]][2011][t[3]]},{label:bu(Ie(Oe(s.parents[0].name))),2011:h.data[t[0]][t[1]][2001][t[3]],2021:h.data[t[0]][t[1]][2011][t[3]]},{label:s.name,2011:s.data[t[0]][t[1]][2001][t[3]],2021:s.data[t[0]][t[1]][2011][t[3]]}]}:("population"==t[0]&&(t[0]="density",t[3]="all"),(n=(n=m.filter((e=>e.parent==s.parents[0].name&e.topic==t[0]+"_"+t[3]))).map((e=>({change:e.change,value:"density"==t[0]?.714*parseFloat(e[2011]):parseFloat(e[2011]),unique:e.lad,id:e.parent})))).forEach(((e,t)=>{e.unique==s.name?e.id=s.name:e.id==s.parents[0].name?e.id="Rest of "+Ie(Oe(s.parents[0].name)):e.id="Rest of England"})),n.push({change:+v.data[t[0]][t[1]].change[t[3]],value:+v.data[t[0]][t[1]][2011][t[3]],unique:"Average across "+v.name,id:"Average across "+v.name}),console.log("chartdata",n),{mode:"stacked",line:!1,legend:!0,data:n,xKey:"value",yKey:null,rKey:"change",r:[3,9],zKey:"id"});var n},function(e){let t=s.stories[e].label.split("_");return t.length>4&&(t[3]=t[3]+"_"+t[4],t.pop()),"agemed"==t[0]?$c:s.stories[e].type.includes("size")?cu:Cl},function(){n(7,M=!M),n(9,z)},function(e){n(1,o=e)},()=>{o&&C(o.code)}]}class Mu extends we{constructor(e){super(),be(this,e,Eu,vu,a,{},null,[-1,-1])}}function _u(e,t,n){const r=e.slice();return r[32]=t[n],r[35]=t,r[34]=n,r}function Tu(e,t,n){const r=e.slice();return r[32]=t[n],r[33]=t,r[34]=n,r}function Nu(e){let t,n,r,i,o,s,a,l=(e[0]?e[0]:"Select one")+"";return{c(){t=_("a"),n=_("span"),r=N(l),i=C(),o=_("span"),o.textContent=" ",z(n,"class","svelte-qdzmwx"),z(o,"class","button svelte-qdzmwx"),q(o,"search",e[3]),q(o,"down",!e[3]),z(t,"id","toggle"),z(t,"class","svelte-qdzmwx")},m(l,c){k(l,t,c),w(t,n),w(n,r),w(t,i),w(t,o),s||(a=S(t,"click",e[12]),s=!0)},p(e,t){1&t[0]&&l!==(l=(e[0]?e[0]:"Select one")+"")&&L(r,l),8&t[0]&&q(o,"search",e[3]),8&t[0]&&q(o,"down",!e[3])},d(e){e&&E(t),s=!1,a()}}}function Cu(e){let t,n,r,i,s,a,l,c,u=e[6][e[1]]+"",h=e[2]&&Au(e);return{c(){t=_("a"),n=_("span"),r=N(u),i=C(),h&&h.c(),s=C(),a=_("span"),a.textContent=" ",z(n,"class","selection svelte-qdzmwx"),z(a,"class","button close svelte-qdzmwx"),z(t,"id","toggle"),z(t,"class","selected svelte-qdzmwx")},m(o,u){k(o,t,u),w(t,n),w(n,r),w(n,i),h&&h.m(n,null),w(t,s),w(t,a),l||(c=[S(a,"click",e[14]),S(t,"click",e[12])],l=!0)},p(e,t){66&t[0]&&u!==(u=e[6][e[1]]+"")&&L(r,u),e[2]?h?h.p(e,t):(h=Au(e),h.c(),h.m(n,null)):h&&(h.d(1),h=null)},d(e){e&&E(t),h&&h.d(),l=!1,o(c)}}}function Au(e){let t,n,r=e[6][e[2]]+"";return{c(){t=_("small"),n=N(r),z(t,"class","svelte-qdzmwx")},m(e,r){k(e,t,r),w(t,n)},p(e,t){68&t[0]&&r!==(r=e[6][e[2]]+"")&&L(n,r)},d(e){e&&E(t)}}}function Su(e){let t,n,r,i,s,a;function l(e,t){return e[4].length<0?ju:e[9][0]&&e[2]?Ru:e[9][0]?Lu:zu}let c=l(e),u=c(e);return{c(){t=_("div"),n=_("input"),r=C(),i=_("ul"),u.c(),z(n,"type","text"),z(n,"placeholder",""),z(n,"autocomplete","false"),z(n,"class","svelte-qdzmwx"),z(i,"class","svelte-qdzmwx"),z(t,"id","dropdown"),j(t,"top","0"),z(t,"class","svelte-qdzmwx")},m(o,l){k(o,t,l),w(t,n),R(n,e[4]),e[23](n),w(t,r),w(t,i),u.m(i,null),e[30](t),s||(a=[S(n,"input",e[22]),S(n,"keyup",e[16])],s=!0)},p(e,t){16&t[0]&&n.value!==e[4]&&R(n,e[4]),c===(c=l(e))&&u?u.p(e,t):(u.d(1),u=c(e),u&&(u.c(),u.m(i,null)))},d(n){n&&E(t),e[23](null),u.d(),e[30](null),s=!1,o(a)}}}function zu(t){let n;return{c(){n=_("li"),n.textContent="No results",z(n,"class","svelte-qdzmwx")},m(e,t){k(e,n,t)},p:e,d(e){e&&E(n)}}}function Lu(e){let t,n=e[9],r=[];for(let t=0;t<n.length;t+=1)r[t]=Du(_u(e,n,t));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=A()},m(e,n){for(let t=0;t<r.length;t+=1)r[t].m(e,n);k(e,t,n)},p(e,i){if(11010&i[0]){let o;for(n=e[9],o=0;o<n.length;o+=1){const s=_u(e,n,o);r[o]?r[o].p(s,i):(r[o]=Du(s),r[o].c(),r[o].m(t.parentNode,t))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(e){M(r,e),e&&E(t)}}}function Ru(e){let t,n=e[9],r=[];for(let t=0;t<n.length;t+=1)r[t]=Fu(Tu(e,n,t));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=A()},m(e,n){for(let t=0;t<r.length;t+=1)r[t].m(e,n);k(e,t,n)},p(e,i){if(11014&i[0]){let o;for(n=e[9],o=0;o<n.length;o+=1){const s=Tu(e,n,o);r[o]?r[o].p(s,i):(r[o]=Fu(s),r[o].c(),r[o].m(t.parentNode,t))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(e){M(r,e),e&&E(t)}}}function ju(t){let n;return{c(){n=_("li"),n.textContent="Type a name...",z(n,"class","svelte-qdzmwx")},m(e,t){k(e,n,t)},p:e,d(e){e&&E(n)}}}function Du(e){let t,n,r,i,s,a=e[32][e[1]]+"",l=e[34];function c(){return e[27](e[32])}function u(){return e[28](e[34])}const h=()=>e[29](t,l),d=()=>e[29](null,l);return{c(){t=_("li"),n=N(a),r=C(),z(t,"class","svelte-qdzmwx"),q(t,"highlight",e[8]==e[34])},m(e,o){k(e,t,o),w(t,n),w(t,r),h(),i||(s=[S(t,"click",c),S(t,"mouseover",u)],i=!0)},p(r,i){e=r,514&i[0]&&a!==(a=e[32][e[1]]+"")&&L(n,a),l!==e[34]&&(d(),l=e[34],h()),256&i[0]&&q(t,"highlight",e[8]==e[34])},d(e){e&&E(t),d(),i=!1,o(s)}}}function Fu(e){let t,n,r,i,s,a,l,c,u=e[32][e[1]]+"",h=e[32][e[2]]+"",d=e[34];function f(){return e[24](e[32])}function g(){return e[25](e[34])}const p=()=>e[26](t,d),m=()=>e[26](null,d);return{c(){t=_("li"),n=N(u),r=C(),i=_("small"),s=N(h),a=C(),z(i,"class","svelte-qdzmwx"),z(t,"class","svelte-qdzmwx"),q(t,"highlight",e[8]==e[34])},m(e,o){k(e,t,o),w(t,n),w(t,r),w(t,i),w(i,s),w(t,a),p(),l||(c=[S(t,"click",f),S(t,"mouseover",g)],l=!0)},p(r,i){e=r,514&i[0]&&u!==(u=e[32][e[1]]+"")&&L(n,u),516&i[0]&&h!==(h=e[32][e[2]]+"")&&L(s,h),d!==e[34]&&(m(),d=e[34],p()),256&i[0]&&q(t,"highlight",e[8]==e[34])},d(e){e&&E(t),m(),l=!1,o(c)}}}function Pu(t){let n,r,i,o;function s(e,t){return e[6]&&!e[3]?Cu:Nu}let a=s(t),l=a(t),c=t[7]&&Su(t);return{c(){n=_("div"),l.c(),r=C(),c&&c.c(),z(n,"id","select"),z(n,"class","svelte-qdzmwx"),q(n,"active",t[7])},m(e,s){k(e,n,s),l.m(n,null),w(n,r),c&&c.m(n,null),i||(o=S(n,"keydown",t[15]),i=!0)},p(e,t){a===(a=s(e))&&l?l.p(e,t):(l.d(1),l=a(e),l&&(l.c(),l.m(n,r))),e[7]?c?c.p(e,t):(c=Su(e),c.c(),c.m(n,null)):c&&(c.d(1),c=null),128&t[0]&&q(n,"active",e[7])},i:e,o:e,d(e){e&&E(n),l.d(),c&&c.d(),i=!1,o()}}}function qu(e,t,n){let r;const i=H();let o,s,a,{options:l}=t,{selectedb:c=null}=t,{placeholder:u="Find an area..."}=t,{value:h="code"}=t,{label:d="name"}=t,{group:f=null}=t,{search:g=!1}=t,p=c,m=c?l.find((e=>{e[h],c[h]})):null,y=!1,x="",$=null,v=[];function b(e){n(17,c=e),n(7,y=!1),i("select",{selectedb:e,value:e[h]})}return e.$$set=e=>{"options"in e&&n(18,l=e.options),"selectedb"in e&&n(17,c=e.selectedb),"placeholder"in e&&n(0,u=e.placeholder),"value"in e&&n(19,h=e.value),"label"in e&&n(1,d=e.label),"group"in e&&n(2,f=e.group),"search"in e&&n(3,g=e.search)},e.$$.update=()=>{16&e.$$.dirty[0]&&n(21,r=x?new RegExp(x,"i"):null),2359298&e.$$.dirty[0]&&(n(9,o=r?l.filter((e=>r.test(e[d]))):l),n(8,$=0)),32&e.$$.dirty[0]&&(document.onclick=function(e){e.target!==s&&(n(7,y=!1),n(8,$=0))}),1966080&e.$$.dirty[0]&&p!=c&&(n(6,m=l.find((e=>e[h]==c[h]))),n(20,p=c))},[u,d,f,g,x,s,m,y,$,o,a,v,function(e){var t;e.stopPropagation(),n(4,x=""),n(7,y=!y),(t=10,new Promise((e=>setTimeout(e,t)))).then((()=>{a&&y&&a.focus()}))},b,function(e){e.stopPropagation(),n(17,c=null),n(20,p=null),n(6,m=null),i("select",{selectedb:null,value:null})},function(e){y&&o[0]&&Number.isInteger($)&&(38===e.keyCode?(n(8,$-=$>0?1:0),v[$].scrollIntoView({block:"nearest",inline:"start"})):40===e.keyCode&&(n(8,$+=$<o.length-1?1:0),v[$].scrollIntoView({block:"nearest",inline:"end"})))},function(e){o[0]&&Number.isInteger($)&&13===e.keyCode&&b(o[$])},c,l,h,p,r,function(){x=this.value,n(4,x)},function(e){V[e?"unshift":"push"]((()=>{a=e,n(10,a)}))},e=>b(e),e=>n(8,$=e),function(e,t){V[e?"unshift":"push"]((()=>{v[t]=e,n(11,v)}))},e=>b(e),e=>n(8,$=e),function(e,t){V[e?"unshift":"push"]((()=>{v[t]=e,n(11,v)}))},function(e){V[e?"unshift":"push"]((()=>{s=e,n(5,s)}))}]}class Ou extends we{constructor(e){super(),be(this,e,qu,Pu,a,{options:18,selectedb:17,placeholder:0,value:19,label:1,group:2,search:3},null,[-1,-1])}}function Iu(e,t,n){const r=e.slice();return r[45]=t[n],r[47]=n,r}function Ku(e){let t;return{c(){t=_("div"),t.textContent="Please wait a moment after selecting a topic while we search for relevant stories...",j(t,"padding","180px"),j(t,"padding","20px 20px 20px 20px"),j(t,"font-size","x-large")},m(e,n){k(e,t,n)},d(e){e&&E(t)}}}function Wu(t){let n;return{c(){n=_("div"),n.textContent="Loading...",j(n,"padding","50px"),j(n,"padding-left","40%"),j(n,"font-size","x-large")},m(e,t){k(e,n,t)},p:e,i:e,o:e,d(e){e&&E(n)}}}function Hu(e){let t,n,r,i;const o=[Bu,Uu],s=[];function a(e,t){return e[3]?0:1}return t=a(e),n=s[t]=o[t](e),{c(){n.c(),r=A()},m(e,n){s[t].m(e,n),k(e,r,n),i=!0},p(e,i){let l=t;t=a(e),t===l?s[t].p(e,i):(le(),he(s[l],1,1,(()=>{s[l]=null})),ce(),n=s[t],n?n.p(e,i):(n=s[t]=o[t](e),n.c()),ue(n,1),n.m(r.parentNode,r))},i(e){i||(ue(n),i=!0)},o(e){he(n),i=!1},d(e){s[t].d(e),e&&E(r)}}}function Uu(t){let n;return{c(){n=_("div"),n.textContent="Loading...",j(n,"padding","50px"),j(n,"padding-left","40%"),j(n,"font-size","x-large")},m(e,t){k(e,n,t)},p:e,i:e,o:e,d(e){e&&E(n)}}}function Bu(e){let t,n,r,i,o;function s(t){e[18](t)}let a={options:e[13],placeholder:"Search a topic",value:"value",label:"label",search:!0};return void 0!==e[0]&&(a.selected=e[0]),r=new _t({props:a}),V.push((()=>me(r,"selected",s))),r.$on("select",e[19]),{c(){t=_("div"),n=_("div"),ye(r.$$.fragment),j(n,"width","640px"),j(n,"margin","50px auto")},m(e,i){k(e,t,i),w(t,n),xe(r,n,null),o=!0},p(e,t){const n={};!i&&1&t[0]&&(i=!0,n.selected=e[0],te((()=>i=!1))),r.$set(n)},i(e){o||(ue(r.$$.fragment,e),o=!0)},o(e){he(r.$$.fragment,e),o=!1},d(e){e&&E(t),$e(r)}}}function Gu(e){let t,n,r=e[9]&&Ju(e);return{c(){r&&r.c(),t=A()},m(e,i){r&&r.m(e,i),k(e,t,i),n=!0},p(e,n){e[9]?r?(r.p(e,n),512&n[0]&&ue(r,1)):(r=Ju(e),r.c(),ue(r,1),r.m(t.parentNode,t)):r&&(le(),he(r,1,1,(()=>{r=null})),ce())},i(e){n||(ue(r),n=!0)},o(e){he(r),n=!1},d(e){r&&r.d(e),e&&E(t)}}}function Ju(e){let t,n,r=e[11]&&Vu(e);return{c(){r&&r.c(),t=A()},m(e,i){r&&r.m(e,i),k(e,t,i),n=!0},p(e,n){e[11]?r?(r.p(e,n),2048&n[0]&&ue(r,1)):(r=Vu(e),r.c(),ue(r,1),r.m(t.parentNode,t)):r&&(le(),he(r,1,1,(()=>{r=null})),ce())},i(e){n||(ue(r),n=!0)},o(e){he(r),n=!1},d(e){r&&r.d(e),e&&E(t)}}}function Vu(e){let t,n,r=e[5]&&Yu(e);return{c(){r&&r.c(),t=A()},m(e,i){r&&r.m(e,i),k(e,t,i),n=!0},p(e,n){e[5]?r?(r.p(e,n),32&n[0]&&ue(r,1)):(r=Yu(e),r.c(),ue(r,1),r.m(t.parentNode,t)):r&&(le(),he(r,1,1,(()=>{r=null})),ce())},i(e){n||(ue(r),n=!0)},o(e){he(r),n=!1},d(e){r&&r.d(e),e&&E(t)}}}function Yu(e){let t,n,r=e[4]&&Zu(e);return{c(){r&&r.c(),t=A()},m(e,i){r&&r.m(e,i),k(e,t,i),n=!0},p(e,n){e[4]?r?(r.p(e,n),16&n[0]&&ue(r,1)):(r=Zu(e),r.c(),ue(r,1),r.m(t.parentNode,t)):r&&(le(),he(r,1,1,(()=>{r=null})),ce())},i(e){n||(ue(r),n=!0)},o(e){he(r),n=!1},d(e){r&&r.d(e),e&&E(t)}}}function Zu(e){let t,n,r,i,o,s,a,l,c,u,h,d,f,g,p,m=e[0].label+"",y=[],x=new Map,$=e[2]&&Xu(e),v=e[12];const b=e=>e[47];for(let t=0;t<v.length;t+=1){let n=Iu(e,v,t),r=b(n);x.set(r,y[t]=eh(r,n))}return{c(){t=_("div"),n=_("h1"),r=N(m),i=C(),$&&$.c(),o=C(),s=_("main");for(let e=0;e<y.length;e+=1)y[e].c();a=C(),l=_("hr"),c=C(),u=_("h2"),u.textContent="Creating this article",h=C(),d=_("p"),d.textContent="This article was generated using some automation. Topics are automatically chosen based on how relevant they are for each area.",f=C(),g=_("div"),z(n,"class","svelte-15qyx5z"),j(t,"width","640px"),j(t,"margin","0 auto"),j(l,"width","40%"),j(l,"margin","60px auto 30px auto"),z(u,"id","create"),j(g,"height","200px"),z(s,"class","svelte-15qyx5z")},m(e,m){k(e,t,m),w(t,n),w(n,r),k(e,i,m),$&&$.m(e,m),k(e,o,m),k(e,s,m);for(let e=0;e<y.length;e+=1)y[e].m(s,null);w(s,a),w(s,l),w(s,c),w(s,u),w(s,h),w(s,d),w(s,f),w(s,g),p=!0},p(e,t){(!p||1&t[0])&&m!==(m=e[0].label+"")&&L(r,m),e[2]?$?($.p(e,t),4&t[0]&&ue($,1)):($=Xu(e),$.c(),ue($,1),$.m(o.parentNode,o)):$&&(le(),he($,1,1,(()=>{$=null})),ce()),135232&t[0]&&(v=e[12],y=pe(y,t,b,1,e,v,x,s,fe,eh,a,Iu))},i(e){p||(ue($),p=!0)},o(e){he($),p=!1},d(e){e&&E(t),e&&E(i),$&&$.d(e),e&&E(o),e&&E(s);for(let e=0;e<y.length;e+=1)y[e].d()}}}function Xu(e){let t,n,r,i,o,s,a;function l(t){e[20](t)}let c={options:e[2],placeholder:"Search a subtopic",value:"value",label:"label",search:!0};void 0!==e[1]&&(c.selectedb=e[1]),r=new Ou({props:c}),V.push((()=>me(r,"selectedb",l))),r.$on("select",e[21]);let u=e[10]&&Qu(e);return{c(){t=_("div"),n=_("div"),ye(r.$$.fragment),o=C(),u&&u.c(),s=A(),j(n,"width","640px"),j(n,"margin","50px auto")},m(e,i){k(e,t,i),w(t,n),xe(r,n,null),k(e,o,i),u&&u.m(e,i),k(e,s,i),a=!0},p(e,t){const n={};4&t[0]&&(n.options=e[2]),!i&&2&t[0]&&(i=!0,n.selectedb=e[1],te((()=>i=!1))),r.$set(n),e[10]?u?u.p(e,t):(u=Qu(e),u.c(),u.m(s.parentNode,s)):u&&(u.d(1),u=null)},i(e){a||(ue(r.$$.fragment,e),a=!0)},o(e){he(r.$$.fragment,e),a=!1},d(e){e&&E(t),$e(r),e&&E(o),u&&u.d(e),e&&E(s)}}}function Qu(e){let t,n,r,i=e[1].label+"";return{c(){t=_("div"),n=_("h1"),r=N(i),z(n,"class","svelte-15qyx5z"),j(t,"width","640px"),j(t,"margin","0 auto")},m(e,i){k(e,t,i),w(t,n),w(n,r)},p(e,t){2&t[0]&&i!==(i=e[1].label+"")&&L(r,i)},d(e){e&&E(t)}}}function eh(e,t){let n,r,i,o,s,a=t[45].place.name+"",l=t[17](t[45].place,t[45].region,t[6],t[45].s,t[45].story)+"";return{key:e,first:null,c(){n=_("h2"),r=N(a),i=C(),o=new O,s=A(),j(n,"text-decoration","underline"),o.a=s,this.first=n},m(e,t){k(e,n,t),w(n,r),k(e,i,t),o.m(l,e,t),k(e,s,t)},p(e,n){t=e,4096&n[0]&&a!==(a=t[45].place.name+"")&&L(r,a),4160&n[0]&&l!==(l=t[17](t[45].place,t[45].region,t[6],t[45].s,t[45].story)+"")&&o.p(l)},d(e){e&&E(n),e&&E(i),e&&E(s),e&&o.d()}}}function th(e){let t,n,r,i,o,s,a,l,u,h,d,f,g,p=e[8]&&Ku();const m=[Hu,Wu],y=[];function x(e,t){return e[5]?0:1}a=x(e),l=y[a]=m[a](e);let $=e[7]&&Gu(e);return{c(){t=_("script"),r=_("script"),o=C(),p&&p.c(),s=C(),l.c(),u=C(),h=_("div"),$&&$.c(),c(t.src,n="https://d3js.org/d3.v3.min.js")||z(t,"src","https://d3js.org/d3.v3.min.js"),z(t,"charset","utf-8"),c(r.src,i="https://unpkg.com/rosaenlg@3.0.1/dist/rollup/rosaenlg_tiny_en_US_3.0.1_comp.js")||z(r,"src","https://unpkg.com/rosaenlg@3.0.1/dist/rollup/rosaenlg_tiny_en_US_3.0.1_comp.js")},m(n,i){w(document.head,t),w(document.head,r),k(n,o,i),p&&p.m(n,i),k(n,s,i),y[a].m(n,i),k(n,u,i),k(n,h,i),$&&$.m(h,null),d=!0,f||(g=S(r,"load",e[14]),f=!0)},p(e,t){e[8]?p||(p=Ku(),p.c(),p.m(s.parentNode,s)):p&&(p.d(1),p=null);let n=a;a=x(e),a===n?y[a].p(e,t):(le(),he(y[n],1,1,(()=>{y[n]=null})),ce(),l=y[a],l?l.p(e,t):(l=y[a]=m[a](e),l.c()),ue(l,1),l.m(u.parentNode,u)),e[7]?$?($.p(e,t),128&t[0]&&ue($,1)):($=Gu(e),$.c(),ue($,1),$.m(h,null)):$&&(le(),he($,1,1,(()=>{$=null})),ce())},i(e){d||(ue(l),ue($),d=!0)},o(e){he(l),he($),d=!1},d(e){E(t),E(r),e&&E(o),p&&p.d(e),e&&E(s),y[a].d(e),e&&E(u),e&&E(h),$&&$.d(),f=!1,g()}}}function nh(e,t,n){let r,i;var o,s,a,l,c,u,h,d=!1;function f(e,t){return!(new vn([e],{includeScore:!0}).search(t).length>0)}const g=(e,t)=>t.some((t=>e.includes(t)));let p=[{label:"Average age",value:"agemed_value_change"},{label:"Employment status",value:"economic_perc_change"},{label:"Ethnicity",value:"ethnicity_perc_change"},{label:"Health",value:"health_perc_change"},{label:"Hours worked",value:"hoursworked_perc_change"},{label:"Households with children",value:"children_perc_change"},{label:"Households by family",value:"household_perc_change"},{label:"Marital status",value:"marital_perc_change"},{label:"Population",value:"population_value_change"},{label:"Religion",value:"religion_perc_change"},{label:"Tenure",value:"tenure_perc_change"},{label:"Welsh",value:"welsh_perc_change"}];s=p.find((e=>"agemed_value_change"==e.value));var m={};Fe("https://raw.githubusercontent.com/theojolliffe/census-data/main/csv/lists/Corresponding%20Local%20Authorities-Table%201.csv").then((e=>{e.forEach((e=>{m[e.Name]=e["Region/Country"]})),console.log("regionLU",m)}));var y={};Fe("https://raw.githubusercontent.com/theojolliffe/census-data/main/csv/lists/Local_Authority_District_to_County_(April_2021)_Lookup_in_England.csv").then((e=>{e.forEach((e=>{y[e.LAD21NM]=e.CTY21NM})),console.log("countyLU",y)})),console.log("topicOptions",p);var x={agemed_value_change:!1,economic_perc_change:[{label:"All",value:"all"},{label:"Employed",value:"employee"},{label:"Self-employed",value:"self-employed"},{label:"Student",value:"student"},{label:"Unemployed",value:"unemployed"}],ethnicity_perc_change:[{label:"All",value:"all"},{label:"Asian",value:"asian"},{label:"Black",value:"black"},{label:"White",value:"white"}],health_perc_change:[{label:"All",value:"all"},{label:"Good",value:"good"},{label:"Bad",value:"bad"}],hoursworked_perc_change:[{label:"All",value:"all"},{label:"1-15 hours per week",value:"Male1-15"},{label:"Over 49 hours per week",value:"Male49plus"}],children_perc_change:[{label:"All",value:"all"},{label:"Households with children",value:"Kids"},{label:"Households without children",value:"NoKids"},{label:"Households with only non-dependent children",value:"NonDepKids"}],household_perc_change:[{label:"All",value:"all"},{label:"Cohabiting",value:"Cohabiting"},{label:"Married couple",value:"Married"},{label:"Single parent",value:"LoneParent"},{label:"Single person",value:"OnePerson"}],marital_perc_change:[{label:"All",value:"all"},{label:"Married",value:"Married"},{label:"Seperated",value:"Seperated"},{label:"Single",value:"Single"}],population_value_change:!1,religion_perc_change:[{label:"All",value:"all"},{label:"Christian",value:"Christian"},{label:"Hindu",value:"Hindu"},{label:"Jewish",value:"Jewish"},{label:"Muslim",value:"Muslim"},{label:"No religion",value:"Noreligion"}],tenure_perc_change:[{label:"All",value:"all"},{label:"Homeownership",value:"owned"},{label:"Private renting",value:"rented_private"},{label:"Social renting",value:"rented_social"}],welsh_perc_change:!1},$=["E12000001","E12000002","E12000003","E12000004","E12000005","E12000006","E12000007","E12000008","E12000009","W92000004"],v=[];fetch("https://raw.githubusercontent.com/theojolliffe/census-data/main/json/place/W92000004.json").then((e=>e.json())).then((e=>{o=e})),fetch("https://raw.githubusercontent.com/theojolliffe/census-data/main/json/place/E92000001.json").then((e=>e.json())).then((e=>{n(4,l=e),n(9,k=!0)})).then((e=>{$.forEach((e=>{fetch("https://raw.githubusercontent.com/theojolliffe/census-data/main/json/place/"+e+".json").then((e=>e.json())).then((e=>{v.push(e)}))}))})).then((e=>{n(5,c=!0),n(8,d=!0)})),console.log("regions",v);var b,w,k=!1,E=!1,M=[];["E06000047","E06000005","E06000001","E06000002","E06000057","E06000003","E06000004","E08000037","E08000021","E08000022","E08000023","E08000024","E06000008","E06000009","E06000049","E06000050","E06000006","E06000007","E07000026","E07000027","E07000028","E07000029","E07000030","E07000031","E08000001","E08000002","E08000003","E08000004","E08000005","E08000006","E08000007","E08000008","E08000009","E08000010","E07000117","E07000118","E07000119","E07000120","E07000121","E07000122","E07000123","E07000124","E07000125","E07000126","E07000127","E07000128","E08000011","E08000012","E08000014","E08000013","E08000015","E06000011","E06000010","E06000012","E06000013","E06000014","E07000163","E07000164","E07000165","E07000166","E07000167","E07000168","E07000169","E08000016","E08000017","E08000018","E08000019","E08000032","E08000033","E08000034","E08000035","E08000036","E06000015","E06000016","E06000018","E06000017","E07000032","E07000033","E07000034","E07000035","E07000036","E07000037","E07000038","E07000039","E07000129","E07000130","E07000131","E07000132","E07000133","E07000134","E07000135","E07000136","E07000137","E07000138","E07000139","E07000140","E07000141","E07000142","E07000170","E07000171","E07000172","E07000173","E07000174","E07000175","E07000176","E06000019","E06000051","E06000021","E06000020","E07000192","E07000193","E07000194","E07000195","E07000196","E07000197","E07000198","E07000199","E07000218","E07000219","E07000220","E07000221","E07000222","E08000025","E08000026","E08000027","E08000028","E08000029","E08000030","E08000031","E07000234","E07000235","E07000236","E07000237","E07000238","E07000239","E06000055","E06000056","E06000032","E06000031","E06000033","E06000034","E07000008","E07000009","E07000010","E07000011","E07000012","E07000066","E07000067","E07000068","E07000069","E07000070","E07000071","E07000072","E07000073","E07000074","E07000075","E07000076","E07000077","E07000095","E07000096","E07000242","E07000098","E07000099","E07000240","E07000243","E07000102","E07000103","E07000241","E07000143","E07000144","E07000145","E07000146","E07000147","E07000148","E07000149","E07000200","E07000202","E07000203","E09000007","E09000012","E09000013","E09000014","E09000019","E09000020","E09000022","E09000023","E09000025","E09000028","E09000030","E09000032","E09000001","E09000033","E09000002","E09000003","E09000004","E09000005","E09000006","E09000008","E09000009","E09000010","E09000011","E09000015","E09000016","E09000017","E09000018","E09000021","E09000024","E09000026","E09000027","E09000029","E09000031","E06000036","E06000043","E06000046","E06000035","E06000042","E06000044","E06000038","E06000039","E06000045","E06000037","E06000040","E06000041","E07000061","E07000062","E07000063","E07000064","E07000065","E07000084","E07000085","E07000086","E07000087","E07000088","E07000089","E07000090","E07000091","E07000092","E07000093","E07000094","E07000105","E07000106","E07000107","E07000108","E07000109","E07000110","E07000111","E07000112","E07000113","E07000114","E07000115","E07000116","E07000177","E07000178","E07000179","E07000180","E07000181","E07000207","E07000208","E07000209","E07000210","E07000211","E07000212","E07000213","E07000214","E07000215","E07000216","E07000217","E07000223","E07000224","E07000225","E07000226","E07000227","E07000228","E07000229","E06000022","E06000023","E06000052","E06000024","E06000026","E06000025","E06000030","E06000027","E06000054","E07000040","E07000041","E07000042","E07000043","E07000044","E07000045","E07000046","E07000047","E07000078","E07000079","E07000080","E07000081","E07000082","E07000083","E07000187","E07000188","E07000189","W06000001","W06000002","W06000003","W06000004","W06000005","W06000006","W06000023","W06000008","W06000009","W06000010","W06000011","W06000012","W06000013","W06000014","W06000015","W06000016","W06000024","W06000018","W06000019","W06000020","W06000021","W06000022"].forEach((e=>{fetch("https://raw.githubusercontent.com/theojolliffe/census-data/main/json/place/"+e+".json").then((e=>e.json())).then((e=>{M.push(e)}))})),setTimeout((function(){n(3,r=!0)}),1e3),fetch("./archie.aml").then((e=>e.text())).then((e=>n(6,b=Ct.load(e)))),fetch("./puggy.pug").then((e=>e.text())).then((e=>w=e));var _=!1;let T={1:"expanded",2:"grew",3:"grew",4:"remained relatively stable",5:"fell"};var N=[],C=[];function A(e){if("all"==e)z(s.value);else{e=s.value+"_"+e,console.log("codesub",e),C=[];for(let t=0;t<M.length;t++){let n,r=M[t].stories.filter((t=>t.label==e));r.length>0&&(n=r[0].label.split("_"),n.length>4&&(n[3]=n[3]+"_"+n[4],n.pop()));let i={place:M[t],story:r,region:v.find((e=>e.code==M[t].parents[0].code)),s:[n]};C=[...C,i]}for(let e=0;e<C.length;e++)0==C[e].story.length&&(C.splice(e,1),e-=1);let t=C.sort((function(e,t){return e.story[0].value-t.story[0].value})).slice(0,3),r=C.sort((function(e,t){return t.story[0].value-e.story[0].value})).slice(0,3),i=C.sort((function(e,t){return Math.abs(e.story[0].value)-Math.abs(t.story[0].value)})).slice(0,3);C=r.concat(i,t),console.log("subplacesOb",C),n(12,N=C),n(12,N=[...new Set(N)])}n(10,E=!0)}function S(e){n(8,d=!1),z(e)}function z(e){console.log("code",e),n(12,N=[]);for(let t=0;t<M.length;t++){let r,i=M[t].stories.filter((t=>t.label.split("_")[0]+"_"+t.label.split("_")[1]+"_"+t.label.split("_")[2]==e));i.length>0&&(r=i[0].label.split("_"),r.length>4&&(r[3]=r[3]+"_"+r[4],r.pop()));let o={place:M[t],story:i,region:v.find((e=>e.code==M[t].parents[0].code)),s:[r]};n(12,N=[...N,o])}for(let e=0;e<N.length;e++)0==N[e].story.length&&(N.splice(e,1),e-=1);let t=N.sort((function(e,t){return e.story[0].value-t.story[0].value})).slice(0,3),r=N.sort((function(e,t){return t.story[0].value-e.story[0].value})).slice(0,3),i=N.sort((function(e,t){return Math.abs(e.story[0].value)-Math.abs(t.story[0].value)})).slice(0,3);n(12,N=r.concat(i,t)),n(12,N=[...new Set(N)]),console.log("places: sort ",N),n(7,u=!0)}function L(e,t){Object.keys(e).forEach((n=>{"object"==typeof e[n]?L(e[n],t):e[n]=De(e[n],{health:h,health:h,plcname:t})}))}setTimeout((function(){setInterval((function(){d3.selectAll("div#visph").attr("style","\n\t\t\tbackground-color: #f6f6f6; \n\t\t\tcolor: #e1e7ea; \n\t\t\theight: 240px;\n\t\t\tpadding: 80px;\n\t\t\tfont-size: 2.8rem;\n\t\t\tfont-weight: 600;\n\t\t\tmargin-bottom: 80px;")}),1e3)}),2e3);return e.$$.update=()=>{8&e.$$.dirty[0]&&console.log("placesload",r),1&e.$$.dirty[0]&&n(2,i=x[s.value]),4&e.$$.dirty[0]&&console.log("subTopicOpt",i),1&e.$$.dirty[0]&&console.log("*****selected",s),2&e.$$.dirty[0]&&console.log("*****selectedb",a)},n(3,r=!1),[s,a,i,r,l,c,b,u,d,k,E,_,N,p,()=>{n(11,_=!0)},A,S,function(e,t,n,r,i){e.data.population.value.change.all>8||e.data.population.value.change.all>3||e.data.population.value.change.all,e.data.health.perc.change.good>0?h="improved":e.data.health.perc.change.good<0&&(h="deteriorated");var s=JSON.parse(JSON.stringify(n));function a(e){return e.charAt(0).toUpperCase()+e.slice(1)}return L(s,e.name),rosaenlg_en_US.render(w,{language:"en_UK",place:e,data:e.data,cou:"Wales"==e.parents[0].name?o:l,eng:l,rgn:t,uncap1:Ie,regionThe:Oe,parent:Ie(Oe(e.parents[0].name)),parentNT:Ie(Oe(e.parents[0].name,"NT")),s:r,stories:i,priorities:e.Priorities,grewSyn:T,locRankCha:undefined,natRankCha:undefined,locRankCur:undefined,natRankCur:undefined,hiRank:e.hiRank,topic:function(e,t){let n;return n=t||r[e][3],s[r[e][0]][n]},topics:s,chains:Pe,country:"England",get_word:Ue,figs:Be,otherEst:Ze,cur:Je,cha:Ve,qui:Ye,cap:a,cap:a,otherRank:Xe,ud:Qe,city:et,drop:Ke,drop:Ke,ord:ot,ageBandLU:st,nuword:it,sign:tt,udord:lt,eq:at,eq:at,near:e.nearbyArea.nearTops,adv:ct,uds:ut,pluralize:At,isTopic:!0,countyLU:y,regionLU:m,fuzz:f,prev:Ge,findOne:g})},function(e){n(0,s=e)},()=>{s&&S(s.value)},function(e){n(1,a=e)},()=>{a&&A(a.value)}]}class rh extends we{constructor(e){super(),be(this,e,nh,th,a,{},null,[-1,-1])}}function ih(t){let n,r;return{c(){n=_("iframe"),z(n,"width","100%"),z(n,"height","5212"),z(n,"frameborder","0"),c(n.src,r="https://observablehq.com/embed/cc9449078bb7b9ae?cells=chart%2Csent")||z(n,"src","https://observablehq.com/embed/cc9449078bb7b9ae?cells=chart%2Csent")},m(e,t){k(e,n,t)},p:e,i:e,o:e,d(e){e&&E(n)}}}function oh(e){return fetch("./archie.aml").then((e=>e.text())).then((e=>Ct.load(e))),[]}class sh extends we{constructor(e){super(),be(this,e,oh,ih,a,{})}}function ah(e){let t,n;const r=e[1].default,i=d(r,e,e[0],null);return{c(){t=_("div"),i&&i.c(),z(t,"class","tabs")},m(e,r){k(e,t,r),i&&i.m(t,null),n=!0},p(e,[t]){i&&i.p&&(!n||1&t)&&p(i,r,e,e[0],n?g(r,e[0],t,null):m(e[0]),null)},i(e){n||(ue(i,e),n=!0)},o(e){he(i,e),n=!1},d(e){e&&E(t),i&&i.d(e)}}}const lh={};function ch(e,t,n){let{$$slots:r={},$$scope:i}=t;const o=[],s=[],a=wn(null),l=wn(null);return U(lh,{registerTab:e=>{o.push(e),a.update((t=>t||e)),W((()=>{const t=o.indexOf(e);o.splice(t,1),a.update((n=>n===e?o[t]||o[o.length-1]:n))}))},registerPanel:e=>{s.push(e),l.update((t=>t||e)),W((()=>{const t=s.indexOf(e);s.splice(t,1),l.update((n=>n===e?s[t]||s[s.length-1]:n))}))},selectTab:e=>{const t=o.indexOf(e);a.set(e),l.set(s[t])},selectedTab:a,selectedPanel:l}),e.$$set=e=>{"$$scope"in e&&n(0,i=e.$$scope)},[i,r]}class uh extends we{constructor(e){super(),be(this,e,ch,ah,a,{})}}function hh(e){let t,n;const r=e[1].default,i=d(r,e,e[0],null);return{c(){t=_("div"),i&&i.c(),z(t,"class","tab-list svelte-1qgay6m")},m(e,r){k(e,t,r),i&&i.m(t,null),n=!0},p(e,[t]){i&&i.p&&(!n||1&t)&&p(i,r,e,e[0],n?g(r,e[0],t,null):m(e[0]),null)},i(e){n||(ue(i,e),n=!0)},o(e){he(i,e),n=!1},d(e){e&&E(t),i&&i.d(e)}}}function dh(e,t,n){let{$$slots:r={},$$scope:i}=t;return e.$$set=e=>{"$$scope"in e&&n(0,i=e.$$scope)},[i,r]}class fh extends we{constructor(e){super(),be(this,e,dh,hh,a,{})}}function gh(e){let t;const n=e[4].default,r=d(n,e,e[3],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,i){r&&r.p&&(!t||8&i)&&p(r,n,e,e[3],t?g(n,e[3],i,null):m(e[3]),null)},i(e){t||(ue(r,e),t=!0)},o(e){he(r,e),t=!1},d(e){r&&r.d(e)}}}function ph(e){let t,n,r=e[0]===e[1]&&gh(e);return{c(){r&&r.c(),t=A()},m(e,i){r&&r.m(e,i),k(e,t,i),n=!0},p(e,[n]){e[0]===e[1]?r?(r.p(e,n),1&n&&ue(r,1)):(r=gh(e),r.c(),ue(r,1),r.m(t.parentNode,t)):r&&(le(),he(r,1,1,(()=>{r=null})),ce())},i(e){n||(ue(r),n=!0)},o(e){he(r),n=!1},d(e){r&&r.d(e),e&&E(t)}}}function mh(e,t,n){let r,{$$slots:i={},$$scope:o}=t;const s={},{registerPanel:a,selectedPanel:l}=B(lh);return h(e,l,(e=>n(0,r=e))),a(s),e.$$set=e=>{"$$scope"in e&&n(3,o=e.$$scope)},[r,s,l,o,i]}class yh extends we{constructor(e){super(),be(this,e,mh,ph,a,{})}}function xh(e){let t,n,r,i;const o=e[5].default,s=d(o,e,e[4],null);return{c(){t=_("button"),s&&s.c(),z(t,"class","svelte-b9uj0r"),q(t,"selected",e[0]===e[1])},m(o,a){k(o,t,a),s&&s.m(t,null),n=!0,r||(i=S(t,"click",e[6]),r=!0)},p(e,[r]){s&&s.p&&(!n||16&r)&&p(s,o,e,e[4],n?g(o,e[4],r,null):m(e[4]),null),3&r&&q(t,"selected",e[0]===e[1])},i(e){n||(ue(s,e),n=!0)},o(e){he(s,e),n=!1},d(e){e&&E(t),s&&s.d(e),r=!1,i()}}}function $h(e,t,n){let r,{$$slots:i={},$$scope:o}=t;const s={},{registerTab:a,selectTab:l,selectedTab:c}=B(lh);h(e,c,(e=>n(0,r=e))),a(s);return e.$$set=e=>{"$$scope"in e&&n(4,o=e.$$scope)},[r,s,l,c,o,i,()=>l(s)]}class vh extends we{constructor(e){super(),be(this,e,$h,xh,a,{})}}function bh(e){let t;return{c(){t=N("Area Reports")},m(e,n){k(e,t,n)},d(e){e&&E(t)}}}function wh(e){let t;return{c(){t=N("Topic QA")},m(e,n){k(e,t,n)},d(e){e&&E(t)}}}function kh(e){let t;return{c(){t=N("Word Selection")},m(e,n){k(e,t,n)},d(e){e&&E(t)}}}function Eh(e){let t,n,r,i,o,s;return t=new vh({props:{$$slots:{default:[bh]},$$scope:{ctx:e}}}),r=new vh({props:{$$slots:{default:[wh]},$$scope:{ctx:e}}}),o=new vh({props:{$$slots:{default:[kh]},$$scope:{ctx:e}}}),{c(){ye(t.$$.fragment),n=C(),ye(r.$$.fragment),i=C(),ye(o.$$.fragment)},m(e,a){xe(t,e,a),k(e,n,a),xe(r,e,a),k(e,i,a),xe(o,e,a),s=!0},p(e,n){const i={};1&n&&(i.$$scope={dirty:n,ctx:e}),t.$set(i);const s={};1&n&&(s.$$scope={dirty:n,ctx:e}),r.$set(s);const a={};1&n&&(a.$$scope={dirty:n,ctx:e}),o.$set(a)},i(e){s||(ue(t.$$.fragment,e),ue(r.$$.fragment,e),ue(o.$$.fragment,e),s=!0)},o(e){he(t.$$.fragment,e),he(r.$$.fragment,e),he(o.$$.fragment,e),s=!1},d(e){$e(t,e),e&&E(n),$e(r,e),e&&E(i),$e(o,e)}}}function Mh(e){let t,n;return t=new Mu({}),{c(){ye(t.$$.fragment)},m(e,r){xe(t,e,r),n=!0},i(e){n||(ue(t.$$.fragment,e),n=!0)},o(e){he(t.$$.fragment,e),n=!1},d(e){$e(t,e)}}}function _h(e){let t,n;return t=new rh({}),{c(){ye(t.$$.fragment)},m(e,r){xe(t,e,r),n=!0},i(e){n||(ue(t.$$.fragment,e),n=!0)},o(e){he(t.$$.fragment,e),n=!1},d(e){$e(t,e)}}}function Th(e){let t,n;return t=new sh({}),{c(){ye(t.$$.fragment)},m(e,r){xe(t,e,r),n=!0},i(e){n||(ue(t.$$.fragment,e),n=!0)},o(e){he(t.$$.fragment,e),n=!1},d(e){$e(t,e)}}}function Nh(e){let t,n,r,i,o,s,a,l;return t=new fh({props:{$$slots:{default:[Eh]},$$scope:{ctx:e}}}),r=new yh({props:{$$slots:{default:[Mh]},$$scope:{ctx:e}}}),o=new yh({props:{$$slots:{default:[_h]},$$scope:{ctx:e}}}),a=new yh({props:{$$slots:{default:[Th]},$$scope:{ctx:e}}}),{c(){ye(t.$$.fragment),n=C(),ye(r.$$.fragment),i=C(),ye(o.$$.fragment),s=C(),ye(a.$$.fragment)},m(e,c){xe(t,e,c),k(e,n,c),xe(r,e,c),k(e,i,c),xe(o,e,c),k(e,s,c),xe(a,e,c),l=!0},p(e,n){const i={};1&n&&(i.$$scope={dirty:n,ctx:e}),t.$set(i);const s={};1&n&&(s.$$scope={dirty:n,ctx:e}),r.$set(s);const l={};1&n&&(l.$$scope={dirty:n,ctx:e}),o.$set(l);const c={};1&n&&(c.$$scope={dirty:n,ctx:e}),a.$set(c)},i(e){l||(ue(t.$$.fragment,e),ue(r.$$.fragment,e),ue(o.$$.fragment,e),ue(a.$$.fragment,e),l=!0)},o(e){he(t.$$.fragment,e),he(r.$$.fragment,e),he(o.$$.fragment,e),he(a.$$.fragment,e),l=!1},d(e){$e(t,e),e&&E(n),$e(r,e),e&&E(i),$e(o,e),e&&E(s),$e(a,e)}}}function Ch(e){let t,n,r,i;return t=new Ee({}),r=new uh({props:{$$slots:{default:[Nh]},$$scope:{ctx:e}}}),{c(){ye(t.$$.fragment),n=C(),ye(r.$$.fragment)},m(e,o){xe(t,e,o),k(e,n,o),xe(r,e,o),i=!0},p(e,[t]){const n={};1&t&&(n.$$scope={dirty:t,ctx:e}),r.$set(n)},i(e){i||(ue(t.$$.fragment,e),ue(r.$$.fragment,e),i=!0)},o(e){he(t.$$.fragment,e),he(r.$$.fragment,e),i=!1},d(e){$e(t,e),e&&E(n),$e(r,e)}}}return new class extends we{constructor(e){super(),be(this,e,null,Ch,a,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
